<!DOCTYPE html><html><head><link href="META-INF/resources/webjars/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" /><link href="styles.css" rel="stylesheet" /><link rel="shortcut icon" type="image/png" href="favicon.png" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style>
.scalatex-site-Styles-headerLink{
  color: #777;
  opacity: 0.05;
  text-decoration: none;
}


.scalatex-site-Styles-hoverContainer:hover .scalatex-site-Styles-headerLink{
  color: #777;
  opacity: 0.5;
  text-decoration: none;
}
.scalatex-site-Styles-hoverContainer:hover .scalatex-site-Styles-headerLink:hover{
  opacity: 1.0;
}
.scalatex-site-Styles-hoverContainer:hover .scalatex-site-Styles-headerLink:active{
  opacity: 0.75;
}

.scalatex-site-Styles-content{
  color: #777;
  line-height: 1.6em;
  margin: 0 auto;
  margin-left: auto;
  margin-right: auto;
  max-width: 800px;
  padding: 0 1em;
  padding-bottom: 50px;
}
.scalatex-site-Styles-content *{
  position: relative;
}
.scalatex-site-Styles-content p{
  text-align: justify;
}
.scalatex-site-Styles-content a:link{
  color: #37a;
  text-decoration: none;
}
.scalatex-site-Styles-content a:visited{
  color: #949;
  text-decoration: none;
}
.scalatex-site-Styles-content a:hover{
  text-decoration: underline;
}
.scalatex-site-Styles-content a:active{
  color: #000;
  text-decoration: underline;
}
.scalatex-site-Styles-content code{
  color: #000;
}

/*Workaround for bug in highlight.js IDEA theme*/
span.hljs-tag, span.hljs-symbol{
    background: none;
}
    </style><title>Ammonite</title><script src="scripts.js"></script></head><body><div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27464920-6', 'auto');
  ga('send', 'pageview');
</script>
<a href="https://github.com/lihaoyi/ammonite" style="position: absolute;top: 0px;right: 0px;border: 0;"><img src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" /></a>


<style>
  /* Hacks to make things look better */
  * .hljs-symbol{
    color: #008000;
    font-weight: bold;
    font-style: normal;
  }
  .scalatex-site-Styles-content li{
    margin-bottom: 10px;
  }
</style>
<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Ammonite" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Ammonite<a class=" scalatex-site-Styles-headerLink" href="#Ammonite" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /><h2 style="font-weight: 300;color: #ccc;padding: 0px;margin-top: 0px;">Scala Scripting</h2></div><div class=" scalatex-site-Styles-content">

  <div style="display: flex;align-items: center;flex-direction: column;">
    <i>Version 1.6.8</i>
    <div>
      <a href="https://gitter.im/lihaoyi/Ammonite"><img src="https://badges.gitter.im/Join%20Chat.svg" /></a>
      <span> </span>
      <a href="https://www.patreon.com/lihaoyi"><img src="https://img.shields.io/badge/patreon-sponsor-ff69b4.svg" /></a>
</div></div>
  <p>
    Ammonite lets you use the
    <a href="https://www.scala-lang.org/">Scala language</a> for
    scripting purposes: in the <a href="#Ammonite-REPL">REPL</a>, as
    <a href="#ScalaScripts">scripts</a>, as a <a href="#Ammonite-Ops">library to use in existing projects</a>, or as a standalone
    <a href="#Ammonite-Shell">systems shell</a>.
</p>
  

  <table style="margin-top: 16px;">
    
      <tr>
        <td style="width: 200px;text-align: center;">
          <div style="margin-top: 24px;">
            <i class="fa fa-refresh" aria-hidden="true" style="font-size: 48px;"></i>
</div>
          <h2 style="font-weight: 300;color: #ccc;">
            <a href="#Ammonite-REPL">Ammonite-REPL</a></h2></td>
        <td><p><b>A Modernized Scala REPL</b>.
        With syntax highlighting,
        multi-line editing, the ability to load maven artifacts
        directly in the REPL, and many other quality-of-life
        improvements missing in the default Scala REPL.
        </p></td>
</tr>
      <tr>
        <td style="width: 200px;text-align: center;">
          <div style="margin-top: 24px;">
            <i class="fa fa-file-text-o" aria-hidden="true" style="font-size: 48px;"></i>
</div>
          <h2 style="font-weight: 300;color: #ccc;">
            <a href="#ScalaScripts">Scala Scripts</a></h2></td>
        <td><p><b>Lightweight Programming in Scala</b>.
        Create scripts that you can
        run easily from the command line, without the overhead of
        setting up a &quot;project&quot; or waiting for SBT's slow startup times.
        </p></td>
</tr>
      <tr>
        <td style="width: 200px;text-align: center;">
          <div style="margin-top: 24px;">
            <i class="fa fa-gears" aria-hidden="true" style="font-size: 48px;"></i>
</div>
          <h2 style="font-weight: 300;color: #ccc;">
            <a href="#Ammonite-Ops">Ammonite-Ops</a></h2></td>
        <td><p><b>A Rock-solid Filesystem Library for Scala</b>.
        Deal with the filesystem
        easily from your existing Scala projects or applications, as easily
        as you would from a Bash or Python script.
        </p></td>
</tr>
      <tr>
        <td style="width: 200px;text-align: center;">
          <div style="margin-top: 24px;">
            <i class="fa fa-terminal" aria-hidden="true" style="font-size: 48px;"></i>
</div>
          <h2 style="font-weight: 300;color: #ccc;">
            <a href="#Ammonite-Shell">Ammonite-Shell</a></h2></td>
        <td><p><b>A modern replacement for the Bash system shell</b>.
        Provides a systems shell in the high-level Scala language, letting you
        seamlessly mix system operations with real code without the hassle or
        the frustration of trying to write complex code in Bash.
        </p></td>
</tr></table>
  <p>
    Ammonite is a project by <a href="http://www.lihaoyi.com/">Li Haoyi</a>. If
    you use Ammonite and enjoyed it, please chip in to support our development
    at:
</p>
  <ul>
    <li>
      <a href="https://www.patreon.com/lihaoyi">https://www.patreon.com/lihaoyi</a>

</li></ul>
  <p>
    Any amount will help us develop Ammonite into the best possible REPL and
    script runner for the Scala community!
</p>
  <p>
    The goal of Ammonite is to liberate your Scala code from heavyweight
    &quot;projects&quot;, using the lightweight Ammonite runtime: if you want to run some
    Scala, open the <a href="#Ammonite-REPL">Ammonite-REPL</a> and run it, interactively! If you
    want to run it later, save it into some <a href="#ScalaScripts">Scala Scripts</a> and run
    those later.
</p>
  <p>
    For a video overview of the project and it's motivation, check out this talk:
</p>
  <iframe src="https://player.vimeo.com/video/148552858" style="width: 800px;height: 600px;" frameborder="0" webkitallowfullscreen="1" mozallowfullscreen="1" allowfullscreen="1"></iframe>
  <p>
    If you are already working in Scala,
    you no longer have to drop down to Python or Bash for your scripting needs:
    you can use <a href="#ScalaScripts">Scala Scripts</a> for your scripting needs, and avoid
    the overhead of working in multiple languages.
</p>
  <p>
    Each of the above projects is usable standalone; click on the links to jump
    straight to their docs, or scroll around and browse through the navigation
    bar on the left. If you're wondering what you can do <i>with</i> Ammonite,
    there is an
</p>
  <ul>
    <li>
      <a href="#AmmoniteCookbook">Ammonite Cookbook</a>
</li></ul>
  <p>
    Which contains a bunch of fun things that you can do, whether in the
    interactive <a href="#Ammonite-REPL">Ammonite-REPL</a> or in some <a href="#ScalaScripts">Scala Scripts</a>.
    You can also take a look at how people are using Ammonite in the wild:
</p>
  <ul>
    <li>
      <a href="#IntheWild">In the Wild</a>
</li></ul>
  <p>
    To see what people are doing with it. And there are more talks available
    below:
</p>
  <ul>
    <li>
      <a href="#Talks">Talks</a>
</li></ul>
  <p>
    The bulk of this page describes the latest stable release of Ammonite,
    <code>1.6.8</code>. If you're willing to live on the edge,
    we also publish <a href="#UnstableVersions">Unstable Versions</a> from any commits that get pushed
    or pull-requests that land in the master branch:
</p>
  <ul>
    <li>
      <a href="#UnstableVersions">Unstable Versions</a>
</li></ul>
  
<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Ammonite-REPL" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Ammonite-REPL<a class=" scalatex-site-Styles-headerLink" href="#Ammonite-REPL" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /><h2 style="font-weight: 300;color: #ccc;padding: 0px;margin-top: 0px;">A Modernized Scala REPL</h2></div>

  <p>
    The <b>Ammonite-REPL</b> is an improved Scala REPL, re-implemented from first
    principles. It is much more featureful than the default REPL and comes
    with a lot of <a href="#Features">ergonomic improvements</a> and
    <a href="#Configuration">configurability</a> that may be familiar to
    people coming from IDEs or other REPLs such as <a href="https://ipython.org/">IPython</a> or <a href="http://www.zsh.org/">Zsh</a>.
</p>
  <p>
    It can be combined with <a href="#Ammonite-Ops">Ammonite-Ops</a> to replace Bash as your
    systems shell, but also can be used alone as a <a href="#Features">superior</a> version of the default Scala REPL, or as a
    <a href="#Debugging">debugging tool</a>, or for many other
    <a href="#AmmoniteCookbook">fun and interesting things</a>!

</p>
  <p>
    If you want to use Ammonite as a plain Scala shell, download the standalone
    Ammonite 1.6.8 executable for Scala 2.12 (also
    available for <a href="#OlderScalaVersions">Older Scala Versions</a>):
</p>
  <pre><code class="bash scalatex-site-Styles-highlightMe">$ sudo sh -c '(echo &quot;#!/usr/bin/env sh&quot; &amp;&amp; curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.13-1.6.8) &gt; /usr/local/bin/amm &amp;&amp; chmod +x /usr/local/bin/amm' &amp;&amp; amm
</code></pre>
  <p>
    Or to try out the <a href="#UnstableChangelog">latest features</a> in our
    <a href="#UnstableVersions">Unstable Release</a>
    1.6.8:
</p>
  <pre><code class="bash scalatex-site-Styles-highlightMe">$ sudo sh -c '(echo &quot;#!/usr/bin/env sh&quot; &amp;&amp; curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.13-1.6.8) &gt; /usr/local/bin/amm &amp;&amp; chmod +x /usr/local/bin/amm' &amp;&amp; amm
</code></pre>
  <p>
    Alternatively, on macOS you can install Ammonite via brew:
</p>
  <pre><code class="bash scalatex-site-Styles-highlightMe">$ brew install ammonite-repl  
</code></pre>
  <p>
    This will give you access to the Ammonite-REPL:
</p>
  <img src="GettingStarted.png" style="width: 100%;" />

  <p>
    With <a href="#Pretty-printedoutput">Pretty Printing</a>,
    <a href="#SyntaxHighlighting">Syntax Highlighting</a> for input and output,
    <a href="#import$ivy">Artifact Loading</a> in-REPL, and all the other nice
    <a href="#Features">Features</a>!
</p>
  <p>
    If you want to use Ammonite as a filesystem
    shell, take a look at <a href="#Ammonite-Shell">Ammonite-Shell</a>. If you're not sure what
    to do with Ammonite, check out the <a href="#AmmoniteCookbook">Ammonite Cookbook</a> for some
    fun ideas!
</p>
  <p>
    If you want some initialization code available to the REPL, you can add
    it to your <code>~/.ammonite/predef.sc</code>.</p>
  <p>
    If you have any questions, come hang out on the <a href="#Community">mailing list or gitter channel</a> and get help!

</p>
  <p>
    You can also try out Ammonite 1.6.8 in an existing
    SBT project. To do so, add the following to your <code>build.sbt</code>
</p>
  <pre><code class="scala scalatex-site-Styles-highlightMe">libraryDependencies += {
  val version = scalaBinaryVersion.value match {
    case &quot;2.10&quot; =&gt; &quot;1.0.3&quot;
    case _ â‡’ &quot;1.6.8&quot;
  }
  &quot;com.lihaoyi&quot; % &quot;ammonite&quot; % version % &quot;test&quot; cross CrossVersion.full
}

sourceGenerators in Test += Def.task {
  val file = (sourceManaged in Test).value / &quot;amm.scala&quot;
  IO.write(file, &quot;&quot;&quot;object amm extends App { ammonite.Main.main(args) }&quot;&quot;&quot;)
  Seq(file)
}.taskValue

</code></pre>
  <pre><code class="scala scalatex-site-Styles-highlightMe">// Optional, required for the `source` command to work
(fullClasspath in Test) ++= {
  (updateClassifiers in Test).value
    .configurations
    .find(_.configuration == Test.name)
    .get
    .modules
    .flatMap(_.artifacts)
    .collect{case (a, f) if a.classifier == Some(&quot;sources&quot;) =&gt; f}
}
</code></pre>

  <p>
    Or to try out the <a href="#UnstableChangelog">latest features</a> in our
    <a href="#UnstableVersions">Unstable Release</a>
    1.6.8:
</p>
  <pre><code class="scala scalatex-site-Styles-highlightMe">libraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite&quot; % &quot;1.6.8&quot; % &quot;test&quot; cross CrossVersion.full
</code></pre>
  <p>
    After that, simply hit
</p>
  <code>
    sbt projectName/test:run
</code>
  <p>
    or if there are other main methods in the <code>Test</code> scope
</p>
  <code>
    sbt projectName/test:run-main amm
</code>
  <p>
    To activate the Ammonite REPL
</p>
  <p>
    You can also pass a string to the <code>Main</code> call containing any
    commands or imports you want executed at the start of every run, along
    with <a href="http://www.lihaoyi.com/Ammonite/api/repl/index.html#ammonite.Main">other configuration</a>.
    If you want Ammonite to be available in all projects, simply add the
    above snippet to a new file <code>~/.sbt/0.13/global.sbt</code>.
</p>
  <p>
    Note: Ammonite-REPL does <i>not</i> support Windows, even though
    <a href="#Ammonite-Ops">Ammonite-Ops</a> does. See <a href="https://github.com/lihaoyi/Ammonite/issues/119">#119</a> if you are interested
    in details or want to try your hand at making it work.
</p>
  <h1 id="Features" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Features" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Features</h1>
    <p>
      Ammonite-REPL supports many more features than the default REPL, including:
</p>
    <h2 id="Pretty-printedoutput" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Pretty-printedoutput" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Pretty-printed output</h2>

      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ Seq.fill(10)(Seq.fill(3)(&quot;Foo&quot;))
res0: Seq[Seq[String]] = List(
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;)
)

@ case class Foo(i: Int, s0: String, s1: Seq[String])
defined class Foo

@ Foo(1, &quot;&quot;, Nil)
res2: Foo = Foo(1, &quot;&quot;, List())

@ Foo(
@   1234567,
@   &quot;I am a cow, hear me moo&quot;,
@   Seq(&quot;I weigh twice as much as you&quot;, &quot;and I look good on the barbecue&quot;)
@ )
res3: Foo = Foo(
  1234567,
  &quot;I am a cow, hear me moo&quot;,
  List(&quot;I weigh twice as much as you&quot;, &quot;and I look good on the barbecue&quot;)
)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/AdvancedTests.scala#L14-L44" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Ammonite-REPL uses <a href="https://lihaoyi.github.io/upickle-pprint/pprint/">PPrint</a> to display its output by default. That means that everything is nicely formatted to fit within the width of the terminal, and is copy-paste-able!
</p>
      <p>
        By default, Ammonite <a href="#ConfigurableTruncation">truncates</a>
        the pretty-printed output to avoid flooding your terminal. If you want
        to disable truncation, call <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">show(...)</code> on your expression to
        pretty-print it's full output. You can also pass in an optional
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">height = ...</code> parameter to control how much you want to show
        before truncation.
</p>
      <h3 id="ConfigurableTruncation" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ConfigurableTruncation" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Configurable Truncation</h3>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ Seq.fill(20)(100)
res0: Seq[Int] = List(
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
...

@ show(Seq.fill(20)(100))
res1: ammonite.pprint.Show[Seq[Int]] = List(
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100
)

@ show(Seq.fill(20)(100), height = 3)
res2: ammonite.pprint.Show[Seq[Int]] = List(
  100,
  100,
...

@ repl.pprinter() = repl.pprinter().copy(defaultHeight = 5)

@ Seq.fill(20)(100)
res4: Seq[Int] = List(
  100,
  100,
  100,
  100,
...</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/AdvancedTests.scala#L184-L241" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          Ammonite-REPL intelligently truncates your output when it's beyond a
          certain size. You can request for the full output to be printed
          on-demand, print a certain number of lines, or even change the implicit
          <code>pprintConfig</code> so subsequent lines all use your new configuration.
</p>
    <h2 id="Editing" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Editing" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Editing</h2>
      <p>
        Ammonite by default ships with a custom implementation of readline, which
        provides...
</p>
      <h3 id="SyntaxHighlighting" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#SyntaxHighlighting" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Syntax Highlighting</h3>
        <img src="Highlighting.png" style="width: 100%;" />
        <p>
          Ammonite syntax highlights both the code you're entering as well as any
          output being echoed in response. This should make it much easier to
          work with larger snippets of input.</p>
        <p>
          All colors are configurable, and you can easily turn off colors entirely
          via the <a href="#Configuration">Configuration</a>.</p>
        <p>
          Stack traces are similarly highlighted, for easier reading:
</p>
        <img src="ColoredTraces.png" style="width: 100%;" />
      <h3 id="Multi-lineediting" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Multi-lineediting" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Multi-line editing</h3>

        <p>
          You can use the <b>Up</b> and <b>Down</b> arrows to navigate between lines
          within your snippet. <code>Enter</code> only executes the code when you're
          on the last line of a multi-line snippet, meaning you can take your
          time, space out your code nicely, and fix any mistakes anywhere in your
          snippet. History is multi-line too, meaning re-running a multi-line
          snippet is trivial, even with tweaks.
</p>
        <p>
          Long gone are the days where you're desperately trying to cram
          everything in a single line, or curse quietly when you notice a mistake
          in an earlier line you are no longer able to fix. No more painstakingly
          crafting a multi-line snippet, and then having to painstakingly fish it
          line by individual line out of the history so you can run it again!
</p>
      <h3 id="Desktopkey-bindings" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Desktopkey-bindings" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Desktop key-bindings</h3>
        <img src="Editing.gif" style="display: block;margin-left: auto;margin-right: auto;height: 172px;" />
        <p>
          You can use <b>Alt-Left</b>/<b>Right</b> to move forward/backwards by one
          word at a time or hold down <b>Shift</b> to select text to delete. These
          compose as you'd be used to: e.g. <b>Shift-Up</b> selects all the text
          between your current cursor and the same column one row up.
</p>
        <p>
          <code>Tab</code> and <code>Shift-Tab</code> now work to block-indent and -dedent
          sections of code, as you'd expect in any desktop editor like Sublime
          Text or IntelliJ. This further enhances the multi-line editing
          experience, letting your nicely lay-out your more-complex REPL commands
          the same way you'd format code in any other editor.
</p>
      <h3 id="Consolekey-bindings" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Consolekey-bindings" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Console key-bindings</h3>
        <p>
          All the readline-style navigation hotkeys like <b>Ctrl-W</b> to delete a
          word or <b>Esc-Left</b>/<b>Right</b> to navigate one word left/right still
          work. If you're comfortable with consoles like Bash, Python, IPython or
          even the default Scala console, you should have no trouble as all the
          exact same hotkeys work in Ammonite
</p>
      <h3 id="HistorySearch" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#HistorySearch" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>History Search</h3>

        <img src="HistorySearch.gif" style="width: 445px;margin-right: auto;margin-left: auto;display: block;" />

        <p>
          Apart from browsing your command-line history with <code>UP</code>, you can
          also perform a history search by entering some search term and <i>then</i>
          pressing <code>UP</code>. That will pull up the most recent history line with
          that term in it, underlined. You can continue to press <code>UP</code> or
          <code>DOWN</code> to cycle through the matches, or <code>Backspace</code> or
          continue typing characters to refine your search to what you want.</p>
        <p>
          You can press <code>TAB</code>, or any other command character (<code>LEFT</code>,
          <code>RIGHT</code>, ...) to end the search and let you continue working with
          the currently-displayed command. Pressing <code>ENTER</code> will end the
          search and immediately submit the command to be run.</p>
        <p>
          You can also kick off a history search using <code>Ctrl-R</code>, and use
          <code>Ctrl-R</code> to cycle through the matches.
</p>
      <h3 id="BlockInput" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#BlockInput" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Block Input</h3>
        <p>
          To enter block input (many independent lines all at once) into the
          Ammonite-REPL, simply wrap the multiple lines in curly braces
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">{ ... }</code>, and Ammonite will wait until you close it before
          evaluating the contents:
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ {
@   val x = 1
@   val y = 2
@   x + y
@ }
x: Int = 1
y: Int = 2
res0_2: Int = 3</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/AdvancedTests.scala#L161-L169" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          As you can see, the contents of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">{ ... }</code> block are
          unwrapped and evaluated as top-level statements. You can use this to
          e.g. declare mutually recursive functions or classes &amp;
          companion-objects without being forced to squeeze everything onto a
          single line.
</p>
        <p>
          If you don't want this un-wrapping behavior, simply add another set of
          curlies and the block will be evaluated as a normal block, to a single
          expression:
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ {{
@   val x = 1
@   val y = 2
@   x + y
@ }}
res0: Int = 3</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/AdvancedTests.scala#L173-L179" target="_blank"><i class="fa fa-link "></i></a></pre>

      <h3 id="Undo&amp;Redo" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Undo&amp;Redo" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Undo &amp; Redo</h3>
        <img src="UndoRedo.gif" style="display: block;margin-left: auto;margin-right: auto;height: 154px;" />
        <p>
          The Ammonite command-line editor allows you to undo and re-do portions
          of your edits:</p>
        <ul>
          <li>
            <code>Ctrl -</code>: Undo last change</li>
          <li>
            <code>Alt/Esc -</code>: Redo last change
</li></ul>
        <p>
          Each block of typing, deletes, or navigation counts as one undo. This
          should make it much more convenient to recover from botched copy-pastes
          or bulk-deletions.

</p>
    <h2 id="MagicImports" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#MagicImports" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Magic Imports</h2>
      <p>
        Ammonite provides a set of magic imports that let you load additional
        code into a REPL session: these are imports which start with a <code>$</code>,
        and are *top-level* inside the REPL command or your
        <a href="#ScalaScripts">Scala Scripts</a>.
</p>
      <h3 id="import$file" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#import$file" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>import $file</h3>
        <p>
          This lets you load <a href="#ScalaScripts">Scala Scripts</a> into the REPL. For
          example given a small script defining one value we want</p>
        <pre><code class="scala scalatex-site-Styles-highlightMe">// MyScript.sc
val elite = 31337
</code></pre>
        <p>
          We can load it into our REPL session using:
</p>
        <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $file.MyScript

@ MyScript.elite
res1: Int = 31337
</code></pre>
        <p>
          If the script is in a sub-folder, simply use:
</p>
        <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $file.myfolder.MyScript
</code></pre>
        <p>
          Or if the script is in an <i>outer</i> folder,
</p>
        <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $file.^.MyScript
</code></pre>
        <p>
          Or if we want to import the contents of the script in one go:
</p>
        <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $file.MyScript, MyScript._
import $file.$

@ elite
res1: Int = 31337
</code></pre>
        <p>
          While this is a trivial example, your <code>MyScript.sc</code> file can
          contain anything you want, not just <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">val</code>s: function
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">def</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">class</code>es <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">object</code>s or
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">trait</code>s, or imports from <i>other</i> scripts. For more
          documentation on how these scripts work, check out the
          <a href="#ScalaScripts">Scala Scripts</a> section.
</p>
        <p>
          There are some subtleties when dealing with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">$file</code> imports
          that are worth remembering</p>
        <ul>
          <li>
            <a href="#ImportedScriptsareRe-used">Imported Scripts are Re-used</a></li>
          <li>
            <a href="#CannotdirectlyimportfrominsideaScript">Cannot directly import from inside a Script</a></li>
          <li>
            <a href="#Renamed-scriptsandmultiple-scripts">Renamed-scripts and multiple-scripts</a>
</li></ul>
        <p>
          Note you can also perform file imports from your
          <a href="#Configuration">predef file</a>, which are resolved relative to
          that file's path. This is useful if your predef is large and you want to
          break it up into multiple files.
</p>
        <h4 id="ImportedScriptsareRe-used" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ImportedScriptsareRe-used" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Imported Scripts are Re-used</h4>
          <p>
            Note that script files imported multiple times are re-used; even if
            the same script is imported multiple times, it will only be compiled
            once, and its top-level definitions or statements will only be
            evaluated once. If you want to run code over and over, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">def</code>
            a function in the script you are importing and you can call it
            repeatedly.</p>
          <p>
            If you want to re-load a script, you should use Ammonite's
            <a href="#Save/LoadSession">Save/Load Session</a> functionality to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">sess.save()</code>
            the session before importing the script, and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">sess.load()</code>ing
            to reset the script before re-<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import</code>ing it.
</p>
        <h4 id="CannotdirectlyimportfrominsideaScript" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#CannotdirectlyimportfrominsideaScript" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Cannot directly import from inside a Script</h4>
          <p>
             You cannot import things from &quot;inside&quot; that script in</p>
            one chain:

          <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $file.MyScript._
</code></pre>
          <p>
            Rather, you must always import the script-object first, and then import
            things from the script object after:
</p>
          <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $file.MyScript, MyScript._
</code></pre>
        <h4 id="Renamed-scriptsandmultiple-scripts" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Renamed-scriptsandmultiple-scripts" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Renamed-scripts and multiple-scripts</h4>

          <p>
            You can re-name scripts on-import if you find their names are
            colliding:
</p>
          <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $file.{MyScript =&gt; FooBarScript}, FooBarScript._
</code></pre>
          <p>
            Or import multiple scripts at once
</p>
          <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $file.{MyScript, MyOtherScript}
</code></pre>
          <p>
            These behave as you would expect imports to work. Note that when
            importing multiple scripts, you have to name them explicitly and
            cannot use wildcard `._` imports:
</p>
          <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $file._ // doesn't work
</code></pre>
      <h3 id="import$exec" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#import$exec" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>import $exec</h3>
        <p>
          This is similar to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file</code>, except that it dumps the
          definitions and imports from the script into your REPL session. This is
          useful if you are using a script to hold a set of common imports:
          using <a href="#import$file">import $file</a> to import a script doesn't propagate
          imports from that script into your REPL.
</p>
        <p>
          Alternatively, this is also useful if you want to split up your
          <code>~/.ammonite/predef.sc</code> file into multiple scripts: e.g. if you
          want to break up your <code>predef.sc</code> into two scripts
          <code>~/.ammonite/predef.sc</code> and <code>~/.ammonite/helper.sc</code>. While
          you could use <a href="#import$file">import $file</a> to
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file.helper</code> within your <code>predef.sc</code> file, it
          will only bring the <code>helper</code> object into scope within
          <code>predef.sc</code> or within your REPL. <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $exec.helper</code>
          will properly &quot;dump&quot; all the definitions from <code>helper.sc</code> into
          your local scope, which is often what you want when dealing with
          predef files.
</p>
        <p>
          See the docs for <a href="#ScalaScripts">Scala Scripts</a> for more on how script
          files work in general.
</p>
      <h3 id="import$ivy" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#import$ivy" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>import $ivy</h3>
        <p>
          Lets you import Ivy dependencies from Maven Central, or anywhere else.
          For example, here is loading <a href="https://github.com/scalaz/scalaz">Scalaz</a> and using it in the Ammonite-REPL:
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ import $ivy.`org.scalaz::scalaz-core:7.2.27`, scalaz._, Scalaz._

@ (Option(1) |@| Option(2))(_ + _)
res1: Option[Int] = Some(3)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/ProjectTests.scala#L115-L119" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          Note that the different portions of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">$ivy</code> import are
          in a <code>org::library:version</code> format; the <code>::</code> is used to represent
          Scala dependencies, similar to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> in SBT's dependency syntax.
          If you want Java dependencies, you can load them using the
          <code>org:library:version</code> format, e.g. here we load the
          <a href="https://github.com/google/guava">Google Guava</a> Java library
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ import $ivy.`com.google.guava:guava:18.0`, com.google.common.collect._

@ val bimap = ImmutableBiMap.of(1, &quot;one&quot;, 2, &quot;two&quot;, 3, &quot;three&quot;)

@ bimap.get(1)
res2: String = &quot;one&quot;

@ bimap.inverse.get(&quot;two&quot;)
res3: Int = 2</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/ProjectTests.scala#L129-L138" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          As well as the <code>org:::library:version</code> syntax for loading Scala
          libraries cross-published against the full Scala version (e.g.
          <code>2.12.2</code> rather than just <code>2.12</code>):
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ import org.scalamacros.paradise.Settings._
error: object scalamacros is not a member of package org

@ import $ivy.`org.scalamacros:::paradise:2.1.0`, org.scalamacros.paradise.Settings._

@ boolSetting(&quot;key&quot;).value
res1: Boolean = false</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/ImportHookTests.scala#L115-L122" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          If you want to load a compiler plugin, you can do so using
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $plugin.$ivy</code>:
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ // Compiler plugins imported without `.$plugin` are not loaded

@ import $ivy.`org.spire-math::kind-projector:0.6.3`

@ trait TC0[F[_]]
defined trait TC0

@ type TC0EitherStr = TC0[Either[String, ?]]
error: not found: type ?

@ // You need to use `import $plugin.$ivy`

@ import $plugin.$ivy.`org.spire-math::kind-projector:0.6.3`

@ trait TC[F[_]]
defined trait TC

@ type TCEitherStr = TC[Either[String, ?]]
defined type TCEitherStr

@ // Importing plugins doesn't affect the run-time classpath

@ import $plugin.$ivy.`com.lihaoyi::scalatags:0.7.0`

@ import scalatags.Text
error: not found: value scalatags</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/AdvancedTests.scala#L294-L320" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          This makes Ammonite ideal for trying out new libraries or tools. You
          can pull down projects like <a href="https://github.com/scalaz/scalaz">Scalaz</a> or <a href="https://github.com/milessabin/shapeless">Shapeless</a> and immediately start
          working with them in the REPL:
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ import $ivy.`com.chuusai::shapeless:2.3.3`, shapeless._

@ (1 :: &quot;lol&quot; :: List(1, 2, 3) :: HNil)
res1: Int :: String :: List[Int] :: HNil = 1 :: &quot;lol&quot; :: List(1, 2, 3) :: HNil

@ res1(1)
res2: String = &quot;lol&quot;

@ import shapeless.syntax.singleton._

@ 2.narrow
res4: 2 = 2</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/ProjectTests.scala#L98-L110" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          Even non-trivial web frameworks like Finagle or Akka-HTTP can be
          simply pulled down and run in the REPL!
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ import $ivy.`com.twitter::finagle-httpx:6.26.0`

@ import com.twitter.finagle._, com.twitter.util._

@ var serverCount = 0

@ var clientResponse = 0

@ val service = new Service[httpx.Request, httpx.Response] {
@   def apply(req: httpx.Request): Future[httpx.Response] = {
@     serverCount += 1
@     Future.value(
@       httpx.Response(req.version, httpx.Status.Ok)
@     )
@   }
@ }

@ val server = Httpx.serve(&quot;:8080&quot;, service)

@ val client: Service[httpx.Request, httpx.Response] = Httpx.newService(&quot;:8080&quot;)

@ val request = httpx.Request(httpx.Method.Get, &quot;/&quot;)

@ request.host = &quot;www.scala-lang.org&quot;

@ val response: Future[httpx.Response] = client(request)

@ response.onSuccess { resp: httpx.Response =&gt;
@   clientResponse = resp.getStatusCode
@ }

@ Await.ready(response)

@ serverCount
res12: Int = 1

@ clientResponse
res13: Int = 200

@ server.close()</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/ProjectTests.scala#L174-L214" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          Ammonite-REPL is configured with a set of default resolvers but you
          can add your own using
          <a href="https://github.com/coursier/coursier#api-1">Coursier's Repository APIs</a>
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ import $ivy.`com.ambiata::mundane:1.2.1-20141230225616-50fc792`
error: Failed to resolve ivy dependencies

@ interp.repositories() ++= Seq(coursier.ivy.IvyRepository.fromPattern(
@   &quot;https://ambiata-oss.s3-ap-southeast-2.amazonaws.com/&quot; +:
@   coursier.ivy.Pattern.default
@ ))

@ import $ivy.`com.ambiata::mundane:1.2.1-20141230225616-50fc792`

@ import com.ambiata.mundane._</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/ProjectTests.scala#L71-L82" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          Including repositories which need authentication:
</p>
        <pre><code class="scala scalatex-site-Styles-highlightMe">import coursier.core.Authentication, coursier.MavenRepository

interp.repositories() ++= Seq(MavenRepository(
  &quot;https://nexus.corp.com/content/repositories/releases&quot;,
  authentication = Some(Authentication(&quot;user&quot;, &quot;pass&quot;))
))
</code></pre>
        <p>
          If you need more detailed control over what you are importing, e.g.
          with attributes, classifiers or exclusions, you can fall back to
          using the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">interp.load.ivy(deps: coursier.Dependency*)</code>
          function and configure each <code>Dependency</code> to your heart's content:
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ import os._

@ interp.load.module($printedScriptPath/&quot;loadIvyAdvanced.sc&quot;)

@ serializer</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/scala/ammonite/session/ScriptTests.scala#L340-L345" target="_blank"><i class="fa fa-link "></i></a></pre>

    <h2 id="Builtins" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Builtins" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Builtins</h2>
      <p>
        The Ammonite REPL contains a bunch of built-in imports and definitions by
        default. This includes:
</p>
      <ul>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl</code>: the object representing the Repl API, aliased as
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl</code>. This allows you (e.g. <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl.history</code>)
          and you can use autocomplete or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">typeOf</code> on the
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl</code> object to see what is available.</li>
        <li>
          <a href="#Utilities">Utilities</a>: tools such as <a href="#time">time</a>, <a href="#grep">grep</a>
          or <a href="#browse">browse</a> that are independent from the REPL, but are
          extremely useful to have in it.
</li></ul>
      <p>
        All of these are imported by default into any Ammonite REPL, in order to
        provide a rich and consistent REPL experience. If you want to disable
        these imports and run the REPL with a clean namespace (with only the core
        implicits needed for result pretty-printing/type-printing to work) pass
        in <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">defaultPredef = false</code> to the REPL's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Main</code> API or
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">--no-default-predef</code> to the REPL from the command-line.
</p>
      <h3 id="ReplAPI" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ReplAPI" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Repl API</h3>
        <p>
          Ammonite contains a range of useful built-ins implemented as normal
          functions on the <code>repl</code> and <code>interp</code> objects, e.g.
          <code>repl.history</code>, <code>repl.width</code>, <code>repl.frontEnd()</code> to
          change the front-end terminal implementation, etc.:
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">trait ReplAPI {



  /**
   * Read/writable prompt for the shell. Use this to change the
   * REPL prompt at any time!
   */
  val prompt: Ref[String]
  /**
   * The front-end REPL used to take user input. Modifiable!
   */
  val frontEnd: Ref[FrontEnd]

  /**
   * Display help text if you don't know how to use the REPL
   */
  def help: String

  /**
    * The last exception that was thrown in the REPL; `null` if nothing has
    * yet been thrown. Useful if you want additional information from the
    * thrown exception than the printed stack trace (e.g. many exceptions have
    * additional metadata attached) or if you want to show the stack trace
    * on an exception that doesn't normally print it (e.g. seeing the stack
    * when a Ctrl-C interrupt happened) via `lastException.printStackTrace`.
    */
  def lastException: Throwable
  /**
   * History of commands that have been entered into the shell, including
   * previous sessions
   */
  def fullHistory: History

  /**
   * History of commands that have been entered into the shell during the
   * current session
   */
  def history: History

  /**
   * Get the `Type` object of [[T]]. Useful for finding
   * what its methods are and what you can do with it
   */
  def typeOf[T: WeakTypeTag]: Type

  /**
   * Get the `Type` object representing the type of `t`. Useful
   * for finding what its methods are and what you can do with it
   *
   */
  def typeOf[T: WeakTypeTag](t: =&gt; T): Type

  /**
   * Throw away the current scala.tools.nsc.Global and get a new one
   */
  def newCompiler(): Unit

  /**
   * Access the compiler to do crazy things if you really want to!
   */
  def compiler: scala.tools.nsc.Global

  /**
    * Access the presentation compiler to do even crazier things if you really want to!
    */
  def interactiveCompiler: scala.tools.nsc.interactive.Global

  /**
   * Shows all imports added that bring values into scope for the commands a
   * user runs; *includes* imports from the built-in predef and user predef files
   */
  def fullImports: Imports

  /**
   * Shows the imports added to scope by the commands a user has entered so far;
   * *excludes* imports from the built-in predef and user predef files
   */
  def imports: Imports

  /**
    * If class wrapping is enabled, this lists the names of the previous commands
    * that the current commands actually references (as told by the scalac).
    *
    * E.g. in a session like
    * ```
    * @ val n = 2
    * n: Int = 2
    *
    * @ val p = 1
    * p: Int = 1
    *
    * @ n + p
    * res2: Int = 3
    * ```
    * this would have returned an empty list if called from the same line as `val n = 2`
    * or `val p = 1`. This would have returned `Seq(&quot;cmd0&quot;, &quot;cmd1&quot;)` if called
    * from the same line as `n + p`, as both `cmd0`, that defines `n`, and `cmd1`, that
    * defines `p`, are referenced from this line.
    */
  def usedEarlierDefinitions: Seq[String]

  /**
   * Controls how things are pretty-printed in the REPL. Feel free
   * to shadow this with your own definition to change how things look
   */
  implicit def tprintColorsImplicit: pprint.TPrintColors

  implicit def codeColorsImplicit: CodeColors

  val pprinter: Ref[pprint.PPrinter]

  implicit def pprinterImplicit = pprinter()

  /**
   * Current width of the terminal
   */
  def width: Int
  /**
   * Current height of the terminal
   */
  def height: Int

  def show(t: Any): Unit
  /**
   * Lets you configure the pretty-printing of a value. By default, it simply
   * disables truncation and prints the entire thing, but you can set other
   * parameters as well if you want.
   */

  def show(t: Any,
           width: Integer = null,
           height: Integer = null,
           indent: Integer = null): Unit
  /**
    * Functions that can be used to manipulate the current REPL session:
    * check-pointing progress, reverting to earlier checkpoints, or deleting
    * checkpoints by name.
    *
    * Frames get pushed on a stack; by default, a saved frame is
    * accessible simply by calling `load`. If you provide a name
    * when `save`ing a checkpoint, it can later be `load`ed directly
    * by providing the same name to `load`
    *
    * Un-named checkpoints are garbage collected, together with their
    * classloader and associated data, when they are no longer accessible
    * due to `restore`. Named checkpoints are kept forever; call `delete`
    * on them if you really want them to go away.
    */
  def sess: Session

  def load: ReplLoad

  def clipboard: Clipboard
}
trait ReplLoad{
  /**
    * Loads a command into the REPL and
    * evaluates them one after another
    */
  def apply(line: String): Unit

  /**
    * Loads and executes the scriptfile on the specified path.
    * Compilation units separated by `@\n` are evaluated sequentially.
    * If an error happens it prints an error message to the console.
    */
  def exec(path: os.Path): Unit

}
trait Session{
  /**
    * The current stack of frames
    */
  def frames: List[Frame]
  /**
    * Checkpoints your current work, placing all future work into its own
    * frames. If a name is provided, it can be used to quickly recover
    * that checkpoint later.
    */
  def save(name: String = &quot;&quot;): Unit

  /**
    * Discards the last frames, effectively reverting your session to
    * the last `save`-ed checkpoint. If a name is provided, it instead reverts
    * your session to the checkpoint with that name.
    */
  def load(name: String = &quot;&quot;): SessionChanged

  /**
    * Resets you to the last save point. If you pass in `num`, it resets
    * you to that many savepoints since the last one.
    */
  def pop(num: Int = 1): SessionChanged
  /**
    * Deletes a named checkpoint, allowing it to be garbage collected if it
    * is no longer accessible.
    */
  def delete(name: String): Unit
}
trait Clipboard{
  /**
    * Reads contents from the system clipboard.
    * @return System clipboard contents if they are readable as `String`,
    *         empty string otherwise.
    */
  def read: String
  /**
    * Sets the contents of the system clipboard.
    *
    * @param data New contents for the clipboard.
    */
  def write(data: Internals.Writable): Unit
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/main/scala/ammonite/repl/ReplAPI.scala#L11-L225" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          All of these are available as part of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl</code> object
          which is imported in scope by default. Additional
          functionality available under the <code>interp</code> object, which is also
          available in scripts:
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">trait InterpAPI {
  /**
    * When running a script in `--watch` mode, re-run the main script if this
    * file changes. By default, this happens for all script files, but you can
    * call this to watch arbitrary files your script may depend on
    */
  def watch(p: os.Path): Unit

  /**
    * The colors that will be used to render the Ammonite REPL in the terminal,
    * or for rendering miscellaneous info messages when running scripts.
    */
  val colors: Ref[Colors]

  /**
   * Tools related to loading external scripts and code into the REPL
   */
  def load: InterpLoad

  /**
   * resolvers to use when loading jars
   */
  def repositories: Ref[List[coursier.Repository]]

  /**
    * Functions that will be chained and called on the coursier
    * Fetch object right before they are run
    */
  val resolutionHooks: mutable.Buffer[
    coursier.Fetch[Task] =&gt; coursier.Fetch[Task]
  ]

  /**
    * Exit the Ammonite REPL. You can also use Ctrl-D to exit
    */
  def exit = throw AmmoniteExit(())
  /**
    * Exit the Ammonite REPL. You can also use Ctrl-D to exit
    */
  def exit(value: Any) = throw AmmoniteExit(value)
  /**
    * Functions that will be chained and called on the
    * exitValue before the repl exits
    */
  val beforeExitHooks: mutable.Buffer[Any =&gt; Any]
  /**
    * Configures the current compiler, or if the compiler hasn't been initialized
    * yet, registers the configuration callback and applies it to the compiler
    * when it ends up being initialized later
    */
  def configureCompiler(c: scala.tools.nsc.Global =&gt; Unit): Unit

  /**
    * Pre-configures the next compiler. Useful for tuning options that are
    * used during parsing such as -Yrangepos
    */
  def preConfigureCompiler(c: scala.tools.nsc.Settings =&gt; Unit): Unit
}


trait LoadJar {

  /**
   * Load a `.jar` file or directory into your JVM classpath
   */
  def cp(jar: os.Path): Unit
  /**
    * Load a `.jar` from a URL into your JVM classpath
    */
  def cp(jar: java.net.URL): Unit
  /**
   * Load one or more `.jar` files or directories into your JVM classpath
   */
  def cp(jars: Seq[os.Path]): Unit
  /**
   * Load a library from its maven/ivy coordinates
   */
  def ivy(coordinates: coursier.Dependency*): Unit
}

trait InterpLoad extends LoadJar{

  def module(path: os.Path): Unit

  def plugin: LoadJar

}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/interp/src/main/scala/ammonite/interp/InterpAPI.scala#L13-L100" target="_blank"><i class="fa fa-link "></i></a></pre>

      <h3 id="Utilities" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Utilities" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Utilities</h3>
        <p>
          Apart from the core <a href="#Builtins">Builtins</a> of the REPL, the Ammonite REPL
          also includes many helpers that are not strictly necessarily but are
          very useful in almost all REPL sessions. Here are a few of them
</p>
        <ul>
          <li>
            <a href="#source">source</a></li>
          <li>
            <a href="#time">time</a></li>
          <li>
            <a href="#grep">grep</a></li>
          <li>
            <a href="#browse">browse</a></li>
          <li>
            <a href="#desugar">desugar</a>
</li></ul>
        <p>
          The REPL also imports the <a href="#Extensions">pipe-operators</a>
          from Ammonite-Ops by default to make it easy for you to use tools like
          <a href="#grep">grep</a> interactively, and imports all the <a href="#Builtins">Builtins</a>
          from the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl</code>.
</p>
        <p>
          These tools are useful but not strictly necessary;
</p>
        <h4 id="source" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#source" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>source</h4>
          <img src="Source.gif" style="display: block;margin-left: auto;margin-right: auto;height: 364px;" />

          <p>
            Ammonite provides the <code>src</code> built-in, which lets you easily
            peek at the source code of various functions or classes. You can
            use this to read their doc-comments or inspect their implementation,
            to help you figure out how to use them.
</p>
          <p>
            <code>src</code> accepts two kinda of inputs:
</p>
          <ul>
            <li>
              A method call <code>foo.bar(...)</code>, in which case it will try to
              bring you to concrete implementation of that method <code>bar</code>.
              You can also leave the method arguments empty using `_`.</li>
            <li>
              An arbitrary expression <code>foo</code>, in which case it will try to
              bring you to the implementation of <code>foo</code>'s runtime class
</li></ul>
          <p>
            <code>src</code> works on both Scala and Java APIs, both the standard
            library as well as third-party dependencies. <code>src</code> opens source
            files using the <code>less</code> pager by default; if you wish to change
            this, you can pass in a replacement command as a second argument
            e.g. <code>src(..., &quot;vim&quot;)</code> or e.g. <code>src(..., Seq(&quot;vim&quot;, &quot;--flag&quot;))</code>
</p>
          <p>
            When used within a SBT project <code>src</code> requires the following
            SBT setting in order to make the source code of third-party
            dependencies available:
</p>
          <pre><code class="scala scalatex-site-Styles-highlightMe">// Optional, required for the `source` command to work
(fullClasspath in Test) ++= {
  (updateClassifiers in Test).value
    .configurations
    .find(_.configuration == Test.name)
    .get
    .modules
    .flatMap(_.artifacts)
    .collect{case (a, f) if a.classifier == Some(&quot;sources&quot;) =&gt; f}
}
</code></pre>

          <p>
            Ammonite also automatically downloads the source jars of any
            libraries you import via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $ivy</code>, and makes them
            browsable via <code>src</code>.
</p>
          <p>
            <code>src</code> is experimental: it may not always be able to find the
            source code of a particular method or class, and the source
            location it brings you to may be a few lines away from the source
            you really want. Furthermore, <code>src</code> also does not find sources
            that are within your own local scripts or SBT project: you likely
            already have access to those via your text editor anyway.
</p>
          <p>
            Nevertheless, it should work in the bulk of cases,
            so try it out and come by the
            <a href="https://gitter.im/lihaoyi/Ammonite">Gitter Channel</a> if you
            face any issues!
</p>
        <h4 id="time" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#time" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>time</h4>
          <div><pre><span style="color: #8e44ad;">
bash$ </span>time ls -a
.
..
amm
appveyor.yml
build.sbt
build.sc
ci
deploy_key
fail.txt
.git
.gitignore
integration
internals-docs
LICENSE
ops
out
project
readme
readme.md
shell
sshd
terminal
.travis.yml

real	0m0.002s
user	0m0.000s
sys	0m0.000s</pre><pre><span style="color: #2980b9;">Compiling /home/travis/build/lihaoyi/Ammonite/shell/src/main/resources/ammonite/shell/example-predef-bare.sc</span><span>
</span><span style="color: #2980b9;">Compiling /home/travis/build/lihaoyi/Ammonite/shell/src/main/resources/ammonite/shell/example-predef-bare.sc #2</span><span>
Welcome to the Ammonite Repl 1.6.8
(Scala 2.13.0 Java 1.8.0_151)
If you like Ammonite, please support our development at www.patreon.com/lihaoyi
</span><span style="color: #8e44ad;">@ </span><span>time{ls!} 
</span><span style="color: #16a085;">res0</span><span>: (</span><span style="color: #27ae60;">LsSeq</span><span>, </span><span style="color: #27ae60;">concurrent</span><span>.</span><span style="color: #27ae60;">duration</span><span>.</span><span style="color: #27ae60;">FiniteDuration</span><span>) = (
  
</span><span style="color: #27ae60;">&quot;.git&quot;</span><span>              </span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span>         </span><span style="color: #27ae60;">&quot;internals-docs&quot;</span><span>    </span><span style="color: #27ae60;">'shell</span><span>
</span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span>        </span><span style="color: #27ae60;">&quot;build.sc&quot;</span><span>          </span><span style="color: #27ae60;">'ops</span><span>                </span><span style="color: #27ae60;">'sshd</span><span>
</span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span>       </span><span style="color: #27ae60;">'ci</span><span>                 </span><span style="color: #27ae60;">'out</span><span>                </span><span style="color: #27ae60;">'target</span><span>
</span><span style="color: #27ae60;">'LICENSE</span><span>            </span><span style="color: #27ae60;">'deploy_key</span><span>         </span><span style="color: #27ae60;">'project</span><span>            </span><span style="color: #27ae60;">'terminal</span><span>
</span><span style="color: #27ae60;">'amm</span><span>                </span><span style="color: #27ae60;">&quot;fail.txt&quot;</span><span>          </span><span style="color: #27ae60;">'readme</span><span>
</span><span style="color: #27ae60;">&quot;appveyor.yml&quot;</span><span>      </span><span style="color: #27ae60;">'integration</span><span>        </span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span>
,
  14409641 nanoseconds
)
</span></pre></div>

          <p>
            Just as bash provides a <code>time</code> command that you can use to see
            how long a command took to run, Ammonite-Shell provides a
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">time</code> function which serves the same purpose.</p>
          <p>
            While the bash version spits out the time in an ad-hoc table format,
            stuck together with the output of the command, Ammonite-Shell's
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">time</code> instead returns a tuple containing the expression
            that was evaluated, and the time taken to evaluate it.
</p>
        <h4 id="grep" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#grep" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>grep</h4>
          <div><pre><span style="color: #8e44ad;">
bash$ </span>ls -a . | grep re
.gitignore
readme
readme.md</pre><pre><span style="color: #8e44ad;">@ </span><span>ls! wd || grep! </span><span style="color: #27ae60;">&quot;re&quot;</span><span> 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Seq</span><span>[</span><span style="color: #27ae60;">GrepResult</span><span>] = </span><span style="color: #f39c12;">List</span><span>(
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.gitigno</span><span style="color: #2980b9;background-color: #f39c12;">re</span><span style="color: #27ae60;">&quot;</span><span>,
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'</span><span style="color: #2980b9;background-color: #f39c12;">re</span><span style="color: #27ae60;">adme</span><span>,
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;</span><span style="color: #2980b9;background-color: #f39c12;">re</span><span style="color: #27ae60;">adme.md&quot;</span><span>
)
</span></pre></div>
          <div><pre><span style="color: #8e44ad;">
bash$ </span>ls -a . | grep re
.gitignore
readme
readme.md</pre><pre><span style="color: #8e44ad;">@ </span><span>ls! wd |? grep! </span><span style="color: #27ae60;">&quot;re&quot;</span><span> 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Seq</span><span>[</span><span style="color: #27ae60;">Path</span><span>] = </span><span style="color: #f39c12;">List</span><span>(
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span>,
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'readme</span><span>,
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span>
)
</span></pre></div>

          <p>
            Ammonite provides its own <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> command, which lets you
            easily perform ad-hoc searches within a list.</p>
          <p>
            As shown above, Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> can be used via
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">||</code> (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">flatMap</code>) or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">|?</code>
            (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">filter</code>). In the case of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">||</code>, it displays the
            matches found, highlighted, with some additional context before and
            after the match. When used with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">|?</code>, it simply returns the
            relevant items. In general, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">||</code> is useful for manual
            exploration, while <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">|?</code> is useful in scripts where you want
            to deal with the list of matched results later.</p>
          <p>
            By default, Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> matches a string as a literal.
            If you want to match via a regex, append a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.r</code> to the
            string literal to turn it into a regex:
</p>
          <div><pre><span style="color: #8e44ad;">
bash$ </span>ls -a . | grep -G &quot;re[a-z]\+&quot;
readme
readme.md</pre><pre><span style="color: #8e44ad;">@ </span><span>ls! wd || grep! </span><span style="color: #27ae60;">&quot;re[a-z]+&quot;</span><span>.r 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Seq</span><span>[</span><span style="color: #27ae60;">GrepResult</span><span>] = </span><span style="color: #f39c12;">List</span><span>(
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'</span><span style="color: #2980b9;background-color: #f39c12;">readme</span><span>,
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;</span><span style="color: #2980b9;background-color: #f39c12;">readme</span><span style="color: #27ae60;">.md&quot;</span><span>
)
</span></pre></div>

          <p>
            Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> isn't limited to &quot;filesystem&quot;-y things;
            <i>any</i> collection of objects can be piped through <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code>!
            For example, here's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> being used to quickly search
            through the JVM system properties:
</p>
          <pre><span style="color: #8e44ad;">@ </span><span style="color: #2980b9;">// I'm only interested in OS-related properties, show them to me!</span><span> 

</span><span style="color: #8e44ad;">@ </span><span>sys.props || grep! </span><span style="color: #27ae60;">&quot;os|OS&quot;</span><span>.r 
</span><span style="color: #c0392b;">cmd0.sc:1: value || is not a member of scala.sys.SystemProperties
val res0 = sys.props || grep! &quot;os|OS&quot;.r
                     ^</span><span>
</span><span style="color: #c0392b;">Compilation Failed</span><span>
</span></pre>

          <p>
            You can even use Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> to dig through the
            methods of an object, even large messy objects with far-too-many
            methods to go over by hand hunting for what you want:
</p>
          <pre><span style="color: #8e44ad;">@ </span><span>typeOf(repl.compiler).members.size </span><span style="color: #2980b9;">// Too many methods to dig through!</span><span> 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">1586</span><span>

</span><span style="color: #8e44ad;">@ </span><span style="color: #2980b9;">// I forgot what I want but I think it has Raw in the name</span><span> 

</span><span style="color: #8e44ad;">@ </span><span>typeOf(repl.compiler).members || grep! </span><span style="color: #27ae60;">&quot;Raw&quot;</span><span> 
</span><span style="color: #c0392b;">cmd1.sc:1: value || is not a member of reflect.runtime.universe.MemberScope
val res1 = typeOf(repl.compiler).members || grep! &quot;Raw&quot;
                                         ^</span><span>
</span><span style="color: #c0392b;">Compilation Failed</span><span>
</span></pre>
          <p>
            In general, Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> serves the same purpose of
            <code>grep</code> in the Bash shell: a quick and dirty way to explore large
            amounts of semi-structured data. You probably don't want to build
            your enterprise business logic on top of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code>'s string
            matching. While you're working, though, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> can be a
            quick way to find items of interest in collections of things
            (anything!) too large to sift through by hand, when you're not yet
            sure exactly what you want.
</p>
        <h4 id="browse" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#browse" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>browse</h4>

          <img src="Browse.gif" style="display: block;margin-left: auto;margin-right: auto;height: 278px;" />

          <p>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">browse</code> is a utility that lets you open up far-too-large
            data structures in the <code>less</code> pager, letting you page through
            large quantities of text, navigating around it and searching through
            it, without needing to spam your terminal output with its contents
            and losing your earlier work to the output-spam. Simple call
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">browse</code> on whatever value you want, e.g. this 50 thousand
            line <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec</code> result show above.
</p>
          <p>
            If you're dealing with large blobs of data that you want to dig
            through manually, you might normally format it nicely, write it to
            a file, and open it in <code>vim</code> or <code>less</code> or an editor such
            as Sublime Text. <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">browse</code> makes that process quick and
            convenient.
</p>
          <p>
            You can customize the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">browse</code> call like you would a
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">show</code> call or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">pprint.pprintln</code> call, e.g. setting
            an optional <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">width</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">colors</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">indent</code>.
            You can also choose a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">viewer</code> program in case you don't
            want to use <code>less</code>: e.g. here's a command that would open it up
            in <code>vim</code>:
</p>
          <pre><code class="scala scalatex-site-Styles-highlightMe">haoyi-Ammonite@ browse(res0, viewer=&quot;vim&quot;, colors = pprint.Colors.BlackWhite)
</code></pre>
          <p>
            Apart from using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">viewer=&quot;vim&quot;</code>, we also set the
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">colors</code> to black and white because Vim by default doesn't
            display ANSI colors nicely. You can also pass in a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq</code> of
            strings to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">viewer</code> if you want to pass additional flags to
            your editor, and of course use any other editor you would like such
            as <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;emacs&quot;</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;nano&quot;</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;subl&quot;</code>
</p>
        <h4 id="desugar" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#desugar" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>desugar</h4>
          <img src="Desugar.png" style="display: block;margin-left: auto;margin-right: auto;height: 495px;" />

          <p>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">desugar</code> allows you to easily see what the compiler is
            doing with your code before it gets run. For example, in the above
            calls to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">desugar</code>, you can see:
</p>
          <ul>
            <li>
              <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">List(...)</code> being converted to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">List.apply(...)</code></li>
            <li>
              <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">true -&gt; false</code> being converted to
              <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Predef.ArrayAssoc(true).$minus$greater(false)</code></li>
            <li>
              <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">default.write$default</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">default.SeqishW</code>, etc.
              being injected as implicits</li>
            <li>
              <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">for</code> comprehensions with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">if</code> filters being
              converted into the relevant <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">withFilter</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">map</code>
              calls
</li></ul>
          <p>
            In general, if you are having trouble understanding the combination
            of implicit parameters, implicit conversions, macros, and other odd
            Scala features, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">desugar</code> could you see what is left after
            all the magic happens.</p>
          <p>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">desugar</code> only works in Scala 2.11.x and above, not in 2.10.x
</p>
    <h2 id="Save/LoadSession" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Save/LoadSession" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Save/Load Session</h2>
      <p>
        Ammonite allows you to save your work half way through, letting you
        discard and future changes and returning to the state of the world you
        saved.
</p>
      <p>
        Defined some memory-hogging variable you didn't need? Loaded the wrong
        version of some third-party library? Reluctant to reload the REPL
        because reloading is slow? Fear not! With Ammonite, you can save your
        important work, do whatever you want later, and simply discard all the
        jars you loaded, variables you defined
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ val veryImportant = 1
veryImportant: Int = 1

@ repl.sess.save()

@ val oopsDontWantThis = 2
oopsDontWantThis: Int = 2

@ // Let's try this new cool new library

@ import $ivy.`com.lihaoyi::scalatags:0.7.0`

@ veryImportant
res4: Int = 1

@ oopsDontWantThis
res5: Int = 2

@ import scalatags.Text.all._

@ div(&quot;Hello&quot;).render
res7: String = &quot;&lt;div&gt;Hello&lt;/div&gt;&quot;

@ // Oh no, maybe we don't want scalatags!

@ repl.sess.load()

@ veryImportant
res9: Int = 1

@ oopsDontWantThis
error: not found: value oopsDontWantThis

@ import scalatags.Text.all._
error: not found: value scalatags
&quot;&quot;&quot;)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/BuiltinTests.scala#L160-L196" target="_blank"><i class="fa fa-link "></i></a></pre>
      <p>
        Apart from plain <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">save</code>s and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load</code>s, which simply
        discard everything after the most recent save, you can also provide a
        name to these functions. That lets you stop working on a branch, go do
        something else for a while, and be able to come back later to continue
        where you left off:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ val (x, y) = (1, 2)
x: Int = 1
y: Int = 2

@ repl.sess.save(&quot;xy initialized&quot;)

@ val z = x + y
z: Int = 3

@ repl.sess.save(&quot;first z&quot;)

@ repl.sess.load(&quot;xy initialized&quot;)

@ val z = x - y
z: Int = -1

@ repl.sess.save(&quot;second z&quot;)

@ z
res7: Int = -1

@ repl.sess.load(&quot;first z&quot;)

@ z
res9: Int = 3

@ repl.sess.load(&quot;second z&quot;)

@ z
res11: Int = -1
            &quot;&quot;&quot;)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/BuiltinTests.scala#L199-L230" target="_blank"><i class="fa fa-link "></i></a></pre>


      <p>
        Lastly, you have the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl.sess.pop()</code> function. Without any
        arguments, it behaves the same as <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl.sess.load()</code>, reseting you
        to your last savepoint. However, you can pass in a number of session
        frames which you'd like to pop, allow you to reset your session to even
        earlier save points. <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl.sess.pop(2)</code> would put you two
        save-points ago, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl.sess.pop(3)</code> would put you three save-points
        ago, letting you reach earlier save-points even if you did not give
        them names. Passing in a large number like <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">repl.sess.pop(999)</code>
        would reset your session all the way until the start.
</p>
      <p>
        Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">save</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load</code> functionality is
        implemented via Java class-loaders.
</p>
    <h2 id="SuperiorAutocomplete" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#SuperiorAutocomplete" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Superior Autocomplete</h2>
      <p>
        The original Scala REPL provides no autocomplete except for the most
        basic scenarios of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">value.&lt;complete&gt;</code>. In the Ammonite-REPL,
        you get the same autocomplete-anywhere support that you get in a modern
        IDE.
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ Seq(1, 2, 3).map(x =&gt; x.)
getClass            ##                  asInstanceOf        isInstanceOf
toString            hashCode            equals              !=
==                  %                   /                   *
-                   +                   ^                   &amp;
|                   &gt;=                  &gt;                   &lt;=
&lt;                   &gt;&gt;                  &gt;&gt;&gt;                 &lt;&lt;
unary_-             unary_+             unary_~             toDouble
toFloat             toLong              toInt               toChar
toShort             toByte              compareTo           doubleValue
...

@ Futu
scala.collection.parallel.FutureThreadPoolTasks
scala.collection.parallel.FutureTasks
scala.concurrent.impl.Future$PromiseCompletingRunnable
scala.concurrent.impl.Future
scala.concurrent.Future
scala.concurrent.FutureTaskRunner
scala.concurrent.Future$InternalCallbackExecutor
scala.concurrent.Future$class
java.util.concurrent.Future
java.util.concurrent.FutureTask$WaitNode
java.util.concurrent.FutureTask
com.sun.corba.se.impl.orbutil.closure.Future
</code></pre>

      <p>
        Ammonite also allows you to autocomplete third party dependencies pulled
        in via <a href="#import$ivy">import $ivy</a>, to make it easy for you to navigate the
        public package repositories and find the name and version of a dependency
        that you want:
</p>
      <img src="IvyComplete.gif" style="display: block;margin-left: auto;margin-right: auto;height: 400px;" />


      <p>
        None of these examples work in the standard Scala REPL.

</p>
    <h2 id="Interruptingrun-awayexecutionwithCtrl-C" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Interruptingrun-awayexecutionwithCtrl-C" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Interrupting run-away execution with Ctrl-C</h2>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ while(true) ()
... hangs ...
^Ctrl-C
Interrupted!

@
</code></pre>
      <p>
        The traditional Scala REPL doesn't handle runaway code, and gives you
        no option but to kill the process, losing all your work. Ammonite-REPL
        lets you interrupt the thread, stop the runaway-command and keep going.
</p>
    <h2 id="Compiler-crashRobustness" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Compiler-crashRobustness" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Compiler-crash Robustness</h2>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ val x = 1
x: Int = 1

@ /* trigger compiler crash */ trait Bar { super[Object].hashCode }
error: java.lang.AssertionError: assertion failed

@ 1 + x
res1: Int = 2</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/FailureTests.scala#L35-L43" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        The default Scala REPL throws away all your work if the compiler
        crashes. This doesn't make any sense, because all the compiler is is
        a dumb <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String =&gt; Array[Byte]</code> pipe. In the Ammonite, we
        simply swap out the broken compiler for a new one and let you continue
        your work.
</p>
    <h2 id="OtherFixes" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#OtherFixes" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Other Fixes</h2>
      <p>
        Apart from the above features, the Ammonite REPL fixes a large number
        of bugs in the default Scala REPL, including but not limited to:</p>
      <ul>
        
        
          <li><a href="https://issues.scala-lang.org/browse/SI-6302">SI-6302</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-8971">SI-8971</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-9249">SI-9249</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-4438">SI-4438</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-8603">SI-8603</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-6660">SI-6660</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-7953">SI-7953</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-6659">SI-6659</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-8456">SI-8456</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-1067">SI-1067</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-8307">SI-8307</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-9335">SI-9335</a></li>
        

</ul>
  <h1 id="Configuration" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Configuration" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Configuration</h1>
    <p>
      Ammonite is configured via Scala code, that can live in the
      <code>~/.ammonite/predef.sc</code> file, passed in through SBT's
      <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">initialCommands</code>, or passed to the command-line executable as
      <code>--predef='...'</code>.
</p>
    <p>
      Anything that you put in <code>predef.sc</code> will be executed when you
      load the Ammonite REPL. This is a handy place to put common imports,
      setup code, or even call <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $ivy</code> to
      <a href="#import$ivy">load third-party jars</a>. The compilation
      of the predef is cached, so after the first run it should not noticeably
      slow down the initialization of your REPL.
</p>
    <p>
      Some examples of things you can configure:
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ // Set the shell prompt to be something else

@ repl.prompt() = &quot;&gt;&quot;

@ // Change the terminal front end; the default is

@ // Ammonite on Linux/OSX and JLineWindows on Windows

@ repl.frontEnd() = ammonite.repl.FrontEnd.JLineUnix

@ repl.frontEnd() = ammonite.repl.FrontEnd.JLineWindows

@ repl.frontEnd() = ammonite.repl.AmmoniteFrontEnd()

@ // Changing the colors used by Ammonite; all at once:

@ interp.colors() = ammonite.util.Colors.BlackWhite

@ interp.colors() = ammonite.util.Colors.Default

@ // or one at a time:

@ interp.colors().prompt() = fansi.Color.Red

@ interp.colors().ident() = fansi.Color.Green

@ interp.colors().`type`() = fansi.Color.Yellow

@ interp.colors().literal() = fansi.Color.Magenta

@ interp.colors().prefix() = fansi.Color.Cyan

@ interp.colors().comment() = fansi.Color.Red

@ interp.colors().keyword() = fansi.Bold.On

@ interp.colors().selected() = fansi.Underlined.On

@ interp.colors().error() = fansi.Color.Yellow</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/BuiltinTests.scala#L13-L52" target="_blank"><i class="fa fa-link "></i></a></pre>

    <h2 id="Refs" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Refs" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Refs</h2>
      <p>
        By default, all the values you're seeing here with the <code>()</code> after
        them are <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Ref</code>s, defined as
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">trait StableRef[T]{
  /**
   * Get the current value of the this [[StableRef]] at this instant in time
   */
  def apply(): T

  /**
   * Set the value of this [[StableRef]] to always be the value `t`
   */
  def update(t: T): Unit
}

trait Ref[T] extends StableRef[T]{
  /**
   * Return a function that can be used to get the value of this [[Ref]]
   * at any point in time
   */
  def live(): () =&gt; T

  /**
   * Set the value of this [[Ref]] to always be the value of the by-name
   * argument `t`, at any point in time
   */
  def bind(t: =&gt; T): Unit
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/util/src/main/scala/ammonite/util/Model.scala#L129-L155" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        As you can see from the signature, you can basically interact with the
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Ref</code>s in two ways: either getting or setting their values as
        values, or binding their values to expressions that will be evaluated
        every time the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Ref</code>'s value is needed.
</p>
      <p>
        As an example of the latter, you can use <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">bind</code> to set your
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">prompt</code> to always include your current working directory
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">repl.prompt.bind(wd.toString + &quot;@ &quot;)
</code></pre>
      <p>
        As is common practice in other shells. Further modifications to make it
        include e.g. your current branch in Git (which you can call through
        Ammonite's <a href="#SpawningSubprocesses">subprocess API</a> or the
        current timestamp/user are similarly possible.
</p>
    <h2 id="CompilerFlags" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#CompilerFlags" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Compiler Flags</h2>
      <p>
        Apart from configuration of the rest of the shell through
        <a href="#Refs">Refs</a>, configuration of the Scala compiler takes place
        separately through the compiler's own configuration mechanism. You have
        access to the compiler as <code>compiler</code>, and can modify its settings
        as you see fit. Here's an example of this in action:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ // Disabling default Scala imports

@ List(1, 2, 3) + &quot;lol&quot;
res0: String = &quot;List(1, 2, 3)lol&quot;

@ interp.configureCompiler(_.settings.noimports.value = true)

@ List(1, 2, 3) + &quot;lol&quot; // predef imports disappear
error: not found: value List

@ interp.configureCompiler(_.settings.noimports.value = false)

@ List(1, 2, 3) + &quot;lol&quot;
res3: String = &quot;List(1, 2, 3)lol&quot;

@ // Disabling Scala language-import enforcement

@ object X extends Dynamic
error: extension of type scala.Dynamic needs to be enabled

@ interp.configureCompiler(_.settings.language.tryToSet(List(&quot;dynamics&quot;)))

@ object X extends Dynamic
defined object X

@ 1 + 1 // other things still work

@ // Enabling warnings (which are disabled by default)

@ List(1) match { case _: List[Double] =&gt; 2 }
res7: Int = 2

@ interp.configureCompiler(_.settings.nowarnings.value = false)

@ List(1) match { case _: List[Double] =&gt; 2 }
warning: $fruitlessTypeTestWarningMessageBlahBlahBlah

@ // Note you can refer to `repl.compiler` when interactive in the REPL

@ // But you should use `interp.configureCompiler` in your scripts/predef

@ // because `repl.compiler` may be `null` if the script is cached.

@ repl.compiler.settings.nowarnings.value
res10: Boolean = false</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/repl/src/test/scala/ammonite/session/BuiltinTests.scala#L97-L142" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        If you want these changes to always be present, place them in your
        <code>~/.ammonite/predef.sc</code>.
</p>
    <h2 id="JVMFlags" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#JVMFlags" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>JVM Flags</h2>
      <p>
        Ammonite also supports the <code>JAVA_OPTS</code> environment variable for
        passing arguments to the JVM that it runs inside, e.g. you can pass in
        a custom memory limit via
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">bash$ JAVA_OPTS=&quot;-Xmx1024m&quot; amm
</code></pre>
      <p>
        To start the REPL while letting it use only up to 1024 megabytes of memory
</p>
  <h1 id="Embedding" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Embedding" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Embedding</h1>
    <p>
      The Ammonite REPL is just a plain-old-Scala-object, just like any other
      Scala object, and can be easily used within an existing Scala program.
      This is useful for things like interactive <a href="#Debugging">Debugging</a> or
      hosting a <a href="#RemoteREPL">Remote REPL</a> to interact with a long-lived Scala
      process, or <a href="#InstantiatingAmmonite">Instantiating Ammonite</a> inside an existing program
      to serve as a powerful interactive console.
</p>
    <h2 id="InstantiatingAmmonite" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#InstantiatingAmmonite" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Instantiating Ammonite</h2>
      <p>
        To use Ammonite inside an existing Scala program, you need to first add
        it to your dependencies:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">libraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite&quot; % &quot;1.6.8&quot; cross CrossVersion.full
</code></pre>
      <p>
        Then instantiate it with this code anywhere within your program:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">package ammonite.integration
object TestMain {
  def main(args: Array[String]): Unit = {
    val hello = &quot;Hello&quot;
    // Break into debug REPL with
    ammonite.Main(
      predefCode = &quot;println(\&quot;Starting Debugging!\&quot;)&quot;
    ).run(
      &quot;hello&quot; -&gt; hello,
      &quot;fooValue&quot; -&gt; foo()
    )
  }
  def foo() = 1
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/integration/src/test/scala/ammonite/integration/TestMain.scala#L0-L14" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        You can configure the instantiated REPL by passing in arguments to the
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Main()</code> call, e.g. to redirect the input/output streams or to
        run a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">predef</code> to configure it further.
</p>
    <h2 id="Debugging" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Debugging" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Debugging</h2>
      <p>
        Ammonite can be used as a tool to debug any other Scala program, by
        conveniently opening a REPL at any point within your program with which
        you can interact with live program data, similar to pdb/ipdb in Python.
        To do so, first add Ammonite to your classpath, e.g. through this SBT
        snippet:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">libraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite&quot; % &quot;1.6.8&quot; cross CrossVersion.full
</code></pre>
      <p>
        Note that unlike the snippet given <a href="#Ammonite-REPL">above</a>, we
        leave out the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">% &quot;test&quot;</code> because we may want ammonite to be
        available within the &quot;main&quot; project, and not just in the unit tests.
        Then, anywhere within your program, you can place a breakpoint via:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">package ammonite.integration
object TestMain {
  def main(args: Array[String]): Unit = {
    val hello = &quot;Hello&quot;
    // Break into debug REPL with
    ammonite.Main(
      predefCode = &quot;println(\&quot;Starting Debugging!\&quot;)&quot;
    ).run(
      &quot;hello&quot; -&gt; hello,
      &quot;fooValue&quot; -&gt; foo()
    )
  }
  def foo() = 1
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/integration/src/test/scala/ammonite/integration/TestMain.scala#L0-L14" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        And when your program reaches that point, it will pause and open up an
        Ammonite REPL with the values you provided it bound to the names you
        gave it. From there, you can interact with those values as normal Scala
        values within the REPL. Use <code>Ctrl-D</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">exit</code> to exit the
        REPL and continue normal program execution. Note that the names given
        must be plain Scala identifiers.
</p>
      <p>
        Here's an example of it being used to debug changes to the
        <a href="https://github.com/d6y/wootjs">WootJS webserver</a>:
</p>
      <img src="Debugging.png" style="width: 100%;" />
      <p></p>
      In this case, we added the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">debug</code> statement within the
      websocket frame handler, so we can inspect the values that are taking
      part in the client-server data exchange. You can also put the
      <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">run</code> statement inside a conditional, to make it break only
      when certain interesting situations (e.g. bugs) occur.

      <p>
        As you can see, you can bind the values you're interested in to names
        inside the debug REPL, and once in the REPL are free to explore them
        interactively.</p>
      <p>
        The <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">debug()</code> call returns <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">: Any</code>; by default, this
        is <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">(): Unit</code>, but you can also return custom values by
        passing in an argument to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">exit(...)</code> when you exit the REPL.
        This value will then be returned from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">debug()</code>, and can be
        used in the rest of your Scala application.
</p>
    <h2 id="RemoteREPL" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#RemoteREPL" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Remote REPL</h2>

      <p>
        Ammonite can also be used to remotely connect to your running
        application and interact with it in real-time, similar to Erlang's
        <code>erl -remsh</code> command.
</p>
      <p>
        This is useful if e.g. you have multiple Scala/Java processes running
        but aren't sure when/if you'd want to inspect them for debugging, and
        if so which ones. With Ammonite, you can leave a ssh server running in
        each process. You can then and connect-to/disconnect-from each one at
        your leisure, working with the in-process Scala/Java objects and
        methods and classes interactively, without having to change code and
        restart the process to add breakpoints or instrumentation.
</p>
      <p>
        To do this, add ammonite-sshd to your classpath, for example with SBT:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">libraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite-sshd&quot; % &quot;1.6.8&quot; cross CrossVersion.full
</code></pre>
      <p>
        Now add repl server to your application:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">import ammonite.sshd._
val replServer = new SshdRepl(
  SshServerConfig(
    address = &quot;localhost&quot;, // or &quot;0.0.0.0&quot; for public-facing shells
    port = 22222, // Any available port
    passwordAuthenticator = Some(pwdAuth) // or publicKeyAuthenticator
  )
)
replServer.start()
</code></pre>
      <p>
        And start your application. You will be able to connect to it using ssh
        like this: <code class="bash scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ssh repl@localhost -p22222</code> and interact with your
        running app. Invoke <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">stop()</code> method whenever you want to
        shutdown ammonite sshd server. Here for example sshd repl server is
        embedded in the <a href="https://github.com/theiterators/akka-http-microservice">Akka HTTP microservice example</a>:
</p>
      <img src="DebuggingViaSshd.png" style="width: 100%;" />

      <p>
        Here we can interact with code live, inspecting values or calling
        methods on the running system. We can try different things, see which
        works and which not, and then put our final bits in application code.
        In this example app is located on local machine, but you are free to
        connect to any remote node running your code.
</p>
      <p>
        <b>Security notes:</b> It is probably unsafe to run this server publicly
        (on host <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;0.0.0.0&quot;</code>) in a production, public-facing
        application.  If you insist on doing so, you probably want key-based
        authentication, available by supplying <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">publicKeyAuthenticator</code>
        in the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">SshServerConfig</code>.
</p>
      <p>
        Despite this, it is perfectly possible to run these on production
        infrastructure: simply leave the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">host</code> set to
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;localhost&quot;</code>, and rely on the machine's own SSH access to
        keep out unwanted users: you would first <code>ssh</code> onto the machine
        itself, and then <code>ssh</code> into the Ammonite REPL running on
        <code>localhost</code>.
</p>
      <p>
        Typically most organizations already have bastions, firewalls, and
        other necessary infrastructure to allow trusted parties SSH access to
        the relevant machines. Running on <code>localhost</code> lets you leverage
        that and gain all the same security properties without having to
        re-implement them in Scala.</p>

  
<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="ScalaScripts" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Scala Scripts<a class=" scalatex-site-Styles-headerLink" href="#ScalaScripts" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /><h2 style="font-weight: 300;color: #ccc;padding: 0px;margin-top: 0px;">Lightweight Programming in Scala</h2></div>


  <p>
    <b>Scala scripts</b> are lightweight files containing Scala code that
    can be directly run from the command line. Unlike normal Scala projects,
    Scala scripts let you save and run code without setting up a &quot;build-file&quot;
    or &quot;project&quot;. Scala Scripts are useful for writing small pieces of code,
    and are much quicker to write and deploy than a full-fledged SBT project.
</p>
  <img src="Watch.gif" style="display: block;margin-left: auto;margin-right: auto;height: 322px;" />

  <p>
    Creating an Ammonite Script is just a matter of creating a
    <code>MyScript.sc</code> with some Scala code in it, and running it
    <a href="#RunningScripts">from your terminal</a>. Deploying the script is
    a matter of copying the script file to where-ever you want to run it, and
    running it. No <code>project/</code> folder, no worrying about <code>.jar</code> files
    or uber-jars. No worrying about compiling your code: scripts are
    automatically compiled the first time they are run, and subsequently start
    quickly with minimal overhead. Writing and running Scala code
    doesn't get much easier than that!
</p>
  <p>
    As an example, Ammonite's own
    <a href="https://github.com/lihaoyi/Ammonite/tree/master/ci">Continuous Integration Scripts</a>
    are written as <code>.sc</code> Scala Scripts, as are <a href="https://github.com/lihaoyi/blog">Haoyi's blog</a> and <a href="https://github.com/lihaoyi/Resume">resume</a>. These are all examples of using
    Scala Scripts to do some simple (or not so simple!) tasks in just a few
    files, without the hassle of setting up a heavyweight SBT project.
</p>
  <p>
    To begin with, download the Ammonite 1.6.8
    script-runner for Scala 2.12 (also available for
    <a href="#OlderScalaVersions">Older Scala Versions</a>):
</p>
  <pre><code class="bash scalatex-site-Styles-highlightMe">$ sudo sh -c '(echo &quot;#!/usr/bin/env sh&quot; &amp;&amp; curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.13-1.6.8) &gt; /usr/local/bin/amm &amp;&amp; chmod +x /usr/local/bin/amm' &amp;&amp; amm
</code></pre>
  <p>
    Or to try out the <a href="#UnstableChangelog">latest features</a> in our
    <a href="#UnstableVersions">Unstable Release</a>
    1.6.8:
</p>
  <pre><code class="bash scalatex-site-Styles-highlightMe">$ sudo sh -c '(echo &quot;#!/usr/bin/env sh&quot; &amp;&amp; curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.13-1.6.8) &gt; /usr/local/bin/amm &amp;&amp; chmod +x /usr/local/bin/amm' &amp;&amp; amm
</code></pre>
  <p>
    And read on to learn about how Scala scripts work.
</p>
  <h1 id="ScriptFiles" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScriptFiles" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Script Files</h1>
    <p>
      Ammonite defines a format that allows you to load external scripts into
      the REPL; this can be used to save common functionality so it can be
      used at a later date. In the simplest case, a script file is simply a
      sequence of Scala statements, e.g.
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">// MyScript.sc
// print banner
println(&quot;Hello World!!&quot;)

// common imports
import sys.process._
import collection.mutable

// common initialization code
val x = 123
println(&quot;x is &quot; + 123)
...</code></pre>
    <p>
      You can write any Scala code you want in an Ammonite script, including
      top-level statements and definitions (e.g. the <code>println</code> and
      <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">val x = 123</code> above) that are not valid in &quot;normal&quot; Scala
      projects. You do not need to wrap these sorts of top-level statements
      or expressions in boilerplate <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">object Foo{...}</code> wrappers:
      this is all done automatically for you by Ammonite.
</p>
    <p>
      After that, it's a matter of running the script
      <a href="#FromtheREPL">From the REPL</a> or <a href="#FromBash">From Bash</a>, e.g.
</p>
    <pre><code class="bash scalatex-site-Styles-highlightMe">bash$ amm MyScript.sc</code></pre>
    <pre><code class="bash scalatex-site-Styles-highlightMe">Hello World!!
x is 123
...
</code></pre>
    <h2 id="ScriptImports" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScriptImports" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Script Imports</h2>
      <p>
        No code stands alone; scripts depend on other scripts. Often they depend
        on third party libraries, as there's so much code out there already
        written it doesn't make sense to re-invent everything yourself.
</p>
      <p>
        Ammonite Scripts allow you to import <a href="#OtherScripts">Other Scripts</a>, just like
        any Bash or Python scripts do. Furthermore, they let you cleanly depend
        on third party libraries: since Ammonite runs on the <a href="https://en.wikipedia.org/wiki/Java_virtual_machine">JVM</a>, this means
        <a href="#IvyDependencies">Ivy Dependencies</a>. Ammonite will ensure that the relevant
        dependencies are always downloaded and used, and you never need to worry
        about remembering to &quot;install&quot; things before running your scripts!
</p>
      <h3 id="OtherScripts" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#OtherScripts" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Other Scripts</h3>
        <p>
          Like other scripting languages, Ammonite Scripts allow you to break your
          script into multiple files, and import them from each other in order to
          use what is in each file. Unlike &quot;Normal&quot; Scala projects, there is no
          need to set up a <code>src/main/scala</code> folder, and create a build file,
          and all these other things: simply split your script into two files, and
          import one from the other using <a href="#import$file">import $file</a>:
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="sc scalatex-site-Styles-highlightMe">// Basic.sc
val basicValue = 31337</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/resources/importHooks/Basic.sc#L0-L3" target="_blank"><i class="fa fa-link "></i></a></pre>

        <pre class=" scalatex-site-Styles-hoverContainer"><code class="sc scalatex-site-Styles-highlightMe">// FileImport.sc
import $file.Basic

val fileImportVal = Basic.basicValue + 1</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/resources/importHooks/FileImport.sc#L0-L4" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          Here, we are defining a simple <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">val</code> in <code>Basic.sc</code>, and
          then importing it from <code>FileImport.sc</code>. And of course, we can
          use what we defined in <code>FileImport.sc</code> and import it in another
          file
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="sc scalatex-site-Styles-highlightMe">// IndirectFileImport.sc
import $file.FileImport

val indirectFileImportVal = FileImport.fileImportVal + 1</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/resources/importHooks/IndirectFileImport.sc#L0-L4" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          And so on, importing files as many or as deep as you want. You can
          use <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">^</code> segments at the start of your <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file</code>
          to import things from outside the current script's enclosing folder, e.g.
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file.^.^.foo</code> will import the script file
          <code>../../foo.sc</code> and make it available for you to use.
</p>
        <p>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">$file</code> imports inside Scala Scripts behave the same as
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">$file</code> imports <a href="#import$file">within the Ammonite-REPL</a>, and have the same characteristics:
</p>
        <ul>
          <li>
            <a href="#ImportedScriptsareRe-used">Imported Scripts are Re-used</a></li>
          <li>
            <a href="#CannotdirectlyimportfrominsideaScript">Cannot directly import from inside a Script</a></li>
          <li>
            <a href="#Renamed-scriptsandmultiple-scripts">Renamed-scripts and multiple-scripts</a>

</li></ul>
      <h3 id="IvyDependencies" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#IvyDependencies" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Ivy Dependencies</h3>
        <p>
          You can easily make use of external Ivy artifacts right in your
          scripts, without needing to set up a separate build file. Simply use a
          <a href="#import$ivy">import $ivy</a>, just as you would in the
          <a href="#Ammonite-REPL">Ammonite-REPL</a>, and it will be available in the script for you
          to use, e.g. here we make use of the <a href="http://www.lihaoyi.com/scalatags/">Scalatags</a> library:
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="sc scalatex-site-Styles-highlightMe">import $ivy.`com.lihaoyi::scalatags:0.7.0`, scalatags.Text.all._

val rendered = div(&quot;Moo&quot;).render</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/resources/importHooks/IvyImport.sc#L0-L3" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          If you need more detailed control over what you are importing, e.g.
          with attributes, classifiers or exclusions, you can fall back to
          using the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">interp.load.ivy(deps: coursier.Dependency*)</code>
          function.
</p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ import os._

@ interp.load.module($printedScriptPath/&quot;loadIvyAdvanced.sc&quot;)

@ serializer</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/scala/ammonite/session/ScriptTests.scala#L340-L345" target="_blank"><i class="fa fa-link "></i></a></pre>

        <p>
          Note that to use this function, your script needs to be a
          multi-stage script as listed below, and the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">interp.load.ivy</code>
          call needs to be in an earlier block
</p>
    <h2 id="Multi-stageScripts" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Multi-stageScripts" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Multi-stage Scripts</h2>
      <p>
        By default, everything in a script is compiled and executed as a single
        block. While you can use <a href="#MagicImports">Magic Imports</a> to load other scripts
        or Ivy artifacts before your script runs, those can only load &quot;hardcoded&quot;
        scripts or artifacts, and cannot e.g. load different scripts depending on
        some runtime variables.
</p>
      <p>
        If you want to load different scripts or ivy artifacts depending on
        runtime values, you can use the runtime-equivalent of magic imports:
</p>
      <ul>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $cp</code> becomes <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">interp.load.cp</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file</code> becomes <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">interp.load.module</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $ivy</code> becomes <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">interp.load.ivy</code>
</li></ul>
      <p>
        These are plain-old-Scala-functions that let you pass in a
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code> to a script to load, or load different Ivy artifacts
        depending on runtime values. Additionally, there is an overloaded
        version of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">interp.load.cp</code> which takes a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq[Path]</code>
        of classpath entries. This variant is much more efficient for adding
        multiple classpath entries at once.
</p>
      <p>
        Since these functions get run *after* the current compilation block is
        compiled, you need to split your script into two compilation blocks,
        and can only use the results of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load</code>ed code in
        subsequent blocks:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">// print banner
println(&quot;Welcome to the XYZ custom REPL!!&quot;)
val scalazVersion = &quot;7.2.7&quot;
interp.load.ivy(&quot;org.scalaz&quot; %% &quot;scalaz-core&quot; % scalazVersion)

// This @ is necessary for Ammonite to process the `interp.load.ivy` 
// before continuing
@

// common imports
import scalaz._
import Scalaz._

// use Scalaz!
...
</code></pre>
      <p>
        In general, this should not be necessary very often: usually you should
        be able to load what you want using <a href="#MagicImports">Magic Imports</a>.
        Nevertheless, sometimes you may find yourself needing to get &quot;under the
        hood&quot; and use these <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load</code>ing functions directly. When that
        happens, using <a href="#Multi-stageScripts">Multi-stage Scripts</a> is the way to go.
</p>
    <h2 id="ScriptArguments" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScriptArguments" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Script Arguments</h2>
      <p>
        Often when calling a script from the external command-line (e.g.
        Bash), you need to pass arguments to configure its behavior. With
        Ammonite, this is done by defining a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code> method, e.g.
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="sc scalatex-site-Styles-highlightMe">// Args.sc
val x = 1
@main
def main(i: Int, s: String, path: os.Path = os.pwd) = {
  s&quot;Hello! ${s * i} ${path.last}.&quot;
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/resources/mains/Args.sc#L0-L6" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        When the script is run from the command line:
</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">$ amm Args.sc 3 Moo
&quot;Hello! MooMooMoo Ammonite.&quot;
</code></pre>
      <p>
        The top-level definitions execute first (e.g. setting <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">x</code>),
        and then the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code> method is called with the arguments you
        passed in. Note that the return-value of the script is pretty-printed
        by default, which quotes strings and may nicely format/indent lists or
        other data-structures. If you want to avoid this default pretty-printing
        behavior, annotate your <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code> method as returning
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">: Unit</code> and add your own <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">println</code>s:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="sc scalatex-site-Styles-highlightMe">// Args.sc
val x = 1
@main
def main(i: Int, s: String, path: os.Path = os.pwd): Unit = {
  println(s&quot;Hello! ${s * i} ${path.last}.&quot;)
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/resources/mains/Args2.sc#L0-L6" target="_blank"><i class="fa fa-link "></i></a></pre>

      <pre><code class="bash scalatex-site-Styles-highlightMe">$ amm Args2.sc 3 Moo
Hello! MooMooMoo Ammonite
</code></pre>
      <p>
        You can also pass in named arguments using <code>--</code> to demarcate
        them:
</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">$ amm Args.sc --i 3 --s Moo
&quot;Hello! MooMooMoo Ammonite.&quot;
</code></pre>
      <p>
        Default arguments behave as you would expect (i.e. they allow you to
        omit it when calling) and arguments are parsed using the
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">scopt.Read</code> typeclass, which provides parsers for primitives
        like <code>Int</code>, <code>Double</code>, <code>String</code>, as well as basic
        data-structures like <code>Seq</code>s (taken as a comma-separated list) and
        common types like <a href="#Paths">Paths</a>.
</p>
      <p>
        If you pass in the wrong number of arguments, or if an argument fails
        to deserialize, the script will fail with an error message.
</p>
      <p>
        The <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">main</code> method does not get automatically called when you
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.exec</code> a script from <i>within</i>
        the Ammonite REPL. It gets imported into scope like any other method or
        value defined in the script, and you can just call it normally.
</p>
      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">vararg*</code> arguments work as you would expect as well, allowing one or
        more arguments to be passed from the command-line and aggregated into
        a <code>Seq</code> for your function to use. This also allows you to use a
        custom argument-parser (e.g. <a href="https://github.com/eed3si9n">Eugene Yokota</a>'s excellent <a href="https://github.com/scopt/scopt">Scopt</a>) library by defining your function
        as taking <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String*</code>:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@main
def entrypoint(args: String*) = {
  ...
}
</code></pre>
      <p>
        In which case Ammonite will take all arguments and forward them to your
        main method un-checked and un-validated, from which point you can deal
        with the raw <code>Seq[String]</code> however you wish. Note that
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">vararg*</code> arguments cannot be passed by-name, e.g. via
        <code>--args foo</code>
</p>
    <h2 id="AmmoniteArgumentsinScripts" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#AmmoniteArgumentsinScripts" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Ammonite Arguments in Scripts</h2>
      <p>
        Ammonite passing any arguments that come <i>before</i> the script file to
        Ammonite itself, while arguments that come <i>after</i> the script file are
        given to the script:
</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">$ amm --predef-code 'println(&quot;welcome!&quot;)' Args.sc 3 Moo
welcome!
&quot;Hello! MooMooMoo Ammonite.&quot;
</code></pre>
      <p>
        Here, &quot;Ammonite Arguments&quot; go on the <i>left</i> of the <code>Args.sc</code>, while
        <i>Script Arguments</i> go on the <i>right</i> of the <code>Args.sc</code>. The script
        arguments on the right can also be empty if you don't want to pass
        any arguments to the script.
</p>
      <p>
        If you want to define a script with a Shebang line that runs Ammonite
        with particular arguments, you can use
</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">#!/bin/bash
exec amm --predef 'println(&quot;welcome!&quot;)' &quot;$0&quot; &quot;$@&quot;
!#
</code></pre>
      <p>
        And which will pass in the <code>--predef</code> flag to Ammonite while
        running the script via <code>./Args.sc</code>. If you want to then pass
        in different sets of arguments, you can run the script using <code>amm</code>
        e.g. <code class="bash scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">amm --predef 'println(&quot;Hello!&quot;)' Args.sc 3 Moo</code> as before.
        (Note that while a single-line <code>#!/usr/bin/env amm --predef '...'</code>
        shebang may work on some systems such as OS-X, it is not portable and
        would not work on Linux)



</p>
    <h2 id="MultipleMainMethods" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#MultipleMainMethods" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Multiple Main Methods</h2>
      <p>
        If you have only a single <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code> method, any arguments that
        you pass to the script get used as arguments to that <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code>.
        But if you have <i>multiple</i> <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code> methods, the first
        argument to the script is used to select which <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code> method
        to call. e.g. given:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// MultiMain.sc

val x = 1

@main
def mainA() = {
  println(&quot;Hello! &quot; + x)
}

@main
def functionB(i: Int, s: String, path: os.Path = os.pwd) = {
  println(s&quot;Hello! ${s * i} ${path.relativeTo(os.pwd)}.&quot;)
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/resources/mains/MultiMain.sc#L0-L13" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        You can call it via
</p>
      <code>
        amm MultiMain.sc mainA
</code>
      <p>
        Or
</p>
      <code>
        amm MultiMain.sc functionB 2 &quot;Hello&quot;
</code>
    <h2 id="ScriptUsageDocs" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScriptUsageDocs" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Script Usage Docs</h2>
      <p>
        You can document your scripts with the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@doc</code> annotation. By
        default, a script such as
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// MultiMain.sc

val x = 1

@main
def mainA() = {
  println(&quot;Hello! &quot; + x)
}

@main
def functionB(i: Int, s: String, path: os.Path = os.pwd) = {
  println(s&quot;Hello! ${s * i} ${path.relativeTo(os.pwd)}.&quot;)
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/resources/mains/MultiMain.sc#L0-L13" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Will result in a usage message:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="sh scalatex-site-Styles-highlightMe">Need to specify a subcommand to call when running MultiMain.sc

Available subcommands:

  mainA

  functionB
    --i     Int
    --s     String
    --path  os.Path (default ${os.pwd})</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/scala/ammonite/main/MainTests.scala#L78-L88" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        You can add docs via
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// MultiMainDoc.sc

val x = 1

@main
def mainA() = {
  println(&quot;Hello! &quot; + x)
}

@doc(&quot;This explains what the function does&quot;)
@main
def functionB(i: Int @doc(
                &quot;how many times to repeat the string to make &quot; +
                &quot;it very very long, more than it originally was&quot;
              ),
              s: String @doc(&quot;the string to repeat&quot;),
              path: os.Path = os.pwd) = {
  println(s&quot;Hello! ${s * i} ${path.relativeTo(os.pwd)}.&quot;)
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/resources/mains/MultiMainDoc.sc#L0-L19" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Which will be shown as part of the usage message
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="sh scalatex-site-Styles-highlightMe">Need to specify a subcommand to call when running MultiMainDoc.sc

Available subcommands:

  mainA

  functionB
  This explains what the function does
    --i     Int: how many times to repeat the string to make it very very long,
            more than it originally was
    --s     String: the string to repeat
    --path  os.Path (default ${os.pwd})</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/src/test/scala/ammonite/main/MainTests.scala#L98-L110" target="_blank"><i class="fa fa-link "></i></a></pre>

    <h2 id="BundledLibraries" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#BundledLibraries" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Bundled Libraries</h2>
      <p>
        While Ammonite allows you to load any Java or Scala library for use
        via the <a href="#import$ivy">import $ivy</a> syntax, it also comes bundled with some
        basic libraries, e.g. <a href="https://github.com/lihaoyi/requests-scala">Requests-scala</a>
        for making HTTP calls, or the
        <a href="https://github.com/lihaoyi/upickle">uPickle</a>
        library with its <a href="http://www.lihaoyi.com/upickle/#uJson">JSON Api</a>
        for dealing with the common JSON format.
</p>
      <p>
        For example, here's a tiny script that offers two main methods, one
        to shorten a github link using Requests-Scala and the <code>git.io</code> API,
        and one that pulls out a list of release-names from a given github
        project using Requests-Scala, uPickle's JSON package, and the Github API:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="sc scalatex-site-Styles-highlightMe">#!/usr/bin/env amm
// HttpApi.sc

@main
def addPost(title: String, body: String) = {
  ujson.read(
    requests.get(
      &quot;http://jsonplaceholder.typicode.com/posts&quot;,
      data = Seq(
        &quot;title&quot;  -&gt; title,
        &quot;body&quot;   -&gt; body,
        &quot;userId&quot; -&gt; &quot;1&quot;
      )
    ).text()
  ).obj.get(&quot;id&quot;).map(_.num.toInt).getOrElse(0)


}

@main
def comments(postId: Int) = {
  val json = ujson.read(
    requests
      .get(s&quot;http://jsonplaceholder.typicode.com/comments?postId=$postId&quot;)
      .text()
  )
  val names = for{
    item &lt;- json.arr
    name &lt;- item.obj.get(&quot;name&quot;)
  } yield name.str
  names.mkString(&quot;,&quot;)
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/integration/src/test/resources/ammonite/integration/basic/HttpApi.sc#L0-L32" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        You can run <code>amm</code> on the script to see what it can do
</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">&gt; amm HttpApi.sc
Need to specify a main method to call when running HttpApi.sc

Available main methods:

def shorten(longUrl: String)
def listReleases(project: String)</code></pre>
      <p>
        And you can run the two functions (after using <code>chmod +x</code> to make
        the file executable) via
</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">&gt; ./HttpApi.sc shorten https://www.github.com
https://git.io/vDN6Ig</code></pre>
      <p>
        Or
</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">&gt; ./HttpApi.sc listReleases lihaoyi/Ammonite
0.7.0,Snaphot Commit Uploads,0.6.2,0.6.1,0.6.0,0.5.9,0.5.8,
0.5.7,0.5.6,0.5.5,0.5.4,0.5.3,0.5.2,0.5.1,0.5.0,0.4.9,0.4.8,
0.4.7,0.4.6,0.4.5,0.4.4,0.4.3,0.4.2,0.4.0
</code></pre>
    <h2 id="ScriptBuiltins" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScriptBuiltins" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Script Builtins</h2>
      <p>
        Apart from bundling some third-party libraries for convenience,
        Ammonite also provides some builtins you can use from scripts to
        inspect and manipulate the interpreter itself. Note that this is
        a much smaller set of functionality than the set of
        <a href="#Builtins">Builtins</a> available to the REPL: it won't have things
        like the <code>repl.prompt</code>, <code>repl.history</code>, and other things
        that only really make sense in the interactive REPL.
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">trait InterpAPI {
  /**
    * When running a script in `--watch` mode, re-run the main script if this
    * file changes. By default, this happens for all script files, but you can
    * call this to watch arbitrary files your script may depend on
    */
  def watch(p: os.Path): Unit

  /**
    * The colors that will be used to render the Ammonite REPL in the terminal,
    * or for rendering miscellaneous info messages when running scripts.
    */
  val colors: Ref[Colors]

  /**
   * Tools related to loading external scripts and code into the REPL
   */
  def load: InterpLoad

  /**
   * resolvers to use when loading jars
   */
  def repositories: Ref[List[coursier.Repository]]

  /**
    * Functions that will be chained and called on the coursier
    * Fetch object right before they are run
    */
  val resolutionHooks: mutable.Buffer[
    coursier.Fetch[Task] =&gt; coursier.Fetch[Task]
  ]

  /**
    * Exit the Ammonite REPL. You can also use Ctrl-D to exit
    */
  def exit = throw AmmoniteExit(())
  /**
    * Exit the Ammonite REPL. You can also use Ctrl-D to exit
    */
  def exit(value: Any) = throw AmmoniteExit(value)
  /**
    * Functions that will be chained and called on the
    * exitValue before the repl exits
    */
  val beforeExitHooks: mutable.Buffer[Any =&gt; Any]
  /**
    * Configures the current compiler, or if the compiler hasn't been initialized
    * yet, registers the configuration callback and applies it to the compiler
    * when it ends up being initialized later
    */
  def configureCompiler(c: scala.tools.nsc.Global =&gt; Unit): Unit

  /**
    * Pre-configures the next compiler. Useful for tuning options that are
    * used during parsing such as -Yrangepos
    */
  def preConfigureCompiler(c: scala.tools.nsc.Settings =&gt; Unit): Unit
}


trait LoadJar {

  /**
   * Load a `.jar` file or directory into your JVM classpath
   */
  def cp(jar: os.Path): Unit
  /**
    * Load a `.jar` from a URL into your JVM classpath
    */
  def cp(jar: java.net.URL): Unit
  /**
   * Load one or more `.jar` files or directories into your JVM classpath
   */
  def cp(jars: Seq[os.Path]): Unit
  /**
   * Load a library from its maven/ivy coordinates
   */
  def ivy(coordinates: coursier.Dependency*): Unit
}

trait InterpLoad extends LoadJar{

  def module(path: os.Path): Unit

  def plugin: LoadJar

}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/amm/interp/src/main/scala/ammonite/interp/InterpAPI.scala#L13-L100" target="_blank"><i class="fa fa-link "></i></a></pre>

    <h2 id="ScriptPredef" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScriptPredef" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Script Predef</h2>
      <p>
        If you want code to be loaded before you run any script, you can place
        it in <code>~/.ammonite/predefScript.sc</code>. This is distinct from the REPL
        pre-defined code which lives in <code>~/.ammonite/predef.sc</code>. If you want
        code that is pre-initialized in both the REPL and in scripts, you can place
        it in <code>~/.ammonite/predefShared.sc</code>.
</p>
  <h1 id="RunningScripts" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#RunningScripts" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Running Scripts</h1>
    <p>
      There are two way main ways to run Ammonite scripts:
      <a href="#FromtheREPL">From the REPL</a> and <a href="#FromBash">From Bash</a>.

</p>
    <h2 id="FromBash" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#FromBash" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>From Bash</h2>
      <p>
        Apart from loading scripts within the <a href="#Ammonite-REPL">Ammonite-REPL</a>, You can
        also run scripts using the Ammonite executable from an external shell
        (e.g. bash):

</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">$ sudo sh -c '(echo &quot;#!/usr/bin/env sh&quot; &amp;&amp; curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.13-1.6.8) &gt; /usr/local/bin/amm &amp;&amp; chmod +x /usr/local/bin/amm' &amp;&amp; amm
</code></pre>
      <pre><code class="scala scalatex-site-Styles-highlightMe">$ amm path/to/script.sc
</code></pre>
      <p>
        All types, values and imports defined in scripts are available to
        commands entered in REPL after loading the script.
</p>
      <p>
        You can also make an Ammonite script self-executable by using a shebang
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">#!</code>. This is an example script named <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">hello</code>. There
        is no need to add the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.sc</code> extension. The <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">amm</code>
        command needs to be in the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">PATH</code>:</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">#!/usr/bin/env amm

println(&quot;hello world&quot;)</code></pre>
      <p>
        make it executable and run it from an external shell (e.g. bash):</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">$ chmod +x /path/to/script
$ /path/to/script
</code></pre>
      <p>
        Ammonite also supports the <code>JAVA_OPTS</code> environment variable for
        passing arguments to the JVM that it runs inside, e.g. you can pass in
        a custom memory limit via
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">bash$ JAVA_OPTS=&quot;-Xmx1024m&quot; amm path/to/script.sc
</code></pre>
      <p>
        To let it use only up to 1024 megabytes of memory
</p>
    <h2 id="WatchandReload" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#WatchandReload" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Watch and Reload</h2>
      <img src="Watch.gif" style="display: block;margin-left: auto;margin-right: auto;height: 322px;" />
      <p>
        Ammonite provides the <code>-w</code>/<code>--watch</code> flag, which tells it to
        not exit when a script completes, but instead watch the files that were
        run, and re-run them when any of them change. You can use this flag via
</p>
      <code>
        $ amm -w foo.sc
</code>
      <p>
        Within your scripts, you can also flag other files you want Ammonite
        to watch, via the <code>interp.watch(p: Path)</code> function. This is useful
        if you are iterating on a script together with some external data files
        the script depends on, and you want to
</p>
    <h2 id="ScriptDebugREPL" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScriptDebugREPL" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Script Debug REPL</h2>
      <img src="ScriptRepl.gif" style="display: block;margin-left: auto;margin-right: auto;height: 432px;" />
      <p>
        When a script is not working as intended, it is useful to be able to
        poke around in a REPL after the script has run, in order to see what
        values are stored in which variables or what methods are available via
        autocomplete. To do so, you can run the script using the
        <code>--predef</code>/<code>-p</code> flag.
</p>
      <code>
        $ amm --predef foo.sc
</code>
      <p>
        This will run the script as normal, but on completion open up a REPL
        which has all the values defined in that script imported and ready to
        use. You can then poke around within the REPL as you wish.
</p>
      <p>
        Using <code>--predef</code>/<code>-p</code> to run a script and then open an
        interactive REPL can be combined with the <code>--watch</code>/<code>-w</code>
        flag:
</p>
      <code>
        $ amm --watch --predef foo.sc
</code>
      <p>
        This will open up a REPL after the script runs, and when you exit the
        REPL it will watch the script file and the files that the script depends
        on, re-running the script and REPL if any of them change.
</p>
      <p>
        <code>--predef</code>/<code>-p</code> can be used to include a script file as a
        predef before running any script or REPL, which is useful for a range
        of things apart from serving as a debug REPL on any script.
</p>
    <h2 id="FromtheREPL" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#FromtheREPL" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>From the REPL</h2>
      <p>
        You can load any script into the Ammonite REPL using the
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file</code> syntax, for example here we import the above
        <code>MyScript.sc</code> file to access its <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">x</code> value:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ x // doesn't work yet
Compilation Failed
cmd0.sc:1: not found: value x
val res0 = x // doesn't work yet
           ^
@ import $file.MyScript
Welcome to the XYZ custom REPL!!

@ MyScript.x // You can refer to definitions from that module
res1: Int = 123

@ import MyScript._

@ x // works
res2: Int = 123
</code></pre>
      <p>
        You can also import the module, and any associated definitions you want,
        in the same import:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ x // doesn't work yet
Compilation Failed
cmd0.sc:1: not found: value x
val res0 = x // doesn't work yet
           ^
@ import $file.MyScript, MyScript._
Welcome to the XYZ custom REPL!!

@ x
res1: Int = 123
</code></pre>
      <p>
        Note that by default, scripts imported via <code>$file</code> are
        <i>encapsulated</i>, so any imports inside that <code>MyScript</code> performs are
        not available outside of <code>MyScript.sc</code>:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $file.MyScript, MyScript._
Welcome to the XYZ custom REPL!!
import $file.$
@ mutable.Buffer(x)
cmd1.sc:1: not found: value mutable
val res1 = mutable.Buffer(x)
           ^
Compilation Failed</code></pre>
      <p>
        As you can see, even though <code>collection.mutable</code> was imported inside
        <code>MyScript.sc</code>, you cannot use them outside after importing it.
</p>
      <p>
        If you want to make everything (both imports and definitions) available
        by default after importing, you can use an <code>$exec</code> import instead of
        <code>$file</code>:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $exec.MyScript
Welcome to the XYZ custom REPL!!
import $exec.$
@ mutable.Buffer(x)
res1: mutable.Buffer[Int] = ArrayBuffer(123)</code></pre>
      <p>
        As you can see, now <code>mutable</code> is available, and so is <code>x</code> even
        though we did not directly import it.
</p>
      <p>
        While <code>$file</code> imports are useful for defining re-usable modules with
        common functions and definitions, <code>$exec</code> imports are useful as
        aliases for common setup to get your REPL environment just the way you
        want it. Of course, any files you import via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file</code> or
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $exec</code> can themselves import other Scala scripts in the
        same way, and the same rules apply.

</p>
    <h2 id="ExecutionModel" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ExecutionModel" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Execution Model</h2>
      <p>
        Ammonite's Scala Scripts run as normal Scala code, though with some
        simple source-to-source transformations applied first to turn the
        script syntax (which allows top-level expressions, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">def</code>s,
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">val</code>s, etc.) into valid Scala syntax (which doesn't). What
        happens is roughly:
</p>
      <ul>
        <li>
          A script file is read off disk</li>
        <li>
          If the script file has been compiled/executed before, the previously
          compiled bytecode and metadata is loaded from the
          <code>~/.ammonite/cache</code>. If not, the script is parsed but <i>not
          yet</i> compiled.</li>
        <li>
          <a href="#Multi-stageScripts">Multi-stage Scripts</a> are split into multiple individual
          scripts, to be handled separately/sequentially.</li>
        <li>
          Any <a href="#MagicImports">Magic Imports</a> are resolved: any
          <a href="#import$ivy">Ivy dependencies are downloaded</a>, or any
          <a href="#import$file">imported scripts</a> are themselves run.
          Any imported scripts are themselves handled in the same way, as are
          any scripts <i>they</i> import, etc.
</li>
        <li>
          If the script has already been previously compiled and cached, the
          cached bytecode that was read off of disk earlier is executed.
</li>
        <li>
          Otherwise, the source code for this script is then wrapped in a
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">package</code>/<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">object</code> wrapper, corresponding to the
          path to the script from the current script's enclosing folder.
          For example, a script at path <code>foo/bar/baz/Qux.sc</code> will be
          wrapped in:

          <pre><code class="scala scalatex-site-Styles-highlightMe">package foo.bar.baz
object Qux{
  // script code
}

</code></pre></li>
        <li>
          The script is then compiled and executed.
</li></ul>
      <p>
        In general, due to Scala's slow compiler, Scala Scripts rely heavily
        on caching to achieve reasonable performance. While the first run of a
        modified script has a few-seconds overhead due to the Scala compiler,
        subsequent runs of the same script should be fast-ish, with only a few
        100ms overhead for spinning up a JVM.
</p>
      <p>
        Although this is much slower than other scripting languages like Bash
        (which starts up in ~4ms) or Python (~30ms), in practice it is
        acceptable for many use cases. You probably do not want to
        <code>find . | xargs amm Foo.sc</code> on large numbers of files, where
        the 100ms overhead will add up, but for individual scripts it should
        be fine.</p>
      <p>
        Furthermore, Ammonite makes it really easy to include that sort of
        recursive/iterative logic inside a single script: you can use
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls!</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec!</code> from <a href="#Ammonite-Ops">Ammonite-Ops</a> to
        traverse the filesystem and work on multiple files all within the same
        process, which avoids duplicating the startup overhead on all the files
        you are manipulating.

</p>
    <h2 id="SBTIntegration" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#SBTIntegration" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>SBT Integration</h2>
      <p>
        If you have an existing SBT project and you'd like to access those
        classes from an ammonite script, you can achieve this by running
        your script through SBT itself. This requires adding ammonite to your
        SBT project and creating a &quot;bridge&quot; class to pass arguments from SBT
        into an ammonite <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Main</code> class.
</p>
      <p>
        Add the ammonite 1.6.8 dependency to <code>build.sbt</code>:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">libraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite&quot; % &quot;1.6.8&quot; % &quot;test&quot; cross CrossVersion.full
</code></pre>
      <p>
        In your test directory, create a class like:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">package ammonite.integration
object AmmoniteBridge {
  def main(args: Array[String]): Unit = {
    ammonite.Main.main(args)
  }
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/integration/src/test/scala/ammonite/integration/AmmoniteBridge.scala#L0-L6" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Run your script using <code>sbt &quot;test:run /path/to/script.sc arg1 arg2 arg3&quot;</code>.
</p>
      <p>
        If you have already started an SBT repl, then you can run the above without the quotes:
        <code>test:run /path/to/script.sc arg1 arg2 arg3</code>
        </p>
      <p>
        Running a script from your SBT project can be achieved with
        <code>ammonite.Main.main(Array(&quot;--predef-code&quot;, &quot;&quot;&quot;println(&quot;welcome!&quot;)&quot;&quot;&quot;, &quot;file.sc&quot;))</code></p>

  

<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Ammonite-Ops" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Ammonite-Ops<a class=" scalatex-site-Styles-headerLink" href="#Ammonite-Ops" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /><h2 style="font-weight: 300;color: #ccc;padding: 0px;margin-top: 0px;">A Rock-solid Filesystem Library for Scala</h2></div>
  <p>
    <b>Ammonite-Ops</b> is a library to make common filesystem operations in Scala as concise and easy-to-use as from the Bash shell, while being robust enough to use in large applications without getting messy. It lives in the same repo as the Ammonite REPL, but can easily be used stand-alone in a normal SBT/maven project.
</p>
  <p>
    To get started with Ammonite-Ops, add this to your <code>build.sbt</code>:
</p>
  <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">libraryDependencies += &quot;com.lihaoyi&quot; %% &quot;ammonite-ops&quot; % &quot;1.6.8&quot;</code>

  <p>
    And you're all set! Here's an example of some common operations you can do with Ammonite-Ops
</p>
  

  <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">import ammonite.ops._

// Pick the directory you want to work with,
// relative to the process working dir
val wd = pwd/'ops/'target/&quot;scala-2.11&quot;/&quot;test-classes&quot;/'example2

// Delete a file or folder, if it exists
rm! wd

// Make a folder named &quot;folder&quot;
mkdir! wd/'folder

// Copy a file or folder to a particular path
cp(wd/'folder, wd/'folder1)
// Copy a file or folder *into* another folder at a particular path
// There's also `cp.over` which copies it to a path and stomps over
// anything that was there before.
cp.into(wd/'folder, wd/'folder1)


// List the current directory
val listed = ls! wd

// Write to a file without pain! Necessary
// enclosing directories are created automatically
write(wd/'dir2/&quot;file1.scala&quot;, &quot;package example\nclass Foo{}\n&quot;, createFolders = true)
write(wd/'dir2/&quot;file2.scala&quot;, &quot;package example\nclass Bar{}\n&quot;, createFolders = true)

// Rename all .scala files inside the folder d into .java files
ls! wd/'dir2 | mv{case r&quot;$x.scala&quot; =&gt; s&quot;$x.java&quot;}

// List files in a folder
val renamed = ls! wd/'dir2

// Line-count of all .java files recursively in wd
val lineCount = ls.rec! wd |? (_.ext == &quot;java&quot;) | read.lines | (_.size) sum

// Find and concatenate all .java files directly in the working directory
mkdir(wd / 'target)
ls! wd/'dir2 |? (_.ext == &quot;java&quot;) | read |&gt; (write(wd/'target/&quot;bundled.java&quot;, _))</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L113-L154" target="_blank"><i class="fa fa-link "></i></a></pre>

  <p>
    These examples make heavy use of Ammonite-Ops' <a href="#Paths">Paths</a>, <a href="#Operations">Operations</a> and <a href="#Extensions">Extensions</a> to achieve their minimal, concise syntax</p>
  <p>
    As you can see, Ammonite-Ops replaces the common mess of boilerplate:
</p>
  <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">def removeAll(path: String) = {
  def getRecursively(f: java.io.File): Seq[java.io.File] = {
    f.listFiles.filter(_.isDirectory).flatMap(getRecursively) ++ f.listFiles
  }
  getRecursively(new java.io.File(path)).foreach{f =&gt;
    println(f)
    if (!f.delete())
      throw new RuntimeException(&quot;Failed to delete &quot; + f.getAbsolutePath)
  }
  new java.io.File(path).delete
}
removeAll(&quot;target/folder/thing&quot;)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L192-L205" target="_blank"><i class="fa fa-link "></i></a></pre>

  <p>
    With a single, sleek expression:
</p>
  <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">rm! pwd/'target/'folder/'thing</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L209-L210" target="_blank"><i class="fa fa-link "></i></a></pre>

  <p>
    That handles the common case for you: recursively deleting folders, not-failing if the file doesn't exist, etc.
</p>
  <p>
    Note: Ammonite-Ops supports Windows experimentally, even if <a href="#Ammonite-REPL">Ammonite-REPL</a> does not. That means you can use these convenient filesystem operations and commands in your Scala programs that run on Windows. Try it out and let me know if there are problems.
</p>
  <h1 id="Paths" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Paths" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Paths</h1>
    <p>
      Ammonite uses strongly-typed data-structures to represent filesystem paths. The two basic versions are:
</p>
    <ul>
      <li>
        <code>Path</code>: an absolute path, starting from the root
</li>
      <li>
        <code>RelPath</code>: a relative path, not rooted anywhere
</li></ul>
    <p>
      Generally, almost all commands take absolute <code>Path</code>s. These have a number of useful operations that can be performed on them. Absolute paths can be created in a few ways:
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// Get the process' Current Working Directory. As a convention
// the directory that &quot;this&quot; code cares about (which may differ
// from the pwd) is called `wd`
val wd = pwd

// A path nested inside `wd`
wd/'folder/'file

// A path starting from the root
root/'folder/'file

// A path with spaces or other special characters
wd/&quot;My Folder&quot;/&quot;My File.txt&quot;

// Up one level from the wd
wd/up

// Up two levels from the wd
wd/up/up</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L214-L233" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      Note that there are no in-built operations to change the <code>pwd</code>. In general you should not need to: simply defining a new path, e.g.
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val target = pwd/'target</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L235-L236" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      Should be sufficient for most needs.
</p>
    <p>
      Above, we made use of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">pwd</code> built-in path. There are a number of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s built into Ammonite:
</p>
    <ul>
      <li>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">pwd</code>: The current working directory of the process. This can't be changed in Java, so if you need another path to work with the convention is to define a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">wd</code> variable.</li>
      <li>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">root</code>: The root of the filesystem.</li>
      <li>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">home</code>: The home directory of the current user.</li>
      <li>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">tmp()</code>/<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">tmp.dir()</code>: Creates a temporary file/folder and returns the path.
</li></ul>
    <h2 id="RelPaths" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#RelPaths" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>RelPaths</h2>
      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>s represent relative paths. These are basically the same data structure as <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s, except that they can represent a number of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">up</code>s before the relative path is applied. They can be created in the following ways:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// The path &quot;folder/file&quot;
val rel1 = 'folder/'file
val rel2 = 'folder/'file

// The path &quot;file&quot;; will get converted to a RelPath by an implicit
val rel3 = 'file

// The relative difference between two paths
val target = pwd/'target/'file
assert((target relativeTo pwd) == 'target/'file)

// `up`s get resolved automatically
val minus = pwd relativeTo target
val ups = up/up
assert(minus == ups)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L238-L253" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        In general, very few APIs take relative paths. Their main purpose is to be combined with absolute paths in order to create new absolute paths. e.g.
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val target = pwd/'target/'file
val rel = target relativeTo pwd
val newBase = root/'code/'server
assert(newBase/rel == root/'code/'server/'target/'file)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L258-L262" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">up</code> is a relative path that comes in-built:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val target = root/'target/'file
assert(target/up == root/'target)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L264-L266" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Note that all paths, both relative and absolute, are always expressed in a canonical manner:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">assert((root/'folder/'file/up).toString == &quot;/folder&quot;)
// not &quot;/folder/file/..&quot;

assert(('folder/'file/up).toString == &quot;folder&quot;)
// not &quot;folder/file/..&quot;</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L269-L274" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        So you don't need to worry about canonicalizing your paths before comparing them for equality or otherwise manipulating them.
</p>
    <h2 id="PathOperations" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#PathOperations" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Path Operations</h2>

      <p>
        Ammonite's paths are transparent data-structures, and you can always access the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">segments</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ups</code> directly. Nevertheless, Ammonite defines a number of useful operations that handle the common cases of dealing with these paths.
</p>
      <p>
        In this definition, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ThisType</code> represents the same type as the current path; e.g. a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>'s <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">/</code> returns a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code> while a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>'s <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">/</code> returns a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>. Similarly, you can only compare or subtract paths of the same type.
</p>
      <p>
        Apart from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>s themselves, a number of other data structures are convertible into <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>s when spliced into a path using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">/</code>:
</p>
      <ul>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Symbols</code>s</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Array[T]</code>s where <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">T</code> is convertible into a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq[T]</code>s where <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">T</code> is convertible into a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>
</li></ul>
    <h2 id="ConstructingPaths" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ConstructingPaths" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Constructing Paths</h2>
      <p>
        Apart from built-ins like <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">pwd</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">root</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">home</code>, you can also construct Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.io.File</code>s or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.nio.file.Path</code>s:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val relStr = &quot;hello/cow/world/..&quot;
val absStr = &quot;/hello/world&quot;

assert(
  RelPath(relStr) == 'hello/'cow,
  // Path(...) also allows paths starting with ~,
  // which is expanded to become your home directory
  Path(absStr) == root/'hello/'world
)

// You can also pass in java.io.File and java.nio.file.Path
// objects instead of Strings when constructing paths
val relIoFile = new java.io.File(relStr)
val absNioFile = java.nio.file.Paths.get(absStr)

assert(
  RelPath(relIoFile) == 'hello/'cow,
  Path(absNioFile) == root/'hello/'world,
  Path(relIoFile, root/'base) == root/'base/'hello/'cow
)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/PathTests.scala#L263-L283" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Trying to construct invalid paths fails with exceptions:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val relStr = &quot;hello/..&quot;
intercept[java.lang.IllegalArgumentException]{
  Path(relStr)
}

val absStr = &quot;/hello&quot;
intercept[java.lang.IllegalArgumentException]{
  RelPath(absStr)
}

val tooManyUpsStr = &quot;/hello/../..&quot;
intercept[PathError.AbsolutePathOutsideRoot.type]{
  Path(tooManyUpsStr)
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/PathTests.scala#L310-L324" target="_blank"><i class="fa fa-link "></i></a></pre>
      <p>
        As you can see, attempting to parse a relative path with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code> or an absolute path with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code> throws an exception. If you're uncertain about what kind of path you are getting, you could use <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">BasePath</code> to parse it:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val relStr = &quot;hello/cow/world/..&quot;
val absStr = &quot;/hello/world&quot;
assert(
  FilePath(relStr) == 'hello/'cow,
  FilePath(absStr) == root/'hello/'world
)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/PathTests.scala#L287-L293" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        This converts it into a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">BasePath</code>, which is either a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>. It's then up to you to pattern-match on the types and decide what you want to do in each case.
</p>
      <p>
        You can also pass in a second argument to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path(..., base)</code>. If the path being parsed is a relative path, this <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">base</code> will be used to coerce it into an absolute path:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val relStr = &quot;hello/cow/world/..&quot;
val absStr = &quot;/hello/world&quot;
val basePath: FilePath = FilePath(relStr)
assert(
  Path(relStr, root/'base) == root/'base/'hello/'cow,
  Path(absStr, root/'base) == root/'hello/'world,
  Path(basePath, root/'base) == root/'base/'hello/'cow,
  Path(&quot;.&quot;, pwd).last != &quot;&quot;
)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/PathTests.scala#L297-L306" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        For example, if you wanted the common behavior of converting relative paths to absolute based on your current working directory, you can pass in <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">pwd</code> as the second argument to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path(...)</code>. Apart from passing in <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.io.File</code>s or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.nio.file.Path</code>s, you can also pass in <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">BasePath</code>s you parsed early as a convenient way of converting it to a absolute path, if it isn't already one.
</p>
      <hr />

      <p>
        In general, Ammonite is very picky about the distinction between relative and absolute paths, and doesn't allow &quot;automatic&quot; conversion between them based on current-working-directory the same way many other filesystem APIs (Bash, Java, Python, ...) do. Even in cases where it's uncertain, e.g. you're taking user input as a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>, you have to either handle both possibilities with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">BasePath</code> or explicitly choose to convert relative paths to absolute using some base.</p>
      <p>
        While this adds some boilerplate, it should overall result in more robust filesystem code that doesn't contain bugs like <a href="https://github.com/valvesoftware/steam-for-linux/issues/3671">this one</a>.
</p>
  <h1 id="Operations" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Operations" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Operations</h1>
    <p>
      <a href="#Paths">Paths</a> not aren't interesting on their own, but serve as a base to use to perform filesystem operations in a concise and easy to use way. Here is a quick tour of the core capabilities that Ammonite-Ops provides:
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">import ammonite.ops._

// Let's pick our working directory
val wd: Path = pwd/'ops/'target/&quot;scala-2.11&quot;/&quot;test-classes&quot;/'example3

// And make sure it's empty
rm! wd
mkdir! wd

// Reading and writing to files is done through the read! and write!
// You can write `Strings`, `Traversable[String]`s or `Array[Byte]`s
write(wd/&quot;file1.txt&quot;, &quot;I am cow&quot;)
write(wd/&quot;file2.txt&quot;, Seq(&quot;I am cow\n&quot;, &quot;hear me moo&quot;))
write(wd/'file3, &quot;I weigh twice as much as you&quot;.getBytes)

// When reading, you can either `read!` a `String`, `read.lines!` to
// get a `Vector[String]` or `read.bytes` to get an `Array[Byte]`
read! wd/&quot;file1.txt&quot;        ==&gt; &quot;I am cow&quot;
read! wd/&quot;file2.txt&quot;        ==&gt; &quot;I am cow\nhear me moo&quot;
read.lines! wd/&quot;file2.txt&quot;  ==&gt; Vector(&quot;I am cow&quot;, &quot;hear me moo&quot;)
read.bytes! wd/&quot;file3&quot;      ==&gt; &quot;I weigh twice as much as you&quot;.getBytes

// These operations are mirrored in `read.resource`,
// `read.resource.lines` and `read.resource.bytes` to conveniently read
// files from your classpath:
val resourcePath = resource/'test/'ammonite/'ops/'folder/&quot;file.txt&quot;
read(resourcePath).length        ==&gt; 18
read.bytes(resourcePath).length  ==&gt; 18
read.lines(resourcePath).length  ==&gt; 1

// You can read resources relative to any particular class, including
// the &quot;current&quot; class by passing in `getClass`
val relResourcePath = resource(getClass)/'folder/&quot;file.txt&quot;
read(relResourcePath).length        ==&gt; 18
read.bytes(relResourcePath).length  ==&gt; 18
read.lines(relResourcePath).length  ==&gt; 1

// By default, `write` fails if there is already a file in place. Use
// `write.append` or `write.over` if you want to append-to/overwrite
// any existing files
write.append(wd/&quot;file1.txt&quot;, &quot;\nI eat grass&quot;)
write.over(wd/&quot;file2.txt&quot;, &quot;I am cow\nHere I stand&quot;)

read! wd/&quot;file1.txt&quot;        ==&gt; &quot;I am cow\nI eat grass&quot;
read! wd/&quot;file2.txt&quot;        ==&gt; &quot;I am cow\nHere I stand&quot;

// You can create folders through `mkdir!`. This behaves the same as
// `mkdir -p` in Bash, and creates and parents necessary
val deep = wd/'this/'is/'very/'deep
mkdir! deep
// Writing to a file also creates necessary parents
write(deep/'deeeep/&quot;file.txt&quot;, &quot;I am cow&quot;, createFolders = true)

// `ls` provides a listing of every direct child of the given folder.
// Both files and folders are included
ls! wd    ==&gt; Seq(wd/&quot;file1.txt&quot;, wd/&quot;file2.txt&quot;, wd/'file3, wd/'this)

// `ls.rec` does the same thing recursively
ls.rec! deep ==&gt; Seq(deep/'deeeep, deep/'deeeep/&quot;file.txt&quot;)

// You can move files or folders with `mv` and remove them with `rm!`
ls! deep  ==&gt; Seq(deep/'deeeep)
mv(deep/'deeeep, deep/'renamed_deeeep)
ls! deep  ==&gt; Seq(deep/'renamed_deeeep)

// `mv.into` lets you move a file into a
// particular folder, rather than to particular path
mv.into(deep/'renamed_deeeep/&quot;file.txt&quot;, deep)
ls! deep/'renamed_deeeep ==&gt; Seq()
ls! deep  ==&gt; Seq(deep/&quot;file.txt&quot;, deep/'renamed_deeeep)

// `mv.over` lets you move a file to a particular path, but
// if something was there before it stomps over it
mv.over(deep/&quot;file.txt&quot;, deep/'renamed_deeeep)
ls! deep  ==&gt; Seq(deep/'renamed_deeeep)
read! deep/'renamed_deeeep ==&gt; &quot;I am cow&quot; // contents from file.txt

// `rm!` behaves the same as `rm -rf` in Bash, and deletes anything:
// file, folder, even a folder filled with contents
rm! deep/'renamed_deeeep
rm! deep/&quot;file.txt&quot;
ls! deep  ==&gt; Seq()

// You can stat paths to find out information about any file or
// folder that exists there
val info = stat! wd/&quot;file1.txt&quot;
info.isDir  ==&gt; false
info.isFile ==&gt; true
info.size   ==&gt; 20

// Ammonite provides an implicit conversion from `Path` to
// `stat`, so you can use these attributes directly
(wd/&quot;file1.txt&quot;).size ==&gt; 20

// You can also use `stat.full` which provides more information
val fullInfo = stat.full(wd/&quot;file1.txt&quot;)
fullInfo.ctime: FileTime
fullInfo.atime: FileTime
fullInfo.group: GroupPrincipal
()</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L11-L111" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      In these definitions, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Op1</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Op2</code> are isomorphic to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Function1</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Function2</code>. The main difference is that ops can be called in two ways:
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">rm(filepath)
rm! filepath
</code></pre>
    <p>
      The latter syntax allows you to use it more easily from the command line, where remembering to close all your parenthesis is a hassle. Indentation signifies nesting, e.g. in addition to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write!</code> you also have <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write.append!</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write.over!</code>
</p>
    <h2 id="OperatorReference" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#OperatorReference" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Operator Reference</h2>
      <p>
        All of these operations are pre-defined and strongly typed, so feel free to jump to their implementation to look at what they do or what else is available. Here's a shortlist of the one that may interest you:
</p>
      <ul>
        
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls! path</code> <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.ls$">[doc]</a> returning <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Vector[Path]</code>, and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.iter! path</code> returning a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Iterator[Path]</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec! path</code> <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.ls$$rec$">[doc]</a> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec.iter!</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read! path</code> <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.read$">[doc]</a> returning a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>, and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.lines! path</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.bytes! path</code> returning <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq[String]</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Array[Byte]</code>. You can also use the various <code>read!</code> commands for <a href="#ReadingResources">Reading Resources</a> or reading <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.io.InputStream</code>s</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write(path, contents)</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.write$">[doc]</a>, which lets you write <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Array[Byte]</code>s, and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq</code>s of those</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">rm! path</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.rm$">[doc]</a>, roughly Bash's <code>rm -rf</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">mv(src, dest)</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.mv$">[doc]</a></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cp(src, dest)</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.cp$">[doc]</a>, roughly Bash's <code>cp -r</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">exists! path</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.exists$">[doc]</a></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">stat! path</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.stat$">[doc]</a></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">stat.full! path</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.stat$$full$">[doc]</a></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ln(src, dest)</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.ln$">[doc]</a></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">kill(9)! processId</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.kill">[doc]</a>
</li></ul>
      <p>
        In general, each operator has sensible/safe defaults:
</p>
      <ul>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">rm</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cp</code> are recursive</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">rm</code> ignores the file if it doesn't exist</li>
        <li>
          all operations that create a file or folder (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">mkdir</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">mv</code>) automatically create any necessary parent directories</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write</code> also does <i>not</i> stomp over existing files by default. You need to use <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write.over</code></li></ul>
      <p>
        In general, this should make these operations much easier to use; the defaults should cover the 99% use case without needing any special flags or fiddling.

</p>
    <h2 id="Extensions" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Extensions" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Extensions</h2>
      <p>
        Ammonite-Ops contains a set of extension methods on common types, which serve no purpose other than to make things more concise. These turn Scala from a &quot;relatively-concise&quot; language into one as tight as Bash scripts, while still maintaining the high level of type-safety and maintainability that comes with Scala code.
</p>
      <h3 id="Traversable" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Traversable" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Traversable</h3>
        <p>
          These extensions apply to any <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Traversable</code>: <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">List</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Array</code>s, and others.</p>
        <ul>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things | f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things map f</code></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things || f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things flatMap f</code></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |? f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things filter f</code></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |&amp; f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things reduce f</code></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |! f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things foreach f</code></li></ul>
        <p>
          These should behave exactly the same as their implementations; their sole purpose is to make things more concise at the command-line.
</p>
      <h3 id="Pipeable" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Pipeable" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Pipeable</h3>
        <ul>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">thing |&gt; f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">f(thing)</code>
</li></ul>
        <p>
          This lets you flip around the function and argument, and fits nicely into the Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">|</code> pipelines.
</p>
      <h3 id="Callable" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Callable" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Callable</h3>
        <ul>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">f! thing</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">f(thing)</code>
</li></ul>
        <p>
          This is another syntax-saving extension, that makes it easy to call functions without having to constantly be opening and closing brackets. It does nothing else.
</p>
    <h2 id="Chaining" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Chaining" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Chaining</h2>
      <p>
        The real value of Ammonite is the fact that you can pipe things together as easily as you could in Bash. No longer do you need to write reams of boilerplate to accomplish simple tasks. Some of these chains are listed at the top of this readme, here are a few more fun examples:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// Move all files inside the &quot;py&quot; folder out of it
ls! wd/&quot;py&quot; | mv.all*{case d/&quot;py&quot;/x =&gt; d/x }

// Find all dot-files in the current folder
val dots = ls! wd |? (_.last(0) == '.')

// Find the names of the 10 largest files in the current working directory
ls.rec! wd | (x =&gt; x.size -&gt; x) sortBy (-_._1) take 10

// Sorted list of the most common words in your .scala source files
def txt = ls.rec! wd |? (_.ext == &quot;scala&quot;) | read
def freq(s: Seq[String]) = s groupBy (x =&gt; x) mapValues (_.length) toSeq
val map = txt || (_.split(&quot;[^a-zA-Z0-9_]&quot;)) |&gt; freq sortBy (-_._2)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L168-L182" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        As you can see, you can often compose elaborate operations entirely naturally using the available pipes, without needing to remember any special flags or techniques.
</p>
      <p>
        Here's another example:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// Ensure that we don't have any Scala files in the current working directory
// which have lines more than 100 characters long, excluding generated sources
// in `src_managed` folders.

def longLines(p: Path) =
  (p, read.lines(p).zipWithIndex |? (_._1.length &gt; 100) | (_._2))

val filesWithTooLongLines = (
  %%(&quot;git&quot;, &quot;ls-files&quot;)(ammonite.ops.pwd).out.lines
      | (Path(_, ammonite.ops.pwd))
      |? (_.ext == &quot;scala&quot;)
      | longLines
      |? (_._2.length &gt; 0)
      |? (!_._1.segments.contains(&quot;src_managed&quot;))
)

assert(filesWithTooLongLines.length == 0)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L294-L311" target="_blank"><i class="fa fa-link "></i></a></pre>

    <h2 id="ReadingResources" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ReadingResources" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Reading Resources</h2>
      <p>
        In addition to manipulating paths on the filesystem, you can also manipulate <code>resource</code> paths in order to read resources off of the Java classpath. By default, the path used to load resources is absolute, using the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Thread.currentThread().getContextClassLoader</code>. You can also pass in a classloader explicitly to the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">resource</code> call:
  </p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val contents = read(resource/'test/'ammonite/'ops/'folder/&quot;file.txt&quot;)
assert(contents.contains(&quot;file contents lols&quot;))

val cl = getClass.getClassLoader
val contents2 = read(resource(cl)/'test/'ammonite/'ops/'folder/&quot;file.txt&quot;)
assert(contents2.contains(&quot;file contents lols&quot;))</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/OpTests.scala#L52-L58" target="_blank"><i class="fa fa-link "></i></a></pre>
  
      <p>
        If you want to load resources relative to a particular class, pass in a class for the resource to be relative, or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">getClass</code> to get something relative to the current class.
  </p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val cls = classOf[test.ammonite.ops.Testing]
val contents = read! resource(cls)/'folder/&quot;file.txt&quot;
assert(contents.contains(&quot;file contents lols&quot;))

val contents2 = read! resource(getClass)/'folder/&quot;file.txt&quot;
assert(contents2.contains(&quot;file contents lols&quot;))</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/OpTests.scala#L61-L67" target="_blank"><i class="fa fa-link "></i></a></pre>
  
      <p>
        In both cases, reading resources is performed as if you did not pass a leading slash into the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">getResource(&quot;foo/bar&quot;)</code> call. In the case of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ClassLoader#getResource</code>, passing in a leading slash is never valid, and in the case of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Class#getResource</code>, passing in a leading slash is equivalent to calling <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">getResource</code> on the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ClassLoader</code>.</p>
      <p>
        Ammonite-Ops ensures you only use the two valid cases in the API, without a leading slash, and not the two cases with a leading slash which are redundant (in the case of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Class#getResource</code>, which can be replaced by <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ClassLoader#getResource</code>) or invalid (a leading slash with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ClassLoader#getResource</code>)</p>
      <p>
        Note that you can only <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read!</code> from paths; you can't write to them or perform any other filesystem operations on them, since they're not really files.</p>
      <p>
        Note also that resources belong to classloaders, and you may have multiple classloaders in your application e.g. if you are running in a servlet or REPL. Make sure you use the correct classloader (or a class belonging to the correct classloader) to load the resources you want, or else it might not find them.
  </p>
    <h2 id="SpawningSubprocesses" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#SpawningSubprocesses" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Spawning Subprocesses</h2>
      <p>
        Ammonite-Ops provides easy syntax for anyone who wants to spawn sub-processes, e.g. commands like <code>ls</code> or <code>git commit -am &quot;wip&quot;</code>. This is provided through the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> operators, which are used as follows:
  </p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ import ammonite.ops._
@ import ammonite.ops.ImplicitWd._
@ %ls
build.sbt	log		ops		readme		repl		terminal
echo		modules		project		readme.md	target		shell
res2: Int = 0
@ %%('ls)
res3: CommandResult =
build.sbt
echo
log
modules
ops
project
readme
readme.md
repl
target
terminal
...
</code></pre>
      <p>
        In short, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code> lets you run a command as you would in bash, and dumps the output to standard-out in a similar way, returning the zero return-code upon successful command completion. This lets you run <code>git</code> commands, edit files via <code>vim</code>, open <code>ssh</code> sessions or even start <code>SBT</code> or <code>Python</code> shells right from your Scala REPL!</p>
      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code> throws an <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">InteractiveShelloutException</code> if the return-code is non-zero.</p>
      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> on the other hand is intended for programmatic usage: rather than printing to stdout, it returns a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">CommandResult</code>, which contains the standard output <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.out</code> and standard error <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.err</code> of the subprocess. These provide helper methods to retrieve the stdout or stderr as a list of lines
  </p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val res = %%('ls, &quot;ops/src/test/resources/testdata&quot;)
assert(res.out.lines == Seq(&quot;File.txt&quot;, &quot;folder1&quot;, &quot;folder2&quot;))</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L12-L14" target="_blank"><i class="fa fa-link "></i></a></pre>
  
      <p>
        Or as a single string:
  </p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val res = %%('ls, &quot;ops/src/test/resources/testdata&quot;)
assert(res.out.string == &quot;File.txt\nfolder1\nfolder2\n&quot;)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L16-L18" target="_blank"><i class="fa fa-link "></i></a></pre>
  
      <p>
        Or as an array of bytes:
  </p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">if(Unix()){
  val res = %%('echo, &quot;abc&quot;)
  val listed = res.out.bytes
  //        assert(listed == &quot;File.txt\nfolder\nfolder2\nFile.txt&quot;.getBytes)
  listed.toSeq
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L20-L26" target="_blank"><i class="fa fa-link "></i></a></pre>
  
      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> throws an <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ShelloutException</code> containing the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">CommandResult</code> if the return-code is non-zero.
  </p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val ex = intercept[ShelloutException]{ %%('ls, &quot;does-not-exist&quot;) }
val res: CommandResult = ex.result
assert(
  res.exitCode != 0,
  res.err.string.contains(&quot;No such file or directory&quot;)
)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L43-L49" target="_blank"><i class="fa fa-link "></i></a></pre>
  
      <p>
        In both cases, you end up with a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">CommandResult</code> can then be used however you like.</p>
      <p>
        You can also use backticks to execute commands which aren't valid Scala identifiers, e.g.
  </p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ %`ssh-add`
Enter passphrase for /Users/haoyi/.ssh/id_rsa:
</code></pre>
      <p>
        Lastly, you can also pass arguments into these subprocess calls, as Strings, Symbols or Seqs of Strings:</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ %git 'branch
  gh-pages
  history
* master
  speedip
res4: Int = 0

@ %%('git, 'branch)
res5: CommandResult =
  gh-pages
  history
* master
  speedip

@ %%('git, checkout, &quot;master&quot;)
Already on 'master'
res6: CommandResult =
M	readme/Index.scalatex
Your branch is up-to-date with 'origin/master'.

@ %git(&quot;checkout&quot;, 'master)
M	readme/Index.scalatex
Already on 'master'
Your branch is up-to-date with 'origin/master'.
res8: Int = 0

@ val stuff = List(&quot;readme.md&quot;, &quot;build.sbt&quot;)
stuff: List[String] = List(&quot;readme.md&quot;, &quot;build.sbt&quot;)
@ %('ls, '&quot;.gitignore&quot;, stuff)
.gitignore	build.sbt	readme.md</code></pre>
      <p>
        Ammonite-Ops currently does not provide many convenient ways of piping together multiple processes, but support may come in future if someone finds it useful enough to implement.
  </p>
      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code> calls subprocesses in a way that is compatible with a normal terminal. That means you can easily call things like <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%vim</code> to open a text editor, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%python</code> to open up a Python terminal, or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%sbt</code> to open up the SBT prompt!</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ %python
Python 2.7.6 (default, Sep  9 2014, 15:04:36)
[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; print &quot;Hello %s%s&quot; % (&quot;World&quot;, &quot;!&quot;*3)
Hello World!!!
&gt;&gt;&gt; ^D
res3: Int = 0

@ %sbt
[info] Loading global plugins from /Users/haoyi/.sbt/0.13/plugins
[info] Updating {file:/Users/haoyi/.sbt/0.13/plugins/}global-plugins...
[info] Resolving org.fusesource.jansi#jansi;1.4 ...
[info] Done updating.
[info] Set current project to haoyi (in build file:/Users/haoyi/)
&gt;
</code></pre>
      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> does not do this.
  </p>
      <h3 id="EnvironmentVariables" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#EnvironmentVariables" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Environment Variables</h3>
        <p>
          Ammonite lets you pass in environment variables to subprocess calls; just pass them in as named arguments when you invoke the subprocess ia <code>%</code> or <code>%%</code>:
  </p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val res0 = %%('bash, &quot;-c&quot;, &quot;echo \&quot;Hello$ENV_ARG\&quot;&quot;, ENV_ARG=12)
assert(res0.out.lines == Seq(&quot;Hello12&quot;))

val res1 = %%('bash, &quot;-c&quot;, &quot;echo \&quot;Hello$ENV_ARG\&quot;&quot;, ENV_ARG=12)
assert(res1.out.lines == Seq(&quot;Hello12&quot;))

val res2 = %%('bash, &quot;-c&quot;, &quot;echo 'Hello$ENV_ARG'&quot;, ENV_ARG=12)
assert(res2.out.lines == Seq(&quot;Hello$ENV_ARG&quot;))

val res3 = %%('bash, &quot;-c&quot;, &quot;echo 'Hello'$ENV_ARG&quot;, ENV_ARG=123)
assert(res3.out.lines == Seq(&quot;Hello123&quot;))</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L72-L83" target="_blank"><i class="fa fa-link "></i></a></pre>
  
      <h3 id="InvokingFiles" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#InvokingFiles" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Invoking Files</h3>
        <p>
          You can invoke files on disk using <code>%</code> and <code>%%</code> the same way you can invoke shell commands:
  </p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val res: CommandResult =
  %%(root/'bin/'bash, &quot;-c&quot;, &quot;echo 'Hello'$ENV_ARG&quot;, ENV_ARG=123)

assert(res.out.string.trim == &quot;Hello123&quot;)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L55-L59" target="_blank"><i class="fa fa-link "></i></a></pre>
  
      <h3 id="CurrentWorkingDirectory" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#CurrentWorkingDirectory" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Current Working Directory</h3>
        <p>
          In Ammonite the current working directory is not a side-effect unlike in bash. Instead it is an argument to the command you are invoking. It can be passed in explicitly or implicitly.
  </p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val res1 = %.ls()(pwd) // explicitly
// or implicitly
import ammonite.ops.ImplicitWd._
val res2 = %ls</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L97-L101" target="_blank"><i class="fa fa-link "></i></a></pre>
  
        <p>
          Note how passing it in explicitly, you need to use a <code>.</code> before the command-name in order for it to parse properly. That's a limitation of the Scala syntax that isn't likely to change. Another limitation is that when invoking a file, you need to call <code>.apply</code> explicitly rather than relying on the plain-function-call syntax:
  </p>
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">if(Unix()){
  val output = %%.apply(scriptFolder/'echo_with_wd, 'HELLO)(root/'usr)
  assert(output.out.lines == Seq(&quot;HELLO /usr&quot;))
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L103-L107" target="_blank"><i class="fa fa-link "></i></a></pre>

  
<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Ammonite-Shell" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Ammonite-Shell<a class=" scalatex-site-Styles-headerLink" href="#Ammonite-Shell" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /><h2 style="font-weight: 300;color: #ccc;padding: 0px;margin-top: 0px;">Replacing Bash for the 21st Century</h2></div>
  <p>
    The <b>Ammonite-Shell</b> is a rock-solid system shell that can replace Bash as the interface to your operating system, <a href="#ScalaastheLanguage">using  Scala</a> as the primary command and scripting language, <a href="#RunningontheJVM">running on the JVM</a>. Apart from <a href="#ShellBasics">system operations</a>, Ammonite-Shell provides the full-range of <a href="#Scala/JavaAPIs">Java APIs</a> for usage at the command-line, including loading libraries from Maven Central.
</p>
  <p>
    Why would you want to use Ammonite-Shell instead of Bash? Possible reasons include:
</p>
  <ul>
    <li>
      You can <a href="http://stackoverflow.com/questions/19343390/bash-if-statement-with-white-space-in-variable">never remember the syntax to write an if-statement in Bash</a></li>
    <li>
      You are sick of googling the same set of inconsistent, ad-hoc commands over and over: &quot;<a href="http://stackoverflow.com/questions/12522269/bash-how-to-find-the-largest-file-in-a-directory-and-its-subdirectories">obviously</a> you need the flag <code>-nrk 7</code> to sort by file size!&quot;</li>
    <li>
      You've seen Bash's dynamic/sloppy nature <a href="https://github.com/valvesoftware/steam-for-linux/issues/3671">fail hard</a>, and don't want your future work to fall victim to the same bugs</li>
    <li>
      You think that technology has improved in the last <a href="https://en.wikipedia.org/wiki/Bourne_shell">38 years</a> and a modern systems shell should be better than the shells of our forefathers</li></ul>
  <p>
    If none of these apply to you, then likely you won't be interested. If any of these bullet points strikes a chord, then read on to get started. For more discussion about why this project exists, take a look at the presentation slides for <a href="https://tinyurl.com/beyondbash">Beyond Bash: shell scripting in a typed, OO language</a>, presented at Scala by the Bay 2015, or check out the section on <a href="#DesignDecisions&amp;Tradeoffs">Design Decisions &amp; Tradeoffs</a>.

 </p>
  <p>
    To begin using Ammonite-Shell, simply  download the default <code>predef.sc</code> to configure your REPL to be a usable systems shell before downloading the <a href="#Ammonite-REPL">Ammonite-REPL</a> executable (below):
</p>
  <pre><code class="bash scalatex-site-Styles-highlightMe">$ mkdir -p ~/.ammonite &amp;&amp; curl -L -o ~/.ammonite/predef.sc https://git.io/vHaKQ</code></pre>
  <pre><code class="bash scalatex-site-Styles-highlightMe">$ sudo sh -c '(echo &quot;#!/usr/bin/env sh&quot; &amp;&amp; curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.13-1.6.8) &gt; /usr/local/bin/amm &amp;&amp; chmod +x /usr/local/bin/amm' &amp;&amp; amm
</code></pre>
  <p>
    If you're on <a href="https://www.freebsd.org/">FreeBSD</a> then you can simply install the package by <code>pkg install ammonite</code> or compile it from the <code>shells/ammonite</code> ports directory. Be sure to setup your <code>predef.sc</code> correctly though.
</p>
  <p>
    You can then start using Ammonite as a replacement for Bash:
</p>
  <img src="SystemShell.png" style="width: 100%;" />

  <h1 id="ShellBasics" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ShellBasics" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Shell Basics</h1>
    <p>
      Ammonite-Shell isn't backwards compatible with Bash. It isn't even the same language, giving you access to all of Scala instead of the quirky Bash scripting language. Nevertheless, lots of things you'd expect in Bash turn up in Ammonite-Shell:
</p>
    <h2 id="WorkingDirectory" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#WorkingDirectory" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Working Directory</h2>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>pwd
/home/travis/build/lihaoyi/Ammonite</pre><pre><span style="color: #8e44ad;">@ </span><span>wd 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>
</span></pre></div>

      <p>
        Bash's <code class="bash scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">pwd</code> is instead called <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">wd</code>. Instead of being a subprocess that prints to stdout, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">wd</code> is simply a variable holding the working directory.</p>
      <p>
        As you can see, the path syntax is also different: as an absolute path, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">wd</code> must start from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">root</code> and the path segments must be quoted as Scala <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;string&quot;</code>s or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">'symbol</code>s. Apart from that, however, it is basically the same. The <a href="#Paths">documentation about Paths</a> goes over the syntax and semantics of <a href="#Paths">Paths</a> in more detail.
</p>
      <p>
        You can navigate around the filesystem using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cd!</code>, instead of Bash's <code class="bash scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cd</code>:
</p>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>pwd
/home/travis/build/lihaoyi/Ammonite<span style="color: #8e44ad;">
bash$ </span>cd target<span style="color: #8e44ad;">
bash$ </span>pwd
/home/travis/build/lihaoyi/Ammonite/target<span style="color: #8e44ad;">
bash$ </span>cd ..<span style="color: #8e44ad;">
bash$ </span>pwd
/home/travis/build/lihaoyi/Ammonite</pre><pre><span style="color: #8e44ad;">@ </span><span>wd 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>

</span><span style="color: #8e44ad;">@ </span><span>cd! </span><span style="color: #27ae60;">'target</span><span> 
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'target</span><span>

</span><span style="color: #8e44ad;">@ </span><span>wd 
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'target</span><span>

</span><span style="color: #8e44ad;">@ </span><span>cd! up 
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>

</span><span style="color: #8e44ad;">@ </span><span>wd 
</span><span style="color: #16a085;">res4</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>
</span></pre></div>

    <h2 id="ListingFiles" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ListingFiles" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Listing Files</h2>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>ls
amm
appveyor.yml
build.sbt
build.sc
ci
deploy_key
fail.txt
integration
internals-docs
LICENSE
ops
out
project
readme
readme.md
shell
sshd
target
terminal</pre><pre><span style="color: #8e44ad;">@ </span><span>ls! 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">&quot;.git&quot;</span><span>              </span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span>         </span><span style="color: #27ae60;">&quot;internals-docs&quot;</span><span>    </span><span style="color: #27ae60;">'shell</span><span>
</span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span>        </span><span style="color: #27ae60;">&quot;build.sc&quot;</span><span>          </span><span style="color: #27ae60;">'ops</span><span>                </span><span style="color: #27ae60;">'sshd</span><span>
</span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span>       </span><span style="color: #27ae60;">'ci</span><span>                 </span><span style="color: #27ae60;">'out</span><span>                </span><span style="color: #27ae60;">'target</span><span>
</span><span style="color: #27ae60;">'LICENSE</span><span>            </span><span style="color: #27ae60;">'deploy_key</span><span>         </span><span style="color: #27ae60;">'project</span><span>            </span><span style="color: #27ae60;">'terminal</span><span>
</span><span style="color: #27ae60;">'amm</span><span>                </span><span style="color: #27ae60;">&quot;fail.txt&quot;</span><span>          </span><span style="color: #27ae60;">'readme</span><span>
</span><span style="color: #27ae60;">&quot;appveyor.yml&quot;</span><span>      </span><span style="color: #27ae60;">'integration</span><span>        </span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span>

</span></pre></div>

      <p>
        Bash's <code class="bash scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls</code> syntax is tweaked slightly to become <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls!</code>. Apart from that, it basically does the same thing.
</p>
      <p>
        Listing files in other folders behaves similarly:
</p>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>ls project
build.properties
plugins.sbt
project
target</pre><pre><span style="color: #8e44ad;">@ </span><span>ls! </span><span style="color: #27ae60;">'project</span><span> 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">&quot;build.properties&quot;</span><span>  </span><span style="color: #27ae60;">&quot;plugins.sbt&quot;</span><span>       </span><span style="color: #27ae60;">'project</span><span>            </span><span style="color: #27ae60;">'target</span><span>

</span></pre></div>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>ls project/target
config-classes
scala-2.10
streams</pre><pre><span style="color: #8e44ad;">@ </span><span>ls! </span><span style="color: #27ae60;">'project</span><span>/</span><span style="color: #27ae60;">'target</span><span> 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">&quot;config-classes&quot;</span><span>    </span><span style="color: #27ae60;">&quot;scala-2.10&quot;</span><span>        </span><span style="color: #27ae60;">'streams</span><span>

</span></pre></div>

      <p>
        Again, we have to use the quoted <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">'symbol</code>/<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;string&quot;</code> syntax when defining <a href="#Paths">Paths</a>, but otherwise it behaves identically. You can press <code>&lt;tab&gt;</code> at any point after a <code>/</code> or halfway through a file-name to auto-complete it, just like in Bash.</p>
      <p>
        Listing recursively is done via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec</code>, instead of <code>find</code>:
</p>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>find ops/src/main
ops/src/main
ops/src/main/scala
ops/src/main/scala/ammonite
ops/src/main/scala/ammonite/ops
ops/src/main/scala/ammonite/ops/package.scala
ops/src/main/scala/ammonite/ops/Shellout.scala
ops/src/main/scala/ammonite/ops/FileOps.scala
ops/src/main/scala/ammonite/ops/Extensions.scala
ops/src/main/scala-2.11_2.12
ops/src/main/scala-2.11_2.12/ammonite
ops/src/main/scala-2.11_2.12/ammonite/ops
ops/src/main/scala-2.11_2.12/ammonite/ops/FilterMapExt.scala
ops/src/main/scala-2.11_2.12/ammonite/ops/LsSeq.scala
ops/src/main/scala-2.13
ops/src/main/scala-2.13/ammonite
ops/src/main/scala-2.13/ammonite/ops
ops/src/main/scala-2.13/ammonite/ops/FilterMapExt.scala
ops/src/main/scala-2.13/ammonite/ops/LsSeq.scala</pre><pre><span style="color: #8e44ad;">@ </span><span>ls.rec! </span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">'src</span><span>/</span><span style="color: #27ae60;">'main</span><span> 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">'scala</span><span>
</span><span style="color: #27ae60;">&quot;scala-2.11_2.12&quot;</span><span>
</span><span style="color: #27ae60;">&quot;scala-2.13&quot;</span><span>
</span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>
</span><span style="color: #27ae60;">&quot;scala-2.11_2.12&quot;</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>
</span><span style="color: #27ae60;">&quot;scala-2.13&quot;</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>
</span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>
</span><span style="color: #27ae60;">&quot;scala-2.11_2.12&quot;</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>
</span><span style="color: #27ae60;">&quot;scala-2.13&quot;</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>
</span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;Extensions.scala&quot;</span><span>
</span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;FileOps.scala&quot;</span><span>
</span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;Shellout.scala&quot;</span><span>
</span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;package.scala&quot;</span><span>
</span><span style="color: #27ae60;">&quot;scala-2.11_2.12&quot;</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;FilterMapExt.scala&quot;</span><span>
</span><span style="color: #27ae60;">&quot;scala-2.11_2.12&quot;</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;LsSeq.scala&quot;</span><span>
</span><span style="color: #27ae60;">&quot;scala-2.13&quot;</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;FilterMapExt.scala&quot;</span><span>
</span><span style="color: #27ae60;">&quot;scala-2.13&quot;</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;LsSeq.scala&quot;</span><span>

</span></pre></div>

      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec</code> and other commands are all functions defined by <a href="#Ammonite-Ops">Ammonite-Ops</a>.
</p>
    <h2 id="FilesystemOperations" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#FilesystemOperations" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Filesystem Operations</h2>
      <p>
        Ammonite-Shell uses <a href="#Ammonite-Ops">Ammonite-Ops</a> to provide a nice API to use filesystem operations. The default setup will <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import ammonite.ops._</code> into your <a href="#Ammonite-REPL">Ammonite-REPL</a>, gives the nice path-completion shown above, and also provides some additional command-line-friendly functionality on top of the default <a href="#Ammonite-Ops">Ammonite-Ops</a> commands:
</p>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>mkdir target/test<span style="color: #8e44ad;">
bash$ </span>echo &quot;hello&quot; &gt; target/test/hello.txt<span style="color: #8e44ad;">
bash$ </span>cat target/test/hello.txt
hello<span style="color: #8e44ad;">
bash$ </span>ls target/test
hello.txt<span style="color: #8e44ad;">
bash$ </span>cp target/test/hello.txt target/test/hello2.txt<span style="color: #8e44ad;">
bash$ </span>ls target/test
hello2.txt
hello.txt<span style="color: #8e44ad;">
bash$ </span>mv target/test/hello.txt target/test/hello3.txt<span style="color: #8e44ad;">
bash$ </span>ls target/test
hello2.txt
hello3.txt<span style="color: #8e44ad;">
bash$ </span>rm -rf target/test</pre><pre><span style="color: #8e44ad;">@ </span><span>mkdir! </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span> 


</span><span style="color: #8e44ad;">@ </span><span>write(</span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span>, </span><span style="color: #27ae60;">&quot;hello&quot;</span><span>) 


</span><span style="color: #8e44ad;">@ </span><span>read(</span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span>) 
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">String</span><span> = </span><span style="color: #27ae60;">&quot;hello&quot;</span><span>

</span><span style="color: #8e44ad;">@ </span><span>ls! </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span> 
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span>


</span><span style="color: #8e44ad;">@ </span><span>cp(</span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span>, </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello2.txt&quot;</span><span>) 


</span><span style="color: #8e44ad;">@ </span><span>ls! </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span> 
</span><span style="color: #16a085;">res5</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span>     </span><span style="color: #27ae60;">&quot;hello2.txt&quot;</span><span>


</span><span style="color: #8e44ad;">@ </span><span>mv(</span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span>, </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello3.txt&quot;</span><span>) 


</span><span style="color: #8e44ad;">@ </span><span>ls! </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span> 
</span><span style="color: #16a085;">res7</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">&quot;hello2.txt&quot;</span><span>    </span><span style="color: #27ae60;">&quot;hello3.txt&quot;</span><span>


</span><span style="color: #8e44ad;">@ </span><span>rm! </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span> 

</span></pre></div>
    <h2 id="Piping" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Piping" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Piping</h2>
      <p>
        Ammonite allows piping similar to how Bash does it. Unlike Bash, Ammonite has a variety of <a href="#Extensions">pipes</a> you can use that do different things:</p>
      <ul>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things | f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things map f</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things || f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things flatMap f</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |? f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things filter f</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |&amp; f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things reduce f</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |! f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things foreach f</code>
</li></ul>
      <p>
        For example, this is how you can get the dot-files in the current directory:
</p>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>ls -a | grep &quot;^\.&quot;
.
..
.git
.gitignore
.travis.yml</pre><pre><span style="color: #8e44ad;">@ </span><span>ls! pwd |? (</span><span style="color: #f39c12;">_</span><span>.last(</span><span style="color: #27ae60;">0</span><span>) == </span><span style="color: #27ae60;">'.'</span><span>) 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Seq</span><span>[</span><span style="color: #27ae60;">Path</span><span>] = </span><span style="color: #f39c12;">List</span><span>(
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.git&quot;</span><span>,
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span>,
  root/</span><span style="color: #27ae60;">'home</span><span>/</span><span style="color: #27ae60;">'travis</span><span>/</span><span style="color: #27ae60;">'build</span><span>/</span><span style="color: #27ae60;">'lihaoyi</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span>
)
</span></pre></div>

      <p>
        Here, we're using the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">|?</code> pipe, which basically performs a filter on the paths coming in on the left. In this case, we're checking that for each path, the first character of the last segment of that path is the character <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">'.'</code>. This is slightly more verbose than Bash the bash equivalent shown above, but not by too much.</p>
      <p>
        Here is how to find the largest 3 files in a given directory tree:
</p>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>find ./repl/src -ls | sort -nrk 7 | head -3
find: `./repl/src': No such file or directory</pre><pre><span style="color: #8e44ad;">@ </span><span>ls.rec! wd/</span><span style="color: #27ae60;">'amm</span><span>/</span><span style="color: #27ae60;">'src</span><span> | (x =&gt; x.size -&gt; x.last) sortBy (-</span><span style="color: #f39c12;">_</span><span>._1) take </span><span style="color: #27ae60;">3</span><span> 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Seq</span><span>[(</span><span style="color: #27ae60;">Long</span><span>, </span><span style="color: #27ae60;">String</span><span>)] = </span><span style="color: #f39c12;">List</span><span>(
  (</span><span style="color: #27ae60;">340324L</span><span>, </span><span style="color: #27ae60;">&quot;Resume.docx&quot;</span><span>),
  (</span><span style="color: #27ae60;">227570L</span><span>, </span><span style="color: #27ae60;">&quot;SystemShell.png&quot;</span><span>),
  (</span><span style="color: #27ae60;">208328L</span><span>, </span><span style="color: #27ae60;">&quot;Highlighting.png&quot;</span><span>)
)
</span></pre></div>

      <p>
        And lastly, here is how to perform a recursive line count of all the Scala files in your current directory tree:
</p>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>find ./ops/src/main -name '*.scala' | xargs wc -l
  133 ./ops/src/main/scala/ammonite/ops/package.scala
  214 ./ops/src/main/scala/ammonite/ops/Shellout.scala
  148 ./ops/src/main/scala/ammonite/ops/FileOps.scala
  128 ./ops/src/main/scala/ammonite/ops/Extensions.scala
   59 ./ops/src/main/scala-2.11_2.12/ammonite/ops/FilterMapExt.scala
   11 ./ops/src/main/scala-2.11_2.12/ammonite/ops/LsSeq.scala
   67 ./ops/src/main/scala-2.13/ammonite/ops/FilterMapExt.scala
   24 ./ops/src/main/scala-2.13/ammonite/ops/LsSeq.scala
  784 total</pre><pre><span style="color: #8e44ad;">@ </span><span>ls.rec! wd/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">'src</span><span>/</span><span style="color: #27ae60;">'main</span><span> |? (</span><span style="color: #f39c12;">_</span><span>.ext == </span><span style="color: #27ae60;">&quot;scala&quot;</span><span>) | read.lines | (</span><span style="color: #f39c12;">_</span><span>.size) sum 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">787</span><span>
</span></pre></div>

      <p>
        For more examples of how to use Ammonite's pipes, check out the section on <a href="#Extensions">Extensions</a> and <a href="#Chaining">Chaining</a></p>
    <h2 id="Subprocesses" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Subprocesses" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Subprocesses</h2>
      <p>
        Ammonite provides a convenient way to spawn subprocesses using the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> commands:
</p>
      <ul>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%cmd(arg1, arg2)</code>: Spawn a subprocess with the command <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cmd</code> and command-line arguments <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">arg1</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">arg2</code>. print out any stdout or stderr, take any input from the current console, and return the exit code when all is done.</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%cmd(arg1, arg2)</code>: Spawn a subprocess similar to using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code>, but return the stdout of the subprocess as a String, and throw an exception if the exit code is non-zero.
</li></ul>
      <p>
        For example, this is how you use the <code>bash</code> command to run a standalone bash script in Bash and Ammonite:
</p>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>bash ops/src/test/resources/scripts/echo HELLO
HELLO</pre><pre><span style="color: #8e44ad;">@ </span><span>%bash(</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">'src</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">'resources</span><span>/</span><span style="color: #27ae60;">'scripts</span><span>/</span><span style="color: #27ae60;">'echo</span><span>, </span><span style="color: #27ae60;">&quot;HELLO&quot;</span><span>) 
HELLO

</span></pre></div>
      <p>
        Note that apart from quoting each path segment as a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">'symbol</code>, we also need to quote <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;HELLO&quot;</code> as a string. That makes things slightly more verbose than a traditional shell, but also makes it much clearer when arguments are literals v.s. variables.
</p>
      <p>
        If you are only passing a single argument, or no arguments, Scala allows you to leave off parentheses, as shown:
</p>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>git branch
* (no branch)
  master</pre><pre><span style="color: #8e44ad;">@ </span><span>%git </span><span style="color: #27ae60;">'branch</span><span> 
* (no branch)
  master

</span></pre></div>
      <div><pre><span style="color: #8e44ad;">
bash$ </span>date
Fri Jun 14 07:56:06 UTC 2019</pre><pre><span style="color: #8e44ad;">@ </span><span>%date 
Fri Jun 14 07:56:13 UTC 2019

</span></pre></div>

      <p>
        You can use Ammonite-Ops' support for <a href="#SpawningSubprocesses">Spawning Subprocesses</a> to call any external programs, even interactive ones like Python or SBT!
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ %python
Python 2.7.6 (default, Sep  9 2014, 15:04:36)
[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; print &quot;Hello %s%s&quot; % (&quot;World&quot;, &quot;!&quot;*3)
Hello World!!!
&gt;&gt;&gt; ^D
res3: Int = 0

@ %sbt
[info] Loading global plugins from /Users/haoyi/.sbt/0.13/plugins
[info] Updating {file:/Users/haoyi/.sbt/0.13/plugins/}global-plugins...
[info] Resolving org.fusesource.jansi#jansi;1.4 ...
[info] Done updating.
[info] Set current project to haoyi (in build file:/Users/haoyi/)
&gt;
</code></pre>
  <h1 id="Scripting" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Scripting" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Scripting</h1>
    <p>
      Ammonite-Shell uses <a href="https://www.scala-lang.org/">Scala</a> as its command and scripting language. Although the commands seem short and concise, you have the full power of the language available at any time. This lets you do things that are difficult or infeasible to do when using a traditional shell like Bash.
</p>
    <h2 id="ScalaScripting" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScalaScripting" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Scala Scripting</h2>
      <p>
        Since Ammonite-Shell runs Scala code, you can perform math:
      </p>
      <pre><span style="color: #8e44ad;">@ </span><span>(</span><span style="color: #27ae60;">1</span><span> + </span><span style="color: #27ae60;">2</span><span>) * </span><span style="color: #27ae60;">3</span><span> 
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">9</span><span>

</span><span style="color: #8e44ad;">@ </span><span>math.pow(</span><span style="color: #27ae60;">4</span><span>, </span><span style="color: #27ae60;">4</span><span>) 
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Double</span><span> = </span><span style="color: #27ae60;">256.0</span><span>
</span></pre>
      <p>
        Assign things to values (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">val</code>s):
</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> x = (</span><span style="color: #27ae60;">1</span><span> + </span><span style="color: #27ae60;">2</span><span>) * </span><span style="color: #27ae60;">3</span><span> 
</span><span style="color: #16a085;">x</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">9</span><span>

</span><span style="color: #8e44ad;">@ </span><span>x + x 
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">18</span><span>
</span></pre>

      <p>
        Define re-usable functions:
</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">def</span><span> addMul(x: </span><span style="color: #27ae60;">Int</span><span>) = (x + </span><span style="color: #27ae60;">2</span><span>) * </span><span style="color: #27ae60;">3</span><span> 
defined </span><span style="color: #27ae60;">function</span><span> </span><span style="color: #16a085;">addMul</span><span>

</span><span style="color: #8e44ad;">@ </span><span>addMul(</span><span style="color: #27ae60;">5</span><span>) 
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">21</span><span>

</span><span style="color: #8e44ad;">@ </span><span>addMul(</span><span style="color: #27ae60;">5</span><span>) + </span><span style="color: #27ae60;">1</span><span> 
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">22</span><span>

</span><span style="color: #8e44ad;">@ </span><span>addMul(</span><span style="color: #27ae60;">5</span><span> + </span><span style="color: #27ae60;">1</span><span>) 
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">24</span><span>
</span></pre>

      <p>
        Or make use of mutable <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">var</code>s, conditionals or loops:</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">var</span><span> total = </span><span style="color: #27ae60;">0</span><span> 
</span><span style="color: #16a085;">total</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">0</span><span>

</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">for</span><span>(i &lt;- </span><span style="color: #27ae60;">0</span><span> until </span><span style="color: #27ae60;">100</span><span>){ </span><span style="color: #f39c12;">if</span><span> (i % </span><span style="color: #27ae60;">2</span><span> == </span><span style="color: #27ae60;">0</span><span>) total += </span><span style="color: #27ae60;">1</span><span> } 


</span><span style="color: #8e44ad;">@ </span><span>total 
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">50</span><span>
</span></pre>
    <h2 id="TypedValues" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#TypedValues" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Typed Values</h2>
      <p>
        In Ammonite-Shell, everything is a typed value and not just a stream of bytes as is the case in Bash. That means you can assign them to variables and call methods on them just like you can in any programming language:
</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> files = ls! wd 
</span><span style="color: #16a085;">files</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">&quot;.git&quot;</span><span>              </span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span>         </span><span style="color: #27ae60;">&quot;internals-docs&quot;</span><span>    </span><span style="color: #27ae60;">'shell</span><span>
</span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span>        </span><span style="color: #27ae60;">&quot;build.sc&quot;</span><span>          </span><span style="color: #27ae60;">'ops</span><span>                </span><span style="color: #27ae60;">'sshd</span><span>
</span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span>       </span><span style="color: #27ae60;">'ci</span><span>                 </span><span style="color: #27ae60;">'out</span><span>                </span><span style="color: #27ae60;">'target</span><span>
</span><span style="color: #27ae60;">'LICENSE</span><span>            </span><span style="color: #27ae60;">'deploy_key</span><span>         </span><span style="color: #27ae60;">'project</span><span>            </span><span style="color: #27ae60;">'terminal</span><span>
</span><span style="color: #27ae60;">'amm</span><span>                </span><span style="color: #27ae60;">&quot;fail.txt&quot;</span><span>          </span><span style="color: #27ae60;">'readme</span><span>
</span><span style="color: #27ae60;">&quot;appveyor.yml&quot;</span><span>      </span><span style="color: #27ae60;">'integration</span><span>        </span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span>


</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> count = files.length 
</span><span style="color: #16a085;">count</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">22</span><span>
</span></pre>
      <p>
        As is the case in Scala, you can annotate types. 
</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> files: </span><span style="color: #27ae60;">LsSeq</span><span> = ls! wd 
</span><span style="color: #16a085;">files</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">&quot;.git&quot;</span><span>              </span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span>         </span><span style="color: #27ae60;">&quot;internals-docs&quot;</span><span>    </span><span style="color: #27ae60;">'shell</span><span>
</span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span>        </span><span style="color: #27ae60;">&quot;build.sc&quot;</span><span>          </span><span style="color: #27ae60;">'ops</span><span>                </span><span style="color: #27ae60;">'sshd</span><span>
</span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span>       </span><span style="color: #27ae60;">'ci</span><span>                 </span><span style="color: #27ae60;">'out</span><span>                </span><span style="color: #27ae60;">'target</span><span>
</span><span style="color: #27ae60;">'LICENSE</span><span>            </span><span style="color: #27ae60;">'deploy_key</span><span>         </span><span style="color: #27ae60;">'project</span><span>            </span><span style="color: #27ae60;">'terminal</span><span>
</span><span style="color: #27ae60;">'amm</span><span>                </span><span style="color: #27ae60;">&quot;fail.txt&quot;</span><span>          </span><span style="color: #27ae60;">'readme</span><span>
</span><span style="color: #27ae60;">&quot;appveyor.yml&quot;</span><span>      </span><span style="color: #27ae60;">'integration</span><span>        </span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span>


</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> count: </span><span style="color: #27ae60;">Int</span><span> = files.length 
</span><span style="color: #16a085;">count</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">22</span><span>
</span></pre>

      <p>
        This is often not required (e.g. in the earlier example), since Scala has type inference, but it may make your code clearer. Furthermore, if you make a mistake, having types annotated will help the compiler give a more specific error message.
</p>
      <p>
        The fact that variables are typed means if you try to perform the wrong operation on a variable, you get an error even before the code runs:
</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> files = ls! wd 
</span><span style="color: #16a085;">files</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">&quot;.git&quot;</span><span>              </span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span>         </span><span style="color: #27ae60;">&quot;internals-docs&quot;</span><span>    </span><span style="color: #27ae60;">'shell</span><span>
</span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span>        </span><span style="color: #27ae60;">&quot;build.sc&quot;</span><span>          </span><span style="color: #27ae60;">'ops</span><span>                </span><span style="color: #27ae60;">'sshd</span><span>
</span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span>       </span><span style="color: #27ae60;">'ci</span><span>                 </span><span style="color: #27ae60;">'out</span><span>                </span><span style="color: #27ae60;">'target</span><span>
</span><span style="color: #27ae60;">'LICENSE</span><span>            </span><span style="color: #27ae60;">'deploy_key</span><span>         </span><span style="color: #27ae60;">'project</span><span>            </span><span style="color: #27ae60;">'terminal</span><span>
</span><span style="color: #27ae60;">'amm</span><span>                </span><span style="color: #27ae60;">&quot;fail.txt&quot;</span><span>          </span><span style="color: #27ae60;">'readme</span><span>
</span><span style="color: #27ae60;">&quot;appveyor.yml&quot;</span><span>      </span><span style="color: #27ae60;">'integration</span><span>        </span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span>


</span><span style="color: #8e44ad;">@ </span><span>ls + </span><span style="color: #27ae60;">123</span><span> 
</span><span style="color: #c0392b;">cmd1.sc:1: type mismatch;
 found   : Int(123)
 required: String
val res1 = ls + 123
                ^</span><span>
</span><span style="color: #c0392b;">Compilation Failed</span><span>
</span></pre>

      <p>
        The fact that Ammonite-Shell uses typed, structured values instead of byte streams makes a lot of things easier. For example, all the common data structures like Arrays and Maps are present:
</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> numbers = Array(</span><span style="color: #27ae60;">1</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">6</span><span>, </span><span style="color: #27ae60;">10</span><span>) 
</span><span style="color: #16a085;">numbers</span><span>: </span><span style="color: #27ae60;">Array</span><span>[</span><span style="color: #27ae60;">Int</span><span>] = </span><span style="color: #f39c12;">Array</span><span>(</span><span style="color: #27ae60;">1</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">6</span><span>, </span><span style="color: #27ae60;">10</span><span>)

</span><span style="color: #8e44ad;">@ </span><span>numbers(</span><span style="color: #27ae60;">0</span><span>) 
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">1</span><span>

</span><span style="color: #8e44ad;">@ </span><span>numbers(</span><span style="color: #27ae60;">3</span><span>) 
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">10</span><span>

</span><span style="color: #8e44ad;">@ </span><span>numbers.sum 
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">20</span><span>

</span><span style="color: #8e44ad;">@ </span><span>numbers(</span><span style="color: #27ae60;">3</span><span>) = </span><span style="color: #27ae60;">100</span><span> 


</span><span style="color: #8e44ad;">@ </span><span>numbers.sum 
</span><span style="color: #16a085;">res5</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">110</span><span>

</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> scores = Map(</span><span style="color: #27ae60;">&quot;txt&quot;</span><span> -&gt; </span><span style="color: #27ae60;">5</span><span>, </span><span style="color: #27ae60;">&quot;scala&quot;</span><span> -&gt; </span><span style="color: #27ae60;">0</span><span>) 
</span><span style="color: #16a085;">scores</span><span>: </span><span style="color: #27ae60;">Map</span><span>[</span><span style="color: #27ae60;">String</span><span>, </span><span style="color: #27ae60;">Int</span><span>] = </span><span style="color: #f39c12;">Map</span><span>(</span><span style="color: #27ae60;">&quot;txt&quot;</span><span> -&gt; </span><span style="color: #27ae60;">5</span><span>, </span><span style="color: #27ae60;">&quot;scala&quot;</span><span> -&gt; </span><span style="color: #27ae60;">0</span><span>)

</span><span style="color: #8e44ad;">@ </span><span>scores(</span><span style="color: #27ae60;">&quot;txt&quot;</span><span>) 
</span><span style="color: #16a085;">res7</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">5</span><span>
</span></pre>
      <p>
        Naturally, these data structures are typed too! Trying to put the wrong sort of value inside of them results in compilation errors before the code gets a chance to run:</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> numbers = Array(</span><span style="color: #27ae60;">1</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">6</span><span>, </span><span style="color: #27ae60;">10</span><span>) 
</span><span style="color: #16a085;">numbers</span><span>: </span><span style="color: #27ae60;">Array</span><span>[</span><span style="color: #27ae60;">Int</span><span>] = </span><span style="color: #f39c12;">Array</span><span>(</span><span style="color: #27ae60;">1</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">6</span><span>, </span><span style="color: #27ae60;">10</span><span>)

</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> myValue = </span><span style="color: #27ae60;">&quot;3&quot;</span><span> 
</span><span style="color: #16a085;">myValue</span><span>: </span><span style="color: #27ae60;">String</span><span> = </span><span style="color: #27ae60;">&quot;3&quot;</span><span>

</span><span style="color: #8e44ad;">@ </span><span>numbers(myValue) </span><span style="color: #2980b9;">// Doesn't work</span><span> 
</span><span style="color: #c0392b;">cmd2.sc:1: type mismatch;
 found   : String
 required: Int
val res2 = numbers(myValue) // Doesn't work
                   ^</span><span>
</span><span style="color: #c0392b;">Compilation Failed</span><span>

</span><span style="color: #8e44ad;">@ </span><span>numbers(</span><span style="color: #27ae60;">1</span><span>) = myValue // Also doesn't work 
</span><span style="color: #c0392b;">cmd2.sc:1: type mismatch;
 found   : String
 required: Int
val res2 = numbers(1) = myValue // Also doesn't work
                        ^</span><span>
</span><span style="color: #c0392b;">Compilation Failed</span><span>

</span><span style="color: #8e44ad;">@ </span><span> </span><span style="color: #2980b9;">// Need to convert the string to an Int</span><span> 

</span><span style="color: #8e44ad;">@ </span><span>numbers(myValue.toInt) 
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">10</span><span>

</span><span style="color: #8e44ad;">@ </span><span>numbers(</span><span style="color: #27ae60;">1</span><span>) = myValue.toInt 


</span><span style="color: #8e44ad;">@ </span><span>numbers(</span><span style="color: #27ae60;">1</span><span>) = </span><span style="color: #27ae60;">&quot;2&quot;</span><span>.toInt 

</span></pre>  
      <p></p>    
        In general, apart from the filesystem-specific commands, you should be able to do anything you would expect to be able to do in a Scala shell or Java project. This documentation isn't intended to be a full tutorial on the Scala language, check out the <a href="https://www.scala-lang.org/documentation/">Scala Documentation</a> if you want to learn more!
    <h2 id="Scala/JavaAPIs" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Scala/JavaAPIs" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Scala/Java APIs</h2>
      <p>
        Apart from the pipe operators described in the earlier section on <a href="#Piping">Piping</a>, Ammonite-Shell allows you to call any valid Scala method on any value; it's just Scala after all! Here's an example using normal Scala collection operations to deal with a list of files, counting how many files exist for each extension:
</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> allFiles = ls.rec! </span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">'src</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">'resources</span><span> 
</span><span style="color: #16a085;">allFiles</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;">'scripts</span><span>
</span><span style="color: #27ae60;">'test</span><span>
</span><span style="color: #27ae60;">'testdata</span><span>
</span><span style="color: #27ae60;">'scripts</span><span>/</span><span style="color: #27ae60;">'echo</span><span>
</span><span style="color: #27ae60;">'scripts</span><span>/</span><span style="color: #27ae60;">'echo_with_wd</span><span>
</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>
</span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">&quot;File.txt&quot;</span><span>
</span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder1</span><span>
</span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder2</span><span>
</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>
</span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder1</span><span>/</span><span style="color: #27ae60;">&quot;Yoghurt Curds Cream Cheese.txt&quot;</span><span>
</span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder2</span><span>/</span><span style="color: #27ae60;">'folder2a</span><span>
</span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder2</span><span>/</span><span style="color: #27ae60;">'folder2b</span><span>
</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">'folder</span><span>
</span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder2</span><span>/</span><span style="color: #27ae60;">'folder2a</span><span>/</span><span style="color: #27ae60;">&quot;I am.txt&quot;</span><span>
</span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder2</span><span>/</span><span style="color: #27ae60;">'folder2b</span><span>/</span><span style="color: #27ae60;">&quot;b.txt&quot;</span><span>
</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">'folder</span><span>/</span><span style="color: #27ae60;">&quot;file.txt&quot;</span><span>


</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> extensionCounts = allFiles.groupBy(</span><span style="color: #f39c12;">_</span><span>.ext).mapValues(</span><span style="color: #f39c12;">_</span><span>.length) 
</span><span style="color: #16a085;">extensionCounts</span><span>: </span><span style="color: #27ae60;">collection</span><span>.</span><span style="color: #27ae60;">MapView</span><span>[</span><span style="color: #27ae60;">String</span><span>, </span><span style="color: #27ae60;">Int</span><span>] = </span><span style="color: #f39c12;">MapView</span><span>((</span><span style="color: #27ae60;">&quot;&quot;</span><span>, </span><span style="color: #27ae60;">12</span><span>), (</span><span style="color: #27ae60;">&quot;txt&quot;</span><span>, </span><span style="color: #27ae60;">5</span><span>))
</span></pre>

      <p>
        Any Java APIs are likewise available:
</p>
      <pre><span style="color: #8e44ad;">@ </span><span>System.out.println(</span><span style="color: #27ae60;">&quot;Hello from Java!&quot;</span><span>) 
Hello from Java!


</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">import</span><span> java.util.</span><span style="color: #f39c12;">_</span><span> 
</span><span style="color: #27ae60;">import </span><span style="color: #16a085;">java.util._</span><span>

</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> date = </span><span style="color: #f39c12;">new</span><span> </span><span style="color: #27ae60;">Date</span><span>() 
</span><span style="color: #16a085;">date</span><span>: </span><span style="color: #27ae60;">Date</span><span> = Fri Jun 14 07:57:59 UTC 2019

</span><span style="color: #8e44ad;">@ </span><span>date.getDay() 
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">5</span><span>
</span></pre>

      <p>
        In fact, Ammonite-Shell allows you to ask for any published third-party Java/Scala library for usage in the shell, and have them downloaded, automatically cached, and made available for use. e.g. we can load popular libraries like <a href="https://github.com/google/guava">Google Guava</a> and using it in the shell:
</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">import</span><span> com.google.common.collect.ImmutableBiMap // Doesn't work 
</span><span style="color: #c0392b;">cmd0.sc:1: object google is not a member of package com
import com.google.common.collect.ImmutableBiMap // Doesn't work
           ^</span><span>
</span><span style="color: #c0392b;">Compilation Failed</span><span>

</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">import</span><span> $ivy.`com.google.guava:guava:18.0` // Load from Maven Central 
</span><span style="color: #27ae60;">import </span><span style="color: #16a085;">$ivy.$                             // Load from Maven Central</span><span>

</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">import</span><span> com.google.common.collect.ImmutableBiMap // Works now 
</span><span style="color: #27ae60;">import </span><span style="color: #16a085;">com.google.common.collect.ImmutableBiMap // Works now</span><span>

</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> bimap = ImmutableBiMap.of(</span><span style="color: #27ae60;">1</span><span>, </span><span style="color: #27ae60;">&quot;one&quot;</span><span>, </span><span style="color: #27ae60;">2</span><span>, </span><span style="color: #27ae60;">&quot;two&quot;</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">&quot;three&quot;</span><span>) 
</span><span style="color: #16a085;">bimap</span><span>: </span><span style="color: #27ae60;">ImmutableBiMap</span><span>[</span><span style="color: #27ae60;">Int</span><span>, </span><span style="color: #27ae60;">String</span><span>] = {1=one, 2=two, 3=three}

</span><span style="color: #8e44ad;">@ </span><span>bimap.get(</span><span style="color: #27ae60;">1</span><span>) 
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">String</span><span> = </span><span style="color: #27ae60;">&quot;one&quot;</span><span>

</span><span style="color: #8e44ad;">@ </span><span>bimap.inverse.get(</span><span style="color: #27ae60;">&quot;two&quot;</span><span>) 
</span><span style="color: #16a085;">res4</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">2</span><span>
</span></pre>

      <p>
        Or Joda Time:
</p>
      <pre><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">import</span><span> $ivy.`joda-time:joda-time:2.8.2` 
</span><span style="color: #27ae60;">import </span><span style="color: #16a085;">$ivy.$                          </span><span>

</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">import</span><span> org.joda.time.{DateTime, Period, Duration} 
</span><span style="color: #27ae60;">import </span><span style="color: #16a085;">org.joda.time.{DateTime, Period, Duration}</span><span>

</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> dt = </span><span style="color: #f39c12;">new</span><span> </span><span style="color: #27ae60;">DateTime</span><span>(</span><span style="color: #27ae60;">2005</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">26</span><span>, </span><span style="color: #27ae60;">12</span><span>, </span><span style="color: #27ae60;">0</span><span>, </span><span style="color: #27ae60;">0</span><span>, </span><span style="color: #27ae60;">0</span><span>) 
</span><span style="color: #16a085;">dt</span><span>: </span><span style="color: #27ae60;">DateTime</span><span> = 2005-03-26T12:00:00.000Z

</span><span style="color: #8e44ad;">@ </span><span style="color: #f39c12;">val</span><span> plusPeriod = dt.plus(Period.days(</span><span style="color: #27ae60;">1</span><span>)) 
</span><span style="color: #16a085;">plusPeriod</span><span>: </span><span style="color: #27ae60;">DateTime</span><span> = 2005-03-27T12:00:00.000Z

</span><span style="color: #8e44ad;">@ </span><span>dt.plus(</span><span style="color: #f39c12;">new</span><span> </span><span style="color: #27ae60;">Duration</span><span>(</span><span style="color: #27ae60;">24L</span><span>*</span><span style="color: #27ae60;">60L</span><span>*</span><span style="color: #27ae60;">60L</span><span>*</span><span style="color: #27ae60;">1000L</span><span>)) 
</span><span style="color: #16a085;">res4</span><span>: </span><span style="color: #27ae60;">DateTime</span><span> = 2005-03-27T12:00:00.000Z
</span></pre>

      <p>
        See the section on <a href="#import$ivy">import $ivy</a> to learn more.
</p>
    <h2 id="Writing/LoadingScripts" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Writing/LoadingScripts" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Writing/Loading Scripts</h2>
      <p>
        You can write scripts in the same way you write commands, and load them using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file</code>. To read more about this, check out the documentation on <a href="#ScriptFiles">Script Files</a>.

</p>
  <h1 id="DesignDecisions&amp;Tradeoffs" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#DesignDecisions&amp;Tradeoffs" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Design Decisions &amp; Tradeoffs</h1>
    <p>
      Ammonite-Shell takes a fundamentally different architecture from traditional shells, or even more-modern shell-alternatives. Significant differences include:</p>
    <ul>
      <li>
        The command &amp; scripting language is a standard, well-known application language (<a href="https://www.scala-lang.org/">Scala</a>) rather than one specially-designed for the shell</li>
      <li>
        The shell runs on the <a href="https://en.wikipedia.org/wiki/Java_virtual_machine">JVM</a>, and can execute or integrate-with arbitrary Java/JVM code or libraries.</li></ul>
    <p>
      In this section we'll examine each of these decisions and their consequences in turn. As the incumbents in this space, we'll be looking at traditional system shells like <a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)">Bash</a>, <a href="https://en.wikipedia.org/wiki/Z_shell">Zsh</a> or <a href="http://fishshell.com/">Fish</a>, as well as popular non-system REPLs like the Python/<a href="https://ipython.org/">IPython</a> REPL.
</p>
    <h2 id="ScalaastheLanguage" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScalaastheLanguage" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Scala as the Language</h2>
      <p>
        The use of Scala as the command &amp; scripting language is unusual among shells, for many reasons. Firstly, most shells implement their own, purpose built language: Bash, Zsh, Fish, and even more obscure ones like Xonsh each implement their own language. Secondly, all of these languages are extremely dynamic, and apart from those most popular languages with REPLs (Python, Ruby, Javascript, ...) tend to be dynamical, interpreted languages. Scala falls at the opposite end of the spectrum: statically typed and compiled.</p>
      <p>
        Scala brings many changes over using traditional dynamic, interpreted REPL languages:</p>
      <ul>
        <li>
          The code being entered in the shell takes time to compile. The first command easily takes 3-4 to compile, and even when the compiler is &quot;warm&quot; there is a 0.2-0.3 second delay before any command begins executing.</li>
        <li>
          Once compiled, the code runs extremely fast: compute-intensive code easily runs <a href="http://benchmarksgame.alioth.debian.org/u64q/compare.php?lang=scala&amp;lang2=python3">50-100x faster</a> in Scala vs Python or Bash, once you've paid the cost of compiling it.</li>
        <li>
          Many mistakes get caught even before a command begins executing. This is less valuable for small commands that execute quickly, but for slower commands processing more data, it is nice to get an error after 0.2s of compilation rather than 10s into execution.</li></ul>
      <p>
        Apart from the differences between Scala and dynamic languages (Python, Ruby, etc.) for REPL usage, Scala is even further away from the sort of ad-hoc, ultra-dynamic languages most often associated with traditional shells (Bash, sh, zsh, etc.). In particular:</p>
      <ul>
        <li>
          Scala provides a set of proper data structures for you to work with. Rather than just byte-streams, you have unicode <code>String</code>s, proper numbers like <code>Int</code> or <code>Double</code>, absolute <code>Path</code>s and relative <code>RelPath</code>s, <code>Array</code>s, <code>Map</code>s, <code>Iterator</code>s and all sorts of other handy data-structures. Many commands return objects which have fields: this sounds simple until you realize that none of bash/zsh/fish behave this way. </li>
        <li>
          Scala is a general-purpose language: you can do math, you can work with Strings, you can write non-trivial algorithms quickly and easily. While this is not surprising coming from a Python REPL, these simple tasks are difficult-to-impossible in traditional system shells like Bash.</li>
        <li>
          Scala runs most code in the same process. While you can <a href="#SpawningSubprocesses">shell-out to subprocesses in Ammonite</a> using the <code>%</code> syntax, most commands like <code>ls!</code> and <code>rm!</code> are simple functions living in-process rather than in separate processes. This reduces the overhead as compared to spawning new processes each time, but does cause some additional risk: if a command causes the process to crash hard, the entire shell fails. In bash, only that command would fail.</li></ul>
      <p>
        The latter set of tradeoffs would be also present in many of the shell-replacements written in dynamic languages, like <a href="http://xonsh.org/">Xonsh</a> which is written in Python. The earlier set, on the other hand, are pretty unique to Ammonite using Scala. There are both positive and negative points in this list.
</p>
    <h2 id="RunningontheJVM" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#RunningontheJVM" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Running on the JVM</h2>
      <p>
        Running Ammonite directly on the <a href="https://en.wikipedia.org/wiki/Java_virtual_machine">JVM</a> again is very different from how most shells work: most have their own scripting language, and their own interpreter. Most are implemented in C. What is it like running your code directly as bytecode on the JVM? Here are some of the negatives:
</p>
      <ul>
        <li>
          You get JVM boot time; although some of the initial several-second delay is due to the Scala compiler's slowness, some of it is also due to the cost of JVM classloading and initialization. While a hello-world JVM project loads instantly, one which uses a large number of class-files takes longer. In contrast, shells written in C load basically instantly.</li>
        <li>
          You get the JVM bloat: Ammonite, implemented in only a few thousand lines of code, wraps up to become a 30mb <code>.jar</code> file. That's already larger than most other shells out there, and gets &gt;100mb larger if you bundle the JVM along with it! In general, the JVM class-file format is bloated and inefficient, and there is no way to exclude to numerous un-needed parts of the JVM during the initial download. <a href="http://openjdk.java.net/projects/jigsaw/">Project Jigsaw</a> will help with this when it finally lands in <a href="http://openjdk.java.net/projects/jdk9/">Java 9</a>.</li>
        <li>
          Ammonite uses hundreds of megabytes (~500mb at last count) of memory, again orders-of-magnitude more than an interpreter written in C or Python. The JVM has traditionally been a very pointer-heavy, memory-intensive platform for running code, and it shows. <a href="http://openjdk.java.net/projects/valhalla/">Project Valhalla</a> would help with this, also scheduled to land in Java 9.
</li></ul>
      <p>
        In general, the JVM has traditionally been used as a server-side platform for long-running services, and its slow-startup and bloated disk/memory footprints are a symptom of that. Running on the JVM also has some upsides, though:
</p>
      <ul>
        <li>
          Ammonite code runs ridiculously fast, once you've paid 0.2-0.3s for its compilation. 50x faster than Python or Bash! This is not a trivial multiplier, and really makes a different if you're dealing with non-trivial data sets: a computation that takes a minute in Ammonite might take an hour if done at the Python REPL! This means that a moderately-large computation which may require special tools, libraries or optimizations to perform in Python might be trivial to implement naively in Ammonite while still enjoying reasonable speed.</li>
        <li>
          Ammonite can make use of any JVM APIs, and there are a lot of them! The JVM is a general-purpose platform for a general purpose language (Java), and thus has APIs for doing all sorts of things: dealing with <a href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html">dates and times</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html">math</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/package-summary.html">networks</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html">threads</a>, and many other things. While you may not always need all of these capabilities, it is nice to have them at your disposal where necessary.</li>
        <li>
          Ammonite can make use of any Java/JVM libraries, and the excellent infrastructure used by Java developers to download and manage them! Any library is just a <a href="#import$ivy">import $ivy</a> away. Need to parse Python source into an AST? Load <a href="https://search.maven.org/#search%7Cga%7C1%7Ca%3A%22jython-standalone%22">Jython</a> and just do it. Need a high-performance web server? Load <a href="http://doc.akka.io/docs/akka-stream-and-http-experimental/1.0-M2/scala/http/">Akka-HTTP</a>. Need some data someone stored in a YAML file? Load <a href="https://bitbucket.org/asomov/snakeyaml">SnakeYAML</a> and parse it. You don't even need to download and manage these libraries yourself: just <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $ivy</code> them from Ammonite, and Java's excellent dependency-management infrastructure will download them (along with any transitive dependencies!), cache them locally, and make them available to your code.
</li></ul>
      <p>
        There are both pros and cons with running Ammonite on the JVM: we gain its heavy startup/memory overhead, but also get access to its high-performance <a href="https://en.wikipedia.org/wiki/Just-in-time_compilation">JIT</a>, massive ecosystem of available packages.
</p>
    <h2 id="GoalsofAmmonite-Shell" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#GoalsofAmmonite-Shell" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Goals of Ammonite-Shell</h2>
      <p>
        Overall, Ammonite-Shell blurs the line between a &quot;programming language REPL&quot; like IPython or Ruby's IRB and a &quot;system shell&quot; like Bash or Zsh. Like system shells, Ammonite-Shell provides concise filesystem operations, path-completion, and easy spawning of subprocesses. Like programming language REPLs, it provides a full-fledged, general-purpose language for you to use, rather than a crippled cut-down command-language that is available in most system shells. 
</p>
      <p>
        The goal is to provide something general enough to use as both a system shell and a general-purpose programming language. Traditionally, there has always been some tension when deciding between these:
</p>
      <ul>
        <li>
          Should I write this script in Bash? I'm already using Bash as my shell</li>
        <li>
          It's getting complicated, I can't follow the logic in Bash. Should I re-write it in Python?</li>
        <li>
          If I write it in Python, I'll need to deal with argument-parsing and forwarding between Bash and Python and Bash, which is annoying</li>
        <li>
          Since my scripts are in Python, should I use Python/IPython as my shell instead of Bash when dealing with these things?</li>
        <li>
          But if I use Python/IPython as my shell, basic filesystem operations becomes impossible
</li></ul>
      <p>
        Traditionally, there really has been no good answer to this dilemma: whether you use Bash or Python to write your scripts, whether you use Bash or Python as your shell, there is always something frustrating about the set-up.
</p>
      <p>
        With Ammonite-Shell, there is no dilemma. You can use the same concise, general-purpose language for your shell as you would for your scripts, large or small. In Ammonite-Shell, you can concisely deal with files at the command-line with the same language you use to write maintainable scripts, large or small, and the same language that you use to write rock-solid application code. 
</p>

  
<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="AmmoniteCookbook" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Ammonite Cookbook<a class=" scalatex-site-Styles-headerLink" href="#AmmoniteCookbook" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /><h2 style="font-weight: 300;color: #ccc;padding: 0px;margin-top: 0px;">Fun with Scala-Scripting!</h2></div>
  <p>
    The Ammonite Scala REPL and Scripts are meant to be extended: you can load
    in arbitrary Java/Scala modules from the internet via
    <a href="#import$ivy">import $ivy</a>. Using this third-party code, you
    extend the REPL to do anything you wish to do, and tools like
    <a href="#Ammonite-Shell">Ammonite-Shell</a> are simply modules like any other. Simple
    install Java, <a href="#Ammonite-REPL">download Ammonite</a> onto any
    Linux/OSX machine, and try out one of these fun snippets! They work
    directly in the <a href="#Ammonite-REPL">Ammonite-REPL</a>, or you can save them to
    <a href="#ScalaScripts">Scala Scripts</a> if you want something more permanent.
</p>
  <ul>
    <li>
      <a href="#HTTPRequests">HTTP Requests</a></li>
    <li>
      <a href="#ScrapingHTML">Scraping HTML</a></li>
    <li>
      <a href="#GUIApplications">GUI Applications</a></li>
    <li>
      <a href="#OfficeAutomation">Office Automation</a></li>
    <li>
      <a href="#ImageProcessing">Image Processing</a></li>
    <li>
      <a href="#MachineLearning">Machine Learning</a>
</li></ul>
  <h1 id="HTTPRequests" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#HTTPRequests" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>HTTP Requests</h1>
    <p>
      Ammonite does not come with a built-in way to make HTTP requests, but there are Java /Scala modules that do this quite well! Here's an example:
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">Welcome to the Ammonite Repl

@ import ammonite.ops._
import ammonite.ops._

@ val resp = requests.get(&quot;https://api.github.com/repos/scala/scala&quot;)

@ val parsed = upickle.json.read(resp.text()).asInstanceOf[upickle.Js.Obj]
parsed: upickle.Js.Obj = Obj(
  ArrayBuffer(
    (&quot;id&quot;, Num(2888818.0)),
    (&quot;name&quot;, Str(&quot;scala&quot;)),
    (&quot;full_name&quot;, Str(&quot;scala/scala&quot;)),
    (
      &quot;owner&quot;,
      Obj(
        ArrayBuffer(
          (&quot;login&quot;, Str(&quot;scala&quot;)),
...

@ for((k, v) &lt;- parsed.value) write(pwd/'target/'temp/k, upickle.json.write(v))

@ ls! pwd/'target/'temp
res6: LsSeq = LsSeq(
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/temp/archive_url,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/temp/assignees_url,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/temp/blobs_url,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/temp/branches_url,,
...
</code></pre>
    <p>
      In this example, we use the <a href="https://github.com/lihaoyi/requests-scala">Requests-Scala</a> library to download a URL, and we use <a href="http://lihaoyi.github.io/upickle-pprint/upickle/">uPickle</a> and <a href="#Ammonite-Ops">Ammonite-Ops</a> to parse the JSON and write it into files. uPickle and Ammonite-Ops are bundled with the Ammonite REPL and are used internally.</p>
    <p>
      This is a small example, but it illustrates the potential: if you find yourself needing to scrape some website or bulk-download large quantities of data from some website's HTTP/JSON API, you can start doing so within a matter of seconds using Ammonite. The results are given to you in nicely structured data, and you can deal with them using any Java or Scala libraries or tools you are used to rather than being forced to munge around in Bash. Sometimes, you may find that you need to get data from somewhere without a nice JSON API, which means you'd need to fall back to <a href="#ScrapingHTML">Scraping HTML</a>...
</p>
  <h1 id="ScrapingHTML" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScrapingHTML" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Scraping HTML</h1>
    <p>
      Not every website has an API, and not every website is meant to be accessed programmatically. That doesn't mean you can't do it! Using libraries like <a href="http://jsoup.org/">JSoup</a>, you can quickly and easily get the computer to extract useful information from HTML that was meant to humans. Using the Ammonite REPL, you can do it interactively and without needing to set up annoying project scaffolding.</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $ivy.`org.jsoup:jsoup:1.7.2`

@ import org.jsoup._ // import Jsoup

@ import collection.JavaConversions._ // make Java collections easier to use

@ val doc = Jsoup.connect(&quot;http://en.wikipedia.org/&quot;).get()

@ doc.select(&quot;h1&quot;)
res54: select.Elements = &lt;h1 id=&quot;firstHeading&quot; class=&quot;firstHeading&quot; lang=&quot;en&quot;&gt;Main Page&lt;/h1&gt;
@ doc.select(&quot;h2&quot;) // this is huge and messy
res55: select.Elements = &lt;h2 id=&quot;mp-tfa-h2&quot; style=&quot;margin:3px; background:#cef2e0; font-family:inherit; font-size:120%; font-weight:bold; border:1px solid #a3bfb1; text-align:left; color:#000; padding:0.2em 0.4em;&quot;&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;From_today.27s_featured_article&quot;&gt;From today's featured article&lt;/span&gt;&lt;/h2&gt;
&lt;h2 id=&quot;mp-dyk-h2&quot; style=&quot;margin:3px; background:#cef2e0; font-family:inherit; font-size:120%; font-weight:bold; border:1px solid #a3bfb1; text-align:left; color:#000; padding:0.2em 0.4em;&quot;&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Did_you_know...&quot;&gt;Did you know...&lt;/span&gt;&lt;/h2&gt;
...

@ doc.select(&quot;h2&quot;).map(_.text) // but you can easily pull out the bits you want
res56: collection.mutable.Buffer[String] = ArrayBuffer(
  &quot;From today's featured article&quot;,
  &quot;Did you know...&quot;,
  &quot;In the news&quot;,
  &quot;On this day...&quot;,
  &quot;From today's featured list&quot;,
  &quot;Today's featured picture&quot;,
  &quot;Other areas of Wikipedia&quot;,
  &quot;Wikipedia's sister projects&quot;,
  &quot;Wikipedia languages&quot;,
  &quot;Navigation menu&quot;
)</code></pre>
    <p>
      If you wanted to scrape headlines off some news-site or scrape video game reviews off of some gaming site, you don't need to worry about setting up a project and installing libraries and all that stuff. You can simply load libraries like Jsoup right into the Ammonite REPL, copy some example from their website, and start scraping useful information in less than a minute.
</p>
  <h1 id="GUIApplications" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#GUIApplications" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>GUI Applications</h1>
    <p>
      The Ammonite REPL runs on the Java virtual machine, which means you can use it to create Desktop GUI applications like anyone else who uses Java! Here's an example of how to create a hello-world interactive desktop app using Swing
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ {
  import javax.swing._, java.awt.event._
  val frame = new JFrame(&quot;Hello World Window&quot;)

  val button = new JButton(&quot;Click Me&quot;)
  button.addActionListener(new ActionListener{
    def actionPerformed(e: ActionEvent) = button.setText(&quot;You clicked the button!&quot;)
  })
  button.setPreferredSize(new java.awt.Dimension(200, 100))
  frame.getContentPane.add(button)
  frame.pack()
  frame.setVisible(true)

  }</code></pre>
    <p>
      This can be run inside the Ammonite REPL without installing anything, and will show the following window with a single button:
</p>
    <img src="Swing1.png" style="margin-left: auto;margin-right: auto;" />

    <p>
      When clicked, it changes text:
</p>
    <img src="Swing2.png" style="margin-left: auto;margin-right: auto;" />

    <p>
      Although this is just a small demo, you can use Ammonite yourself to experiment with GUI programming without needing to go through the hassle of setting up an environment and project and all that rigmarole. Just run the code right in the console! You can even interact with the GUI live in the console, e.g. running this snippet of code to add another action listener to keep count of how many times you clicked the button
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ {
  var count = 0
  button.addActionListener(new ActionListener{
    def actionPerformed(e: ActionEvent) = {
      count += 1
      frame.setTitle(&quot;Clicks: &quot; + count)
    }
  })
  }
</code></pre>
    <p>
      Which immediately becomes visible in the title of the window:
</p>
    <img src="Swing3.png" style="margin-left: auto;margin-right: auto;" />

    <p>
      Even while you're clicking on the button, you can still access <code>count</code> in the console:</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ count
res12: Int = 6</code></pre>
    <p>
      This is a level of live interactivity which is traditionally hard to come by in the world of desktop GUI applications, but with the Ammonite REPL, it's totally seamless
</p>
  <h1 id="OfficeAutomation" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#OfficeAutomation" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Office Automation</h1>
    <p>
      Apart from writing code, you very often find yourself dealing with documents and spreadsheets of various sorts. This is often rather tedious. Wouldn't it be cool if you could deal with these things programmatically? It turns out that there are open-source Java libraries such as <a href="https://poi.apache.org/">Apache POI</a> that let you do this, and with the Ammonite-REPL you can quickly and easily load these libraries and get to work on your favorite documents. Here's an example extracting some data from my old Resume, in <code>.docx</code> format:
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $ivy.`org.apache.poi:poi-ooxml:3.13`

@ import ammonite.ops._                  // Prepare to deal with some files
@ import org.apache.poi.xwpf.usermodel._ // Bring Ms-Word APIs into scope
@ import collection.JavaConversions._    // Make use of Java collections easier

@ val path = pwd/'amm/'src/'test/'resources/'testdata/&quot;Resume.docx&quot;

@ val docx = new XWPFDocument(new java.io.ByteArrayInputStream(read.bytes(path)))

@ docx.get&lt;tab&gt;
getAllEmbedds                            getParagraphArray
getAllPackagePictures                    getParagraphPos
getAllPictures                           getParagraphs
getBodyElements                          getParagraphsIterator
getBodyElementsIterator                  getParent
getClass                                 getPart
getCommentByID                           getPartById
getComments                              getPartType
getDocument                              getPictureDataByID
...

@ docx.getParagraphs.map(_.getText)
res28: collection.mutable.Buffer[String] = ArrayBuffer(
  &quot;&quot;&quot;
Haoyi Li
  &quot;&quot;&quot;,
  &quot;&quot;&quot;
Education	Massachusetts Institute of Technology		Cambridge, MA
  &quot;&quot;&quot;,
  &quot;&quot;&quot;
Bachelor of Science degree in Computer Science, GPA 4.8/5.0	 Sep 2010 - Jun 2013
  &quot;&quot;&quot;,
  &quot;&quot;&quot;
Work	Dropbox		San Francisco, CA
  &quot;&quot;&quot;
...

@ docx.getHyperlinks.map(_.getURL)
res27: Array[String] = Array(
  &quot;http://vimeo.com/87845442&quot;,
  &quot;http://www.github.com/lihaoyi/scalatags&quot;,
  &quot;http://www.github.com/lihaoyi/scala.rx&quot;,
  &quot;http://www.github.com/lihaoyi/scala-js-fiddle&quot;,
  &quot;http://www.github.com/lihaoyi/metascala&quot;,
  &quot;https://www.github.com/lihaoyi/macropy&quot;,
  &quot;http://www.github.com/lihaoyi&quot;,
  &quot;http://www.github.com/lihaoyi&quot;
)</code></pre>
    <p>
      As you can see, loading the Apache POI library is just a single command, reading in my resume file is just one or two more, and then you can immediately start exploring the document's data model to see what inside interests you. You even get tab-completion on the methods of the document, making it really easy for you to interactively explore all the things that a word document has to offer!</p>
    <p>
      This is just a small example, but you can easily do more things in the same vein: Apache POI lets you create/modify/save <code>.docx</code> files in addition to reading from them, meaning you can automatically perform batch operations on large numbers of documents. The library also provides mechanisms to load in Excel spreadsheets and Powerpoint slide decks, meaning you have easy, programmable access to the great bulk of any Microsoft-Office files you find yourself dealing with.
</p>
  <h1 id="ImageProcessing" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ImageProcessing" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Image Processing</h1>
    <p>
      You can perform lots of image operations in Java. You can use <a href="https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html">BufferedImage</a> if you want to access the low-level details or read/write individual pixels, and using <a href="http://zetcode.com/gfx/java2d/">Java2D</a> you can draw shapes, perform transforms, or do anything you could possibly want to do with the images.</p>
    <p>
      There are also simple libraries like <a href="https://github.com/coobird/thumbnailator">Thumbnailator</a> if you're doing basic things like renaming/resizing/rotating and don't need pixel-per-pixel access. This is an example of using Thumbnailator to resize a folder of images and put them somewhere else:
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $ivy.`net.coobird:thumbnailator:0.4.8`

@ import net.coobird.thumbnailator._
import net.coobird.thumbnailator._

@ val images = ls! pwd/'amm/'src/'test/'resources/'testdata/'images
images: LsSeq = LsSeq(
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/repl/src/test/resources/testdata/images/GettingStarted.png,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/repl/src/test/resources/testdata/images/Highlighting.png,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/repl/src/test/resources/testdata/images/SystemShell.png
)
@ val dest = pwd/'target/'thumbnails
dest: Path = /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/thumbnails

@ mkdir! dest

@ for(i &lt;- images) {
    Thumbnails.of(i.toString).size(200, 200).toFile(dest/i.last toString)
  }

@ val thumbnails = ls! dest
thumbnails: LsSeq = LsSeq(
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/thumbnails/GettingStarted.png,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/thumbnails/Highlighting.png,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/thumbnails/SystemShell.png
)

@ images.map(_.size) // Original image files are pretty big
res44: Seq[Long] = List(180913L, 208328L, 227570L)

@ thumbnails.map(_.size) // Thumbnailed image files are much smaller
res45: Seq[Long] = List(11129L, 11790L, 11893L)
</code></pre>
  <h1 id="MachineLearning" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#MachineLearning" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Machine Learning</h1>
    <p>
      The word &quot;Machine Learning&quot; sounds big and intimidating, like something you'd need to spend 6 years getting a PhD before you understand. What if you could &quot;do some machine-learning&quot; (whatever that means) in your spare time, in a minute or two? It turns out there are many Java libraries that can help you with basics, and with the Ammonite REPL getting started is easy.
</p>
    <p>
      Here's one example of how you can get started using the <a href="http://opennlp.apache.org/">OpenNLP</a> project to do some natural-language processing in just a few minutes. The example was found <a href="http://www.programcreek.com/2012/05/opennlp-tutorial/#sentence detector">online</a>, and shows how to extract English names from a raw <code>String</code> using NLP:
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $ivy.`org.apache.opennlp:opennlp-tools:1.6.0` // load OpenNLP


@ val tokenDataUrl = &quot;http://opennlp.sourceforge.net/models-1.5/en-token.bin&quot;

@ val tokenData = requests.get(tokenDataUrl)

@ import opennlp.tools.tokenize._ // let's get started with OpenNLP!

@ val str = &quot;Hi. How are you? This is Mike. Did you see book about Peter Smith?&quot;

@ import java.io.ByteArrayInputStream

@ val tokenModel = new TokenizerModel(new ByteArrayInputStream(tokenData.text))

@ val tokenizer = new TokenizerME(tokenModel)

@ val tokens = tokenizer.tokenize(str)
tplems: Array[String] = Array(
  &quot;Hi&quot;,
  &quot;.&quot;,
  &quot;How&quot;,
  &quot;are&quot;,
  &quot;you&quot;
...

@ import opennlp.tools.namefind._ // Turns out we need more test data...

@ val nameDataUrl = &quot;http://opennlp.sourceforge.net/models-1.5/en-ner-person.bin&quot;

@ val nameData = Http(nameDataUrl).asBytes
nameData: HttpResponse[Array[Byte]] = HttpResponse(
  Array(
    80,
    75,
    3,
    4,
    20,
...

@ val nameModel = new TokenNameFinderModel(new ByteArrayInputStream(nameData.body))

@ val nameFinder = new NameFinderME(nameModel)
nameFinder: NameFinderME = opennlp.tools.namefind.NameFinderME@491eb5ef

@ val names = nameFinder.find(tokens)
names: Array[opennlp.tools.util.Span] = Array([8..9) person, [15..17) person)

@ opennlp.tools.util.Span.spansToStrings(names, tokens) // Woohoo, names!
res96: Array[String] = Array(&quot;Mike&quot;, &quot;Peter Smith&quot;)
</code></pre>
    <p>
      This took a while, but only in comparison to the earlier cookbook recipes: this one is still less than 20 steps, which is not bad for something that installs multiple third-party modules, pulls down training data off the internet, and then does natural language processing to extract the English names from a text blob!
</p>
    <p>
      Obviously we did not go very deep into the field. If you did, it would definitely be a lot more reading and understanding than just blindly following tutorials like I did above, and you probably would find it worth the time to set up a proper project. Nevertheless, this quick 5-minute run through of how to perform the basics of NLP is a fun way to get started whether or not you decide to take it further, and is only possible because of the Ammonite REPL!
</p>
  <h1 id="PlayFrameworkServer" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#PlayFrameworkServer" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Play Framework Server</h1>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="sc scalatex-site-Styles-highlightMe">/**
  * Single-file play framework application!
  */
import $ivy.{
  `com.typesafe.play::play:2.5.0`,
  `com.typesafe.play::play-netty-server:2.5.0`
}

import play.core.server._, play.api.routing.sird._, play.api.mvc._
val server = NettyServer.fromRouter(new ServerConfig(
  rootDir = new java.io.File(&quot;.&quot;),
  port = Some(19000), sslPort = None,
  address = &quot;0.0.0.0&quot;, mode = play.api.Mode.Dev,
  properties = System.getProperties,
  configuration = play.api.Configuration(
    &quot;play.server.netty&quot; -&gt; Map(
      &quot;maxInitialLineLength&quot; -&gt; 4096,
      &quot;maxHeaderSize&quot; -&gt; 8192,
      &quot;maxChunkSize&quot; -&gt; 8192,
      &quot;log.wire&quot; -&gt; false,
      &quot;eventLoopThreads&quot; -&gt; 0,
      &quot;transport&quot; -&gt; &quot;jdk&quot;,
      &quot;option.child&quot; -&gt; Map()
    )
  )
)) {
  case GET(p&quot;/hello/$to&quot;) =&gt; Action { Results.Ok(s&quot;Hello $to&quot;) }
}
try {
  println(requests.get(&quot;http://localhost:19000/hello/bar&quot;).text())
} finally{
  server.stop()
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/integration/src/test/resources/ammonite/integration/basic/PlayFramework.sc#L0-L33" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      Ammonite's script-running capabilities can also be used as a way to set up lightweight Scala projects without needing SBT or an IDE to get started. For example, here is a single-file <a href="https://www.playframework.com/">Play Framework</a> test that
</p>
    <ul>
      <li>
        Spins up a HTTP server and</li>
      <li>
        Makes a single HTTP request against it and prints the response</li>
      <li>
        Shuts down the server.</li></ul>
    <p>
      And can be run via
</p>
    <code>
      ./amm PlayFramework.sc
</code>
    <p>
      Although this is just a hello world example, you can easily keep the server running (instead of exiting after a test request) and extend it with more functionality, possibly splitting it into multiple <a href="#ScriptFiles">Script Files</a>.
</p>
  <h1 id="SQLDatabase" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#SQLDatabase" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>SQL Database</h1>
    <p>
      Ammonite is great for those database jobs that are too complicated for SQL alone. This example uses <a href="http://scalikejdbc.org/">ScalikeJDBC</a> to update some rows.
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ import $ivy.{
  `org.scalikejdbc::scalikejdbc:3.0.0`,
  `ch.qos.logback:logback-classic:1.2.3`,
  `mysql:mysql-connector-java:5.1.6`
}
@ Class.forName(&quot;com.mysql.jdbc.Driver&quot;)
@ import scalikejdbc._
@ ConnectionPool.singleton(&quot;jdbc:mysql://localhost/database&quot;, &quot;root&quot;, &quot;&quot;)
@ implicit val session = AutoSession

@ val users =
  sql&quot;&quot;&quot;select id, email from users&quot;&quot;&quot;
  .map(rs =&gt; rs.long(&quot;id&quot;) -&gt; rs.string(&quot;email&quot;)).list.apply() 
users: List[(Long, String)] = List((1L, &quot;foo@bar&quot;), (2L, &quot;bar@baz&quot;))

@ def isNormalised(email: String): Boolean = ???
@ def normaliseEmail(email: String): String = ???

@ val usersWithInvalidEmail =
  users.filterNot { case (id, email) =&gt; isNormalised(email) }
usersWithInvalidEmail: List[(Long, String)] = List((1L, &quot;foo@bar&quot;), (2L, &quot;bar@baz&quot;))

@ usersWithInvalidEmail.foreach { case (id, email) =&gt;
  val updatedEmail = normaliseEmail(email)
  sql&quot;&quot;&quot;update users set email = ${updatedEmail} where id = ${id};&quot;&quot;&quot;.update.apply() 
}</code></pre>
  

<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Reference" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Reference<a class=" scalatex-site-Styles-headerLink" href="#Reference" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
  <h1 id="Community" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Community" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Community</h1>
    <p>
      Ammonite is primarily maintained by <a href="https://github.com/lihaoyi">Li Haoyi</a>, with a lot of help from <a href="https://github.com/laci37">Laszlo Mero</a> over the summer through
      <a href="https://developers.google.com/open-source/gsoc/">Google Summer of Code</a>,
      and help from many other <a href="https://github.com/lihaoyi/Ammonite/graphs/contributors">contributors</a>. We have an
      active Gitter channel and a mailing list:</p>
    <ul>
      <li>
        <a href="https://gitter.im/lihaoyi/Ammonite">Gitter Channel</a></li>
      <li>
        <a href="https://groups.google.com/forum/#!forum/ammonite-scala">Mailing List</a>
</li></ul>
  <h1 id="OlderScalaVersions" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#OlderScalaVersions" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Older Scala Versions</h1>
    <p>
      While most people would be using Ammonite for the latest version of Scala,
      2.12, Ammonite also provides standalone executables for older versions of
      Scala:
</p>
    
      <b>
        Scala 1.6.8/2.12-1.6.8
</b>
      <pre><code class="bash scalatex-site-Styles-highlightMe">$ sudo sh -c '(echo &quot;#!/usr/bin/env sh&quot; &amp;&amp; curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.12-1.6.8) &gt; /usr/local/bin/amm &amp;&amp; chmod +x /usr/local/bin/amm' &amp;&amp; amm
</code></pre>
    <p>
      Ammonite can also be used in old versions of Scala, embedded in an SBT
      project, without any special modifications.
</p>
  <h1 id="Talks" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Talks" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Talks</h1>
    <p>
      I've also given a number of talks about Ammonite at conferences:
</p>
    <ul>
      <li>
        <a href="https://vimeo.com/148552858">Rock-solid Shell Scripting in Scala</a>, at Scala Exchange 2015</li>
      <li>
        <a href="https://vimeo.com/143819744">Shell scripting in a typed, OO language</a>, at New Object Oriented Languages 2015.</li>
      <li>
        <a href="https://www.youtube.com/watch?v=dP5tkmWAhjg">Beyond Bash: shell scripting in a typed, OO language</a>, at Scala by the Bay
        2015. <a href="https://tinyurl.com/beyondbash">Slides</a></li>
      <li>
        Maxim Novak gave a talk <a href="http://www.slideshare.net/maximnovak/rocksolid-shell-scripting-with-ammonite">Rock solid shell-scripting with Ammonite</a>
        at Scalapeno 2016 in Tel Aviv.
</li></ul>
  <h1 id="IntheWild" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#IntheWild" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>In the Wild</h1>
    <ul>
      <li>
        Ammonite's terminal module is being used as a base for the
        <a href="https://github.com/lampepfl/dotty/pull/1233">Dotty REPL</a>,
        which is the finishing school for new Scala concepts.</li>
      <li>
        Michael Pilquist used Ammonite for his
        <a href="https://www.youtube.com/watch?v=cahvyadYfX8">Introduction to Functional Streams for Scala</a> screencasts.</li>
      <li>
        Eugene Burmako used Ammonite for his <a href="https://www.youtube.com/watch?v=wii5UPtu1_g">Scala Meta talk</a> at Scaladays 2016 in
        New York.</li>
      <li>
        Yeghishe Piruzyan has an <a href="http://yeghishe.github.io/2016/06/05/ammonite-modules.html">Ammonite Modules</a> project
        that tries to assemble common &quot;modules&quot; to be loaded into the Ammonite
        REPL</li>
      <li>
        <a href="https://github.com/alexarchambault/jupyter-scala">Jupyter-Scala</a>,
        by Alex Archambault, uses a fork of Ammonite as its Jupyter kernel</li>
      <li>
        The <a href="http://mandar2812.github.io/DynaML/#documentation">DynaML</a>
        Machine-Learning REPL uses Ammonite as its REPL</li>
      <li>
        The <a href="https://github.com/milessabin/shapeless">Shapeless</a> project has a
        <a href="https://github.com/milessabin/shapeless#try-shapeless-with-an-ammonite-instant-repl">try-shapeless.sh</a>
        instant-REPL built using Ammonite</li>
      <li>
        Seems Twitter <a href="https://twitter.com/bd/status/724297737525596160">now uses Ammonite</a> within their
        monorepo (monorepi?) codebase</li>
      <li>
        Yang Bo from ThoughtWorks created
        <a href="https://github.com/ThoughtWorksInc/sbt-ammonite-classpath">an sbt plug-in</a>
        to export the classpath of an sbt project to Ammonite Script.</li>
      <li>
        <link>Elastichttps://www.elastic.co/</link>
        uses Ammonite as a management repl inside their
        <link>Elastic Cloud Enterprisehttps://www.elastic.co/products/ece</link>
        product.
</li></ul>
  <h1 id="Scaladoc" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Scaladoc" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Scaladoc</h1>
    <p>
      Here's the Scaladoc for the various projects:
</p>
    <ul>
      <li>
        <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html">Ammonite-Ops</a></li>
      <li>
        <a href="https://lihaoyi.github.io/Ammonite/api/terminal/index.html">Ammonite-Terminal</a></li>
      <li>
        <a href="https://lihaoyi.github.io/Ammonite/api/repl/index.html">Ammonite-Repl</a></li>
      <li>
        <a href="https://lihaoyi.github.io/Ammonite/api/shell/index.html">Ammonite-Shell</a></li>
      <li>
        <a href="https://lihaoyi.github.io/Ammonite/api/sshd/index.html">Ammonite-Sshd</a>
</li></ul>
    <p>
      Although it's best to read the documentation on this page to learn how
      to use these projects, the Scaladoc is still useful as a reference.

</p>
  <h1 id="Changelog" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Changelog" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Changelog</h1>
    <h2 id="1.6.8" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.6.8" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.6.8</h2>
      <ul>
        <li>
          Support for Scala 2.13.0</li></ul>
    <h2 id="1.6.7" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.6.7" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.6.7</h2>
      <ul>
        <li>
          Fix regression in <code>source</code> builtin (<a href="https://github.com/lihaoyi/Ammonite/issues/964">#964</a>)
</li>
        <li>
          Autocomplete for <code>import $ivy</code> statements (<a href="https://github.com/lihaoyi/Ammonite/issues/957">#957</a>)</li></ul>
    <h2 id="1.6.6" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.6.6" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.6.6</h2>
      <ul>
        <li>
          Add support for scala <code>2.13.0-M5</code></li></ul>
    <h2 id="1.6.5" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.6.5" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.6.5</h2>
      <ul>
        <li>
          Don't keep resolutions involving snapshot artifacts or version
          intervals in the resolution cache of Ammonite</li>
        <li>
          Switch to coursier <code>1.1.0-M13</code></li>
        <li>
          Fix various issues with class-based wrapper (<code>--class-based</code>)</li></ul>
    <h2 id="1.6.4" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.6.4" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.6.4</h2>
      <ul>
        <li>
          Don't print things marked as private</li>
        <li>
          Replace Scalaj-HTTP with Requests-Scala as bundled HTTP library</li></ul>
    <h2 id="1.6.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.6.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.6.3</h2>
      <ul>
        <li>
          Fix some regressions in stty handling, preventing Ctrl-C to interrupt
          user code, or making running sub-commands from the Ammonite prompt
          seem buggy.</li></ul>
    <h2 id="1.6.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.6.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.6.2</h2>
      <ul>
        <li>
          Fix <code>MissingRequirementError</code> when starting Ammonite</li></ul>
    <h2 id="1.6.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.6.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.6.1</h2>
      <ul>
        <li>
          Fix <code>NoSuchFileException</code> when starting Ammonite on a clean machine</li></ul>
    <h2 id="1.6.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.6.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.6.0</h2>
      <ul>
        <li>
          Bump FastParse to 2.1.0.</li></ul>
    <h2 id="1.5.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.5.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.5.0</h2>
      <ul>
        <li>
          Bump OS-Lib version to 0.2.6; note that this has some backwards-incompatible
          changes:</li>
        <li>
          <code>ammonite.ops.write</code> now no longer creates enclosing folders by default;
          pass in the <code>createFolders = true</code> flag to make it do so</li>
        <li>
          The order of arguments in <code>ammonite.ops.ln.s</code> is swapped, for
          consistency with the underlying Java APIs
</li></ul>
    <h2 id="1.4.4" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.4.4" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.4.4</h2>
      <ul>
        <li>
          Upgrade uPickle to 0.7.1</li></ul>
    <h2 id="1.4.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.4.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.4.3</h2>
      <ul>
        <li>
          Upgrade uPickle to 0.7.0</li></ul>
    <h2 id="1.4.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.4.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.4.2</h2>
      <ul>
        <li>
          The core of Ammonite-Ops has been extracted into a standalone project
          <a href="https://github.com/lihaoyi/os-lib">OS-Lib</a>. The <code>ammonite.ops</code>
          namespace remains for backwards compatibility, and continues to contain
          all the extension methods &amp; shorthand syntax that OS-Lib does not, but
          for general-purpose scripting and programming you should now use OS-Lib</li></ul>
    <h2 id="1.3.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.3.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.3.3</h2>
      <ul>
        <li>
          Bump Fastparse to 2.0.5</li></ul>
    <h2 id="1.3.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.3.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.3.2</h2>
      <ul>
        <li>
          Upgrade to Fastparse 2.0.4, uPickle 0.6.7</li>
        <li>
          Support for Scala 2.12.7
</li></ul>
    <h2 id="1.2.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.2.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.2.1</h2>
      <ul>
        <li>
          Removed Scalaz dependency (<a href="https://github.com/lihaoyi/Ammonite/issues/830">#830</a>)</li>
        <li>
          Fix FrontEndUtils width and height on Windows (<a href="https://github.com/lihaoyi/Ammonite/issues/820">#820</a>)</li>
        <li>
          Fix passing empty parameters to scripts (<a href="https://github.com/lihaoyi/Ammonite/issues/747">#747</a>)</li>
        <li>
          Avoid unnecessarily re-compiling synthetic predef files when changing
          working directory</li>
        <li>
          Improve REPL performance by preserving compiler &amp; TTY metadata across
          commands (<a href="https://github.com/lihaoyi/Ammonite/issues/853">#853</a>)</li>
        <li>
          Improvements to JLine REPL autocomplete (<a href="https://github.com/lihaoyi/Ammonite/issues/846">#846</a>)
</li></ul>
    <h2 id="1.1.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.1.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.1.2</h2>
      <ul>
        <li>
          Print the correct Ammonite version when the REPL starts</li></ul>
    <h2 id="1.1.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.1.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.1.1</h2>
      <ul>
        <li>
          Bust script caches when <code>amm</code> is run in different folders, to
          avoid unwanted caching if script compilation depends on filesystem path</li>
        <li>
          Support for Scala 2.12.6</li></ul>
    <h2 id="1.1.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.1.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.1.0</h2>
      <ul>
        <li>
          Bumped <a href="https://github.com/lihaoyi/upickle">uPickle</a> version to 0.6.0</li>
        <li>
          Experimental Windows support in the Ammonite REPL using JLine3 (<a href="https://github.com/lihaoyi/Ammonite/issues/775">#775</a>),
          thanks to <a href="https://github.com/sake92">Sakib Hadziavdic</a></li>
        <li>
          Experimental Java 9 support (<a href="https://github.com/lihaoyi/Ammonite/issues/761">#761</a>) thanks to
          <a href="https://github.com/robby-phd">robby-phd</a></li>
        <li>
          Range-position support (<a href="https://github.com/lihaoyi/Ammonite/issues/771">#771</a>) thanks to
          <a href="https://github.com/Baccata">Olivier Melois</a></li></ul>
    <h2 id="1.0.5" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.0.5" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.0.5</h2>
      <ul>
        <li>
          Hide uninteresting autocomplete options from tab-completion (<a href="https://github.com/lihaoyi/Ammonite/issues/755">#755</a>)</li>
        <li>
          Bump JLine version to 2.14.5 (<a href="https://github.com/lihaoyi/Ammonite/issues/754">#754</a>)</li>
        <li>
          Cross-publish for Scala 2.11.12 (<a href="https://github.com/lihaoyi/Ammonite/issues/741">#741</a>)</li>
        <li>
          Class-based input wrapping for Spark/serialization friendliness (<a href="https://github.com/lihaoyi/Ammonite/issues/736">#736</a>)</li></ul>
    <h2 id="1.0.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.0.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.0.3</h2>
      <ul>
        <li>
          Refactor <code>ammonite-repl</code> module to be properly usable without
          the main <code>ammonite</code> package, thanks to
          <a href="https://github.com/alexarchambault">Alex Archambault</a></li>
        <li>
          Cross-publish for Scala 2.12.4</li></ul>
    <h2 id="1.0.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.0.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.0.2</h2>
      <ul>
        <li>
          There was an undocumented feature of magic importing URLs in Ammonite
          REPL 0.8.x. The feauture was removed in Ammonite REPL 0.9.x and 1.0.0.
          Now it's back, experimentally:
          <pre><code class="scala scalatex-site-Styles-highlightMe">import $url.{`https://raw.githubusercontent.com/lihaoyi/Ammonite/master/amm/src/test/resources/scripts/Annotation.sc` =&gt; remote}</code></pre>
          The content at the URL will be wrapped into the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">remote</code> object, which
          can be accessed later:
          <pre><code class="scala scalatex-site-Styles-highlightMe">remote.product(1, List(2, 3, 4))
</code></pre>
          Note that this functionality is experimental and may be subject to
          change or removal in future.
</li>
        <li>
          Fix for issue <a href="https://github.com/lihaoyi/Ammonite/issues/679">#679</a> when running <code>ls.rec</code> on path including
          inaccessible files would throw <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.nio.file.AccessDeniedException</code>
          thanks to <a href="https://github.com/piotrkwiecinski">Piotr Kwiecinski</a></li></ul>
    <h2 id="1.0.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.0.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.0.1</h2>
      <ul>
        <li>
          Ammonite is now cross-published to support Scala
          <a href="https://github.com/scala/scala/releases/tag/v2.12.3">2.12.3</a></li>
        <li>
          Ammonite REPL now prints an additional newline after the output of
          each command, which should visually separate each command and make it
          easier to skim over your command history in the terminal or when
          copy-pasted elsewhere.</li>
        <li>
          Fix for issue <a href="https://github.com/lihaoyi/Ammonite/issues/668">#668</a> where comments in identifiers are not properly
          backticked causing the repl to stop working correctly
</li></ul>
    <h2 id="1.0.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#1.0.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>1.0.0</h2>
      <ul>
        <li>
          We recently launched a <a href="https://www.patreon.com/lihaoyi">Patreon page</a>
          to raise money to fund future development of Ammonite. If you've enjoyed using
          Ammonite, and use it day to day, please
          <a href="https://www.patreon.com/lihaoyi">chip in</a> to support our project!</li>
        <li>
          Output now defaults to colored if the console is interactive, and
          non-colored otherwise. This should be a default most people would
          be happy with.
</li>
        <li>
          Scripts now have colored output by default if the script-runner is
          interactive, following the above rules. Much of the script &quot;info&quot;
          output like &quot;Compiling&quot; or &quot;Watching for changes&quot; messages are now
          colored.
</li>
        <li>
          There is now a cli-flag <code>--color</code> which can be set to
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">true</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">false</code> to force colors on or off if you
          are not happy with the default behavior.
</li>
        <li>
          The <code>repl.colors</code> builtin has been moved to <code>interp.colors</code>,
          and allows you to fine-grained customize colors for e.g. error
          messages and info messages when running scripts.
</li>
        <li>
          Using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file</code> on an empty script files no longer
          causes spurious errors
</li>
        <li>
          Caches are properly invalidated if a script you <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file</code>
          is deleted
</li>
        <li>
          <code>-w</code>/<code>--watch</code> now watches predef files as well. This means
          if you make changes to your predef (e.g. if it was crashing and you're
          trying to fix it), Ammonite will re-run your scripts automatically
</li>
        <li>
          Improved error handling of failures within predef; they should no
          longer show large stack traces containing irrelevant stack frames
</li>
        <li>
          Predef files no longer cause problems with autocomplete in the REPL
</li>
        <li>
          Parse errors within a file will now show the proper file-name, rather
          than <code>&lt;console&gt;</code>.
</li>
        <li>
          <code>Ctrl C</code> interrupts now place an exception with a useful stack
          trace in <code>repl.lastException</code>, which can help debug where your
          code was at when you interrupted it.
</li>
        <li>
          <code>Ctrl C</code> no longer crashes the REPL if you perform it after
          entering a command but before your code starts running</li>
        <li>
          Ammonite's REPL now warms up the compiler while you are typing your
          first command; this makes it likely that the compilation will be fast
          if you take a moment to enter your command, and shouldn't
          significantly effect the time taken otherwise</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $ivy</code> no longer fails if it cannot find source
          dependencies, instead merely printing a warning.</li>
        <li>
          <code>interp.load.exec</code> and <code>interp.load.apply</code>
          have been moved to <code>repl.load.exec</code> and <code>repl.load.apply</code>,
          and are now not available when running scripts: they never had a
          really well-defined semantic when run within scripts. Using
          <code>repl.load.exec</code> or <code>repl.load.apply</code> within the
          <code>predef.sc</code> of your REPL is still possible
</li>
        <li>
          The <code>interp.watch</code> built-in now works on folders as well as
          files, watching all files within that folder and restarting your
          script if any of them change</li>
        <li>
          Fix regression that broke binding of variables in <code>Main#run</code></li>
        <li>
          Make <code>--watch</code> flag more robust against files being deleted
          during <code>mtime</code>ing, and make it properly re-run scripts when a
          file in a watched folder is renamed.</li>
        <li>
          Display <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@doc</code> annotations on a script's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code>
          methods as part of the script's help text, thanks to
          <a href="https://github.com/mgedigian">mgedigian</a></li>
        <li>
          You can now use <code>:::</code> as part of your <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $ivy</code>
          calls to load Scala libraries cross-published against the full
          Scala version (e.g. <code>2.12.2</code> rather than just <code>2.12</code>, thanks
          to <a href="https://github.com/aeffrig">aeffrig</a>
</li>
        <li>
          Ammonite now supports opening a <a href="#ScriptDebugREPL">Script Debug REPL</a> after a
          script runs, with your script's scope loaded so you can poke around
          it interactively
</li>
        <li>
          The command line flags <code>--predef</code>/<code>--predef-file</code> are now
          <code>--predef-code</code>/<code>--predef</code> respectively, to reflect that
          using a custom predef file is much more common than a custom predef
          code snippet.</li>
        <li>
          <code>ammonite.Main</code>'s argument <code>predef</code> has been renamed to
          <code>predefCode</code>, and a new argument <code>predefFile</code> has been
          added to match the command-line interface</li>
        <li>
          <code>--predef</code> (previously <code>--predef-file</code>) now adds a file
          in addition to the existing <code>predef.sc</code> or <code>predefScript.sc</code>
          in <code>~/.ammonite</code>. If you want it to <i>replace</i> the predef in
          <code>~/.ammonite</code>, there is a new flag <code>--no-home-predef</code> that
          disables the predef in <code>~/.ammonite</code> so your <code>--predef</code>
          file stands alone
</li>
        <li>
          <code>~/.ammonite/predefShared.sc</code> is gone; if you want it back, you
          can do it yourself by adding <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $exec.predefShared</code>
          within your <code>predef.sc</code> and <code>predefScript.sc</code> files. You
          can also import any others files into your <code>predef.sc</code> and
          <code>predefScript.sc</code> the same way
</li>
        <li>
          Ammonite now loads linux HTTP proxy environment variables into your
          JVM's <code>sys.props</code> by default, when running as a standalone
          executable. When using Ammonite within a SBT project, you will need
          to do this manually, e.g. calling
          <code>ammonite.main.ProxyFromEnv.setPropProxyFromEnv()</code> within the
          <code>predefCode</code> that you pass to <code>ammonite.Main</code>
</li></ul>
    <h2 id="0.9.9" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.9.9" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.9.9</h2>
      <ul>
        <li>
          Ammonite scripts now show their usage text in Bash/Linux format,
          rather than in Scala format, to better fit into the scripting ecosystem
</li></ul>
    <h2 id="0.9.8" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.9.8" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.9.8</h2>
      <ul>
        <li>
          Modified the way <a href="#AmmoniteArgumentsinScripts">Ammonite Arguments in Scripts</a> get passed.
          Rather than separating Ammonite's args and a script's args with a
          <code>--</code>, now any arguments <i>before</i> the script file are used by
          Ammonite and any arguments <i>after</i> the script file get forwarded
          to the script's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code> method
</li>
        <li>
          Renamed <code>src</code> builtin to <code>source</code> to reduce chance of
          name collisions</li>
        <li>
          You can now pass <a href="#ScriptArguments">Script Arguments</a> via both <code>--foo</code>
          and <code>-foo</code>
</li>
        <li>
          Error messages for scripts are now consistently not colored, rather
          than mostly being uncolored but sometimes turning up red
</li>
        <li>
          Scripts without a main method now properly show an error if arguments
          are passed
</li>
        <li>
          Error messages from scripts are now more reliably sent to <code>stderr</code>
          rather than <code>stdout</code>
</li>
        <li>
          All code within Ammonite's REPL and scripts now run within the context
          of the <code>ammonite</code> package; this lets us avoid littering the
          top-level package namespace with miscellaneous names like <code>$file</code>
          and <code>$sess</code>
</li>
        <li>
          Remove <code>foo ! bar ! baz</code> implicit syntax, and
          <code>ChainableConversions</code> implicit. They're cool, but not simple
          enough to be worth including by default
</li>
        <li>
          Re-enable <code>foo |&gt; show</code> syntax in the REPL, which regressed in 0.9.0
</li></ul>
    <h2 id="0.9.7" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.9.7" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.9.7</h2>
      <ul>
        <li>
          Fix crashes in autocomplete subsystem (<a href="https://github.com/lihaoyi/Ammonite/issues/620">#620</a>) caused by
          regression in 0.9.6
</li></ul>
    <h2 id="0.9.6" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.9.6" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.9.6</h2>
      <ul>
        <li>
          Fixed an issue where down-stream scripts would not properly recompile
          when the scripts they import changed</li>
        <li>
          Ensure that importing the same script twice via a diamond-dependency
          does not end up compiling it twice, and instead uses the first version
          that was compiled</li>
        <li>
          <code>Path(...)</code> no longer automatically expands <code>~</code> to your home
          directory, for consistency with other filesystem APIs. Use
          <code>Path.expandUser</code> to do so manually.
</li>
        <li>
          Add the <code>-w</code>/<code>--watch</code> <a href="#WatchandReload">Watch and Reload</a> flag,
          which lets you run a script repeatedly every time you change its code,
          via <code>amm -w foo.sc</code>. This is useful when you are actively
          working on the script and greatly reduces the iteration time. You can
          also manually include files you wish to watch, e.g. if you are
          iterating on external data or config files.
</li></ul>
    <h2 id="0.9.5" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.9.5" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.9.5</h2>
      <ul>
        <li>
          Fix scalac/classpath errors when loading typelevel/cats <a href="https://github.com/lihaoyi/Ammonite/issues/617">#617</a>
</li></ul>
    <h2 id="0.9.4" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.9.4" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.9.4</h2>
      <ul>
        <li>
          Experimental support for the <a href="#source">source</a> built-in, which brings
          you to the source code for a method or class so you can see the
          implementation or read the doc-string.</li>
        <li>
          Importing <code>$file</code>s from within your predef now properly makes them
          available within your REPL, the same way other imports are <a href="https://github.com/lihaoyi/Ammonite/issues/616">#616</a></li>
        <li>
          The predef required for <a href="#Ammonite-Shell">Ammonite-Shell</a> was tweaked slightly;
          if you are using it please update your <code>~/.ammonite/predef.sc</code>
          with the new <a href="https://git.io/vH4ju">predef</a> code.

</li></ul>
    <h2 id="0.9.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.9.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.9.3</h2>
      <ul>
        <li>
          Fix regression in <code>show</code> and <code>browse</code> built-ins, which
          caused their default configuration to be un-usable <a href="https://github.com/lihaoyi/Ammonite/issues/613">#613</a></li>
        <li>
          Force pretty-printing <code>scala.xml.Elem</code> to use its XML
          <code>.toString</code> rather than treating it as a case class, since the
          case-class representation is borked due to weirdness in that class.</li>
        <li>
          Improve pretty-printing of <code>Path</code>s, <code>RelPath</code>s and the
          result of sub-processes and file-listings in the default REPL (previously
          these improved-pretty-printers were limited to <code>ammonite-shell</code>)
</li></ul>
    <h2 id="0.9.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.9.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.9.2</h2>
      <ul>
        <li>
          When pasting multiple separate multi-line statements, subsequent statements
          no longer stomp over earlier ones in the terminal output <a href="https://github.com/lihaoyi/Ammonite/issues/609">#609</a>
</li></ul>
    <h2 id="0.9.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.9.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.9.1</h2>
      <ul>
        <li>
          Fix error message when running a script and Ammonite cannot find the
          main method you specify because your first non-script arg starts with
          <code>--</code></li>
        <li>
          Fix crash when trying to pretty-print values whose <code>toString</code>
          is the empty string.

</li></ul>
    <h2 id="0.9.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.9.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.9.0</h2>
      <ul>
        <li>
          Ammonite now uses Alex Archambault's
          <a href="https://github.com/coursier/coursier">Coursier</a> library for
          dependency resolution and downloading. This should <i>hopefully</i> fix
          many of our perennial, non-deterministic Ivy resolution problems, and
          provide greater flexibility for loading ivy dependencies (e.g. with
          excludes, classifiers, etc.). Fixes <a href="https://github.com/lihaoyi/Ammonite/issues/300">#300</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/387">#387</a>,
          <a href="https://github.com/lihaoyi/Ammonite/issues/455">#455</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/473">#473</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/484">#484</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/523">#523</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/573">#573</a>,
          <a href="https://github.com/lihaoyi/Ammonite/issues/583">#583</a>.</li>
        <li>
          Experimental <a href="http://spark.apache.org/">Apache Spark</a>
          support! You can now run basic Spark commands in Ammonite scripts,
          as well as in the REPL. To do so, look up the <code>Spark.sc</code>
          and <code>Spark2.sc</code> scripts in the repository as examples to
          get started. Spark support is currently experimental, so feel free
          to contribute fixes when you notice something missing or wrong!</li>
        <li>
          Upgrade to <a href="http://www.lihaoyi.com/PPrint/">PPrint 0.5.1</a>,
          which fixes a large number of issues in the previous implicit/macro
          based pretty-printer <a href="https://github.com/lihaoyi/Ammonite/issues/208">#208</a> <a href="https://github.com/lihaoyi/Ammonite/issues/306">#306</a> <a href="https://github.com/lihaoyi/Ammonite/issues/313">#313</a> <a href="https://github.com/lihaoyi/Ammonite/issues/575">#575</a></li>
        <li>
          Introduced a new <code>interp.configureCompiler</code> builtin, which lets
          you configure the compiler in a way that's robust in the case of
          caching and late/lazy initialization, fixing <a href="https://github.com/lihaoyi/Ammonite/issues/472">#472</a>.
          You should use <code>interp.configureCompiler</code> instead
          of <code>repl.compiler</code> to configure it safely.</li>
        <li>
          Properly run import hooks in multi-block scripts in the block that
          they are defined, allowing you to add resolvers/repositories before
          performing <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $ivy</code>s in subsequent blocks. Fixes
          <a href="https://github.com/lihaoyi/Ammonite/issues/491">#491</a></li>
        <li>
          Revamped how <a href="#ScriptArguments">Script Arguments</a> are passed. When running
          scripts, now the script file must *always* be the first argument to
          the <code>amm</code> command. Any arguments after the script file get
          delegated to the script's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code> method(s) <i>unless</i>
          there is a <code>--</code> present, in which case arguments <i>after</i> the
          <code>--</code> get delegated to the script while those <i>before</i> get
          passed to Ammonite. This allows you to define a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code>
          method with a vararg <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String*</code> that accepts in all arguments
          by default, letting you use your own custom arg parsers on the input
          strings. Fixes <a href="https://github.com/lihaoyi/Ammonite/issues/423">#423</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/479">#479</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/538">#538</a></li>
        <li>
          The <i>return values</i> of Ammonite scripts' <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code> methods
          or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">exit(...)</code> calls now gets pretty-printed by default when
          the script completes. This make composing scripts much more convenient:
          the same <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code> methods you use when printing output to the
          command-line can also be used from Scala code when imported from
          other scripts. To disable this, annotate your main method as returning
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">: Unit</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">exit</code> can now be cleanly used in Scripts without failing
          with a <code>NullPointerException</code>, in addition to its existing use
          in the REPL.</li>
        <li>
          Avoid crashes when non-existent paths are on the classpath, thanks to
          <a href="https://github.com/newca12">Olivier Roland</a></li>
        <li>
          Default to RSA in Ammonite's <a href="#RemoteREPL">Remote REPL</a> and enable key-based
          auth (<a href="https://github.com/lihaoyi/Ammonite/issues/594">#594</a>) thanks to <a href="https://github.com/espenhw">Espen Wiborg</a></li>
        <li>
          Ammonite now anonymously logs the times you start a REPL session and
          the count of how many commands get run. This is to allow the author
          to understand usage patterns and prioritize improvements. If you wish
          to disable it, pass in the <code>--no-remote-logging</code> command-line
          flag or the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">remoteLogging=false</code> argument to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Main</code>.
</li></ul>
    <h2 id="0.8.x" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.8.x" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.8.x</h2>
      <h3 id="0.8.5" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.8.5" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.8.5</h3>
        <ul>
          <li>
            Fix classLoader related problem in Multi-stage scripts with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@main</code>
            (<a href="https://github.com/lihaoyi/Ammonite/issues/591">#591</a>)</li>
          <li>
            A nicer error message when you try to run a non-existent script (<a href="https://github.com/lihaoyi/Ammonite/issues/522">#522</a>)</li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.ops.Path(s: String)</code> now resolves <code>~</code> to the
            home directory of the current user</li>
          <li>
            Many improvements to classpath scanning and re-compilation logic (<a href="https://github.com/lihaoyi/Ammonite/issues/542">#542</a>)
            which should greatly reduce the time taken start Ammonite in an SBT project,
            and avoid many existing problems with stale compilation caches.</li>
          <li>
            Fix crash when you try to run an empty script</li>
          <li>
            Miscellaneous info messages now go to stderr rather than stdout, so they
            don't get mixed into your script output if you pipe into a file (<a href="https://github.com/lihaoyi/Ammonite/issues/574">#574</a>)

</li></ul>
      <h3 id="0.8.4" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.8.4" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.8.4</h3>
        <ul>
          <li>
            Make startup banner configurable via a command line flag
</li></ul>
      <h3 id="0.8.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.8.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.8.3</h3>
        <ul>
          <li>
            Cross-publish for Scala 2.12.2, 2.11.11</li>
          <li>
            Bump version of apache-sshd (<a href="https://github.com/lihaoyi/Ammonite/issues/545">#545</a>), by
            <a href="https://github.com/emanresusername">emanresusername</a></li>
          <li>
            Avoid <code>FileAlreadyExistsException</code> when compiling scripts in
            parallel (<a href="https://github.com/lihaoyi/Ammonite/issues/567">#567</a>), by <a href="https://github.com/armanbilge">armanbilge</a></li>
          <li>
            Add <code>beforeExitHooks</code> so you can register cleanup code (<a href="https://github.com/lihaoyi/Ammonite/issues/581">#581</a>), by
            <a href="https://github.com/emanresusername">emanresusername</a></li>
          <li>
            Add a sleep in <code>Shellout.executeStream</code> to reduce spinning. (<a href="https://github.com/lihaoyi/Ammonite/issues/578">#578</a>), by
            <a href="https://github.com/rorygraves">rorygraves</a></li>
          <li>
            Add an overloaded version of LoadJar.cp that takes a sequence of paths, by
            <a href="https://github.com/mallman">mallman</a></li></ul>
      <h3 id="0.8.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.8.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.8.2</h3>
        <ul>
          <li>
            Automatically publish standalone executable for Scala 2.10 and 2.11,
            thanks to <a href="https://github.com/jhnsmth">jhnsmth</a></li>
          <li>
            Bytecode of classes defined in the REPL is now accessible via
            <code>getClass.getClassLoader.getResource</code>, thanks to
            <a href="https://github.com/jhnsmth">jhnsmth</a></li>
          <li>
            Fix crash in working with Hadoop in Ammonite (<a href="https://github.com/lihaoyi/Ammonite/issues/535">#535</a>), thanks to
            <a href="https://github.com/tdyas">Tom Dyas</a></li>
          <li>
            <code>Ctrl-u</code> and <code>Ctrl-k</code> now cut to the beginning/end of the
            current line (<a href="https://github.com/lihaoyi/Ammonite/issues/514">#514</a>), rather than the entire input block, thanks to
            <a href="https://github.com/emanresusername">Jordan Gwyn</a></li></ul>
      <h3 id="0.8.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.8.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.8.1</h3>
        <ul>
          <li>
            Cross-published for Scala 2.12, with the help of
            <a href="https://github.com/tkroman">Roman Tkalenko</a> who
            investigated and fixed a gnarly classpath bug <a href="https://github.com/lihaoyi/Ammonite/issues/515">#515</a></li>
          <li>
            Handle multi-line shebang lines, thanks to <a href="https://github.com/Grogs">Greg Dorrell</a></li>
          <li>
            Fix <code>NullPointerException</code> on no-save-then-load situation in REPL,
            thanks to <a href="https://github.com/tkroman">Roman Tkalenko</a></li>
          <li>
            Use Console for SSHD stream redirection to avoid inter-thread spillage
            of stdout, thanks to <a href="https://github.com/tjdett">Timothy Dettrick</a></li></ul>
      <h3 id="0.8.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.8.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.8.0</h3>
        <ul>
          <li>
            Tweak default imports to avoid ambiguous imports reported in <a href="https://github.com/lihaoyi/Ammonite/issues/500">#500</a></li>
          <li>
            Allow configuration of SSHD console classloader <a href="https://github.com/lihaoyi/Ammonite/issues/486">#486</a></li>
          <li>
            Use RSA host keys instead of DSA <a href="https://github.com/lihaoyi/Ammonite/issues/485">#485</a></li></ul>
    <h2 id="0.7.x" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.7.x" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.7.x</h2>
      <h3 id="0.7.9" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.7.9" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.7.9</h3>
        <ul>
          <li>
            Fix <a href="https://github.com/lihaoyi/Ammonite/issues/496">#496</a> by properly setting context classloader when running
            cached scripts</li>
          <li>
            Make <code>.iter</code> versions of file operations return
            <a href="https://github.com/lihaoyi/geny">geny</a> <code>Generator</code>s
            rather than <code>Iterator</code>s, which should avoid problems with
            leaking file handles
</li>
          <li>
            Fix a hole in <code>ammonite.ops.Path</code> that was allowing invalid
            paths with empty segments to be constructed.
</li></ul>
      <h3 id="0.7.8" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.7.8" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.7.8</h3>
        <ul>
          <li>
            Fix <a href="https://github.com/lihaoyi/Ammonite/issues/397">#397</a> and <a href="https://github.com/lihaoyi/Ammonite/issues/430">#430</a>, thanks to
            <a href="https://github.com/tkroman">Roman Tklalenko</a></li>
          <li>
            Upgrade to Fansi 0.2.2, which should reduce memory usage by 134mb</li>
          <li>
            Update FastParse/Scalaparse dependency to 0.4.1</li></ul>
      <h3 id="0.7.7" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.7.7" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.7.7</h3>
        <ul>
          <li>
            <a href="https://github.com/lihaoyi/Ammonite/issues/461">#461</a> avoid loading the same compiler plugin more than once,
            thanks to <a href="https://github.com/tkroman">Roman Tklalenko</a></li>
          <li>
            Allow <code>cd!</code>ing into sym-links, thanks to
            <a href="https://github.com/tkroman">Roman Tklalenko</a> and
            <a href="https://github.com/winitzki">Sergei Winitzki</a></li>
          <li>
            Bump Fansi dependency to 0.2.1 and bump Fastparse dependency to 0.4.0
</li></ul>
      <h3 id="0.7.6" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.7.6" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.7.6</h3>
        <ul>
          <li>
            When running scripts, Ammonite now prints out a &quot;Compiling foo.sc...&quot;
            message if they're being compiled for the first time. If you want
            this to not be the case, you can silence it using the same <code>-s</code>
            switch, thanks to <a href="https://github.com/coderabhishek">coderabhishek</a></li>
          <li>
            The <code>--predef-file</code> switch now allows multiple inputs, allowing
            you to pass in multiple files that all get evaluated as the predef
</li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import.$ivy</code> no longer caches <code>-SNAPSHOT</code> versions,
            thanks to <a href="https://github.com/yakticus">Julie Pitt</a></li>
          <li>
            <a href="https://github.com/lihaoyi/Ammonite/issues/448">#448</a> Deprecate <code>ammonite.ops.cwd</code> in preference to <code>ammonite.ops.pwd</code>,
            to help clear up confusion between <code>cwd</code> and local <code>wd</code>s,
            thanks to <a href="https://github.com/yakticus">Julie Pitt</a>
</li>
          <li>
            Set a default heap limit of 500 megabytes to the <code>amm</code> standalone
            executable, so it no longer grows to the &quot;default&quot; of 1/4 your system
            memory (typically multiple gigabytes) unnecessarily. If you need to
            give it more memory, start it with <code>JAVA_OPTS=-Xmx1500M amm</code>
</li>
          <li>
            <a href="https://github.com/lihaoyi/Ammonite/issues/453">#453</a> Avoid un-wrapping <code>{...}</code> blocks in scripts, leaving
            the unwrapping of <a href="#BlockInput">Block Input</a> only a feature of the interactive
            REPL


</li></ul>
      <h3 id="0.7.5" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.7.5" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.7.5</h3>
        <ul>
          <li>
            <code>-s</code> cmd line switch makes ivy logs silent, though failures
            will still be thrown as exception. Thanks to <a href="https://github.com/coderabhishek">coderabhishek</a>.</li>
          <li>
            Added <code>show</code> and <code>typeOf</code> back into the default REPL
            imports, since they are pretty useful</li>
          <li>
            <code>write.over</code> in <a href="#Ammonite-Ops">Ammonite-Ops</a> should now properly
            truncate files if the thing being written is shorter than the
            original <a href="https://github.com/lihaoyi/Ammonite/issues/441">#441</a></li>
          <li>
            Ammonite no longer incorrectly allows multiple expressions to be
            evaluated on the same line <a href="https://github.com/lihaoyi/Ammonite/issues/446">#446</a></li>
          <li>
            Compilation errors when there are multiple statements in a block
            will no longer have redundant semicolons prefixed onto them <a href="https://github.com/lihaoyi/Ammonite/issues/439">#439</a></li>
          <li>
            Improved the line-number-reporting in certain cases where you use
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file.*</code>
</li></ul>
      <h3 id="0.7.4" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.7.4" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.7.4</h3>
        <ul>
          <li>
            Fix publication of artifacts for non-{2.11.8, 2.10.5} Ammonite versions
</li></ul>
      <h3 id="0.7.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.7.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.7.3</h3>
        <ul>
          <li>
            Actually avoid importing all the <a href="#ReplAPI">Repl API</a> functions into
            local scope, for reals
</li></ul>
      <h3 id="0.7.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.7.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.7.2</h3>
        <ul>
          <li>
            Hygienified the default namespace by avoiding importing all the
            <a href="#ReplAPI">Repl API</a> functions into local scope, instead leaving them
            inside the <code>repl</code> object. <b>This is a backwards incompatible
            change!</b></li>
          <li>
            Separated the APIs available from scripts (<code>load.*</code> and
            <code>resolvers</code> in the <code>interp</code> object)
            from those available from the REPL (in the <code>repl</code> object).
            <code>repl</code> is not available when running scripts, unless you pass in
            the <code>--repl-api</code> flag at the command line.</li>
          <li>
            If you want to maintain the old behavior, e.g. for backwards-compat,
            put a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import repl._</code> in your <code>~/.ammonite/predef.sc</code> and
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import interp._</code> in your <code>~/.ammonite/predefShared.sc</code> to
            bring everything back into scope again.</li>
          <li>
            <code>predef.sc</code> now only applies to the interactive REPL. If you
            want predef code that applies to scripts use <code>predefScript.sc</code>,
            or if you want predef code that applies to both you can use
            <code>predefShared.sc</code>.</li>
          <li>
            Added a version of <a href="#desugar">desugar</a> to Scala 2.10.x. It doesn't
            print things as prettily/accurately as the 2.11.x version, but it's
            better than nothing.</li>
          <li>
            Changed the syntax for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file</code> segments outside your
            current directory from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file.`..`.foo</code> to
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file.^.foo</code>. This makes it a lot shorter and
            mitigates a problems caused by the file-name being too long.</li>
          <li>
            You can now use a <code>JAVA_OPTS</code> environment variable to pass flags
            to the JVM when starting Ammonite, thanks to <a href="https://github.com/sscarduzio">Simon Scarduzio</a></li>
          <li>
            Running scripts outside the current working directory tree, as well as
            scripts with non-alphanumeric symbols in their file path, now works
            thanks to <a href="https://github.com/coderabhishek">coderabhishek</a></li>
          <li>
            Scripts without the <code>.sc</code> can now be run directly from the command line
            rather than throwing an <code>IndexOutOfBoundsException</code>, thanks to
            <a href="https://github.com/coderabhishek">coderabhishek</a></li>
          <li>
            Modularized Ammonite's internals; the main module <code>ammonite</code> has now
            been broken into 5 smaller modules for maintainability. This in
            itself should not be visible to the outside world, but be sure to
            report any bugs!
</li></ul>
      <h3 id="0.7.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.7.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.7.0</h3>
        <ul>
          <li>
            Backwards incompatibly changes the extensions from Scripts and Predef
            files from <code>.scala</code> to <code>.sc</code>, to avoid problems with SBT
            discovering and trying (and failing) to compile them as normal Scala
            files.</li>
          <li>
            Script files vastly faster to run once cached (~0.5s fixed overhead,
            instead of ~5s I was seeing before): faster classpath scanning, with
            much more aggressive and robust caching, thanks to <a href="https://github.com/coderabhishek">coderabhishek</a> who is
            working on this over GSOC</li>
          <li>
            Fixed a performance regression and greatly sped up pasting text into
            the REPL</li>
          <li>
            The behavior of <code>Ctrl p</code> and <code>Ctrl n</code> have been tweaked to
            be more consistent with other readline implementations.</li>
          <li>
            <a href="#MagicImports">Magic Imports</a> now exist! This should provide a much more
            intuitive way of importing other files and depending on ivy
            artifacts, without all the fumbling with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@</code> that the
            old <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.foo</code> functions required</li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.exec</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code> are
            now largely superseded by <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $file</code>,
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $exec</code>, and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import $ivy</code></li>
          <li>
            The way you pass in <a href="#ScriptArguments">Script Arguments</a> to a script, has been
            totally revamped, and should be faster, more intuitive, and provide
            better error messages when things go wrong</li>
          <li>
            Added a new top-level doc-site chapter on <a href="#ScalaScripts">Scala Scripts</a>.
            This reflects their promotion from &quot;quick hack that was a pain in
            the neck to actually use&quot; to
            &quot;something that actually feels pretty nice to use&quot;. If you've tried
            running Ammonite scripts earlier and was totally turned off, it's
            worth another shot.</li>
          <li>
            Most of Ammonite now works on Windows, with the exception of the
            interactive REPL using <code>AmmoniteFrontEnd</code>, thanks to
            <a href="https://github.com/coderabhishek">coderabhishek</a> who worked
            on this over GSOC.</li>
          <li>
            Started doing Continuous Deployment of the Ammonite project's
            artifacts and executables; now, any set of commits that get pushed
            or merged into master will be published immediately, with this
            documentation-site being updated, the standalone executable being
            uploaded to <a href="https://github.com/lihaoyi/Ammonite/releases/tag/snapshot-commit-uploads">Github Releases</a>,
            the Ivy artifacts being uploaded to maven central, and instructions
            for downloading/installing it shown in the <a href="#UnstableVersions">Unstable Versions</a>
            section below. Any PRs that get merged are published and become
            available within an hour or two, so the author and anyone else can
            begin using them.
</li></ul>
    <h2 id="0.6.x" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.6.x" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.6.x</h2>
      <h3 id="0.6.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.6.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.6.2</h3>
        <ul>
          <li>
            Fix <a href="https://github.com/lihaoyi/Ammonite/issues/403">#403</a>: Errors are silently swallowed in 0.6.1
</li></ul>
      <h3 id="0.6.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.6.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.6.1</h3>
        <ul>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/400">#400</a>: load.exec in predef.scala causes NPE in 0.5.9 or 0.6.0</li>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/398">#398</a>: by default, using Ammonite inside a SBT project uses the
            old <code>~/.ammonite/</code> storage folder, not the <code>InMemory</code> storage system.
            This restores the pre-0.5.9 behavior</li>
          <li>
            Fix regression causing BACKSPACE to not work while performing a
            history-search</li>
          <li>
            More internal refactoring
</li></ul>
      <h3 id="0.6.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.6.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.6.0</h3>
        <ul>
          <li>
            Made <a href="#browse">browse</a> use the process current working directory if
            there's no implicit path in scope, since most times it doesn't matter</li>
          <li>
            Make the welcome banner &quot;Welcome to the Ammonite Repl...&quot; customizable</li>
          <li>
            Fixed bug where triggering autocomplete resulted in a broken REPL session</li></ul>
    <h2 id="0.5.x" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.x" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.x</h2>
      <h3 id="0.5.9" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.9" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.9</h3>
        <ul>
          <li>
            Introduced the <a href="#desugar">desugar</a> helper to <a href="#Ammonite-REPL">Ammonite-REPL</a>,
            letting you easily see what the compiler is transforming your code
            into before it gets run.</li>
          <li>
            Prefix <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">_root_</code> to imports from packages, which should
            reduce the chance of naming collisions</li>
          <li>
            Improved source locations for error messages: now failures in
            scripts have a filename matching the name of the script (instead of
            <code>Main.scala</code>), and line numbers matching the original line
            numbers (instead of the line numbers in the synthetic code) thanks
            to <a href="https://github.com/coderabhishek">coderabhishek</a></li>
          <li>
            Failures in scripts run using Ammonite from the command line or via
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module</code> should show only the meaningful error and not
            irrelevant internal stacktraces</li>
          <li>
            Wrapper names are now greatly simplified; now the names of wrapper
            objects for scripts match the name of the script (e.g.
            <code>MyScript</code>) rather than based on the code hash (e.g.
            <code>cache5a8890cd7c2ab07eea3fe8d605c7e188</code>)</li>
          <li>
            Placed most synthetic code into packages; loaded scripts go into
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.scripts</code> and code entered at the REPL goes in
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.session</code>.</li>
          <li>
            Wrote some basic <a href="https://github.com/lihaoyi/Ammonite/tree/master/internals-docs">Internals Documentation</a>
            in case people want to read about the internal workings of Ammonite
            in a way that's easier than digging through tons of code.</li>
          <li>
            Changed the interface for <a href="#Embedding">Embedding</a> Ammonite to make
            configuring the Ammonite REPL before invoking it programmatically
            much more consistent.</li>
          <li>
            Moved tools such as <a href="#grep">grep</a>, <a href="#time">time</a>,
            <a href="#browse">browse</a> from <a href="#Ammonite-Shell">Ammonite-Shell</a> into the base
            <a href="#Ammonite-REPL">Ammonite-REPL</a>, and made them imported by default, so
            everyone can enjoy them by default.</li>
          <li>
            Imported the various <a href="#Extensions">pipe operations</a> from
            <a href="#Ammonite-Ops">Ammonite-Ops</a>: aliasing <code>.map</code> as <code>|</code>,
            <code>.filter</code> as <code>|?</code>, etc. to make it more convenient to use
            tools like <a href="#grep">grep</a> from the base REPL</li>
          <li>
            Massive internal refactors to try and clean up the Ammonite codebase
            and get it ready for future work; if you find any bugs please report
            them!</li>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/393">#393</a>: REPL requires two carriage returns to move to a new line</li>
          <li>
            Compiler settings set in the predef now get preserved when the
            session starts, and when replacing compilers, thanks to
            <a href="https://github.com/tpolecat">Rob Norris</a></li>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/395">#395</a>: Fixed resolver pattern for local ivy, thanks to
            <a href="https://github.com/aishfenton">Aish Fenton</a></li>
          <li>
            Fixed the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">kill</code> command in Ammonite-Ops, thanks to
            <a href="https://github.com/Atry">æ¨åš</a></li>
          <li>
            Unknown Ansi escape codes now have their <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">'\u001b'</code>
            escape character removed, rather than messing up the REPL rendering
</li></ul>
      <h3 id="0.5.8" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.8" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.8</h3>
        <ul>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write</code> has been generalized to work on any combination of
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Array</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Traversable</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Iterator</code>.
            e.g. <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write(foo: Iterator[Iterator[Array[String]]])</code></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write</code> no longer inserts newlines between items by default.</li>
          <li>
            Introduced the <a href="#browse">browse</a> helper to <a href="#Ammonite-Shell">Ammonite-Shell</a>,
            letting you easily open up large data structures in external editors
            like Vim or Emacs to browse them without spamming the console</li>
          <li>
            Improved the error messages for invalid <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code> segments to
            make them more specific and suggest alternatives to what a user is
            trying to do.</li>
          <li>
            Broke out the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">FilePath</code> sub-trait from the
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">BasePath</code> trait, to differentiate those
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">BasePath</code>s are filesystem paths and can be constructed from
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.nio.file.Path</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.io.File</code>s
            (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>)from those which can't
            (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ResourcePath</code>)</li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path.makeTemp</code> has been renamed <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">tmp()</code> and
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">tmp.dir()</code></li>
          <li>
            Arrow-keys now work properly in the previously odd case where they
            were creating <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">\u033O{A,B,C,D}</code>&quot; codes instead of
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">\u033[{A,B,C,D}</code> codes</li>
          <li>
            Converted all string-encoding methods to take a
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">scala.io.Codec</code> instead of a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code> or
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Charset</code>, letting you pass in either of those types and
            having it be implicitly converted.
</li></ul>
      <h3 id="0.5.7" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.7" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.7</h3>
        <ul>
          <li>
            Improved performance of various <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read!</code> commands to be
            competitive with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.nio</code> (<a href="https://github.com/lihaoyi/Ammonite/issues/362">#362</a>)</li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read!</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.lines!</code> now take an optional
            charset, passed via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read(file, charSet: String)</code> or
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.lines(file, charSet: String)</code> which defaults to
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;utf-8&quot;</code></li>
          <li>
            Make <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read! resource</code> read from the
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Thread.currentThread.getContextClassLoader</code> by default,
            fixing <a href="https://github.com/lihaoyi/Ammonite/issues/348">#348</a></li>
          <li>
            Re-organize <a href="#ReadingResources">Reading Resources</a> in Ammonite-Ops to allow
            proper handling of absolute and relative resources by passing in
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Class</code>s or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ClassLoader</code>s</li>
          <li>
            Make <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read!</code> work on <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">InputStream</code>s</li>
          <li>
            Renamed <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">InputPath</code> to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Readable</code>, a more
            appropriate name now that it works on two different non-path entities
            (resources and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">InputStream</code>s)</li>
          <li>
            Bump uPickle and PPrint to 0.3.9</li>
          <li>
            Now published for Scala 2.11.8, thanks to <a href="https://github.com/ckampfe">Clark Kampfe</a></li></ul>
      <h3 id="0.5.6" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.6" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.6</h3>
        <ul>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/341">#341</a>: stack overflow when <code>ls</code>ing large directories</li>
          <li>
            Fixed regression preventing you from running scripts via
            <code>./amm</code> using relative paths <a href="https://github.com/lihaoyi/Ammonite/issues/353">#353</a></li>
          <li>
            Ammonite should be more robust when interacting with other compiler
            plugins</li>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/352">#352</a>: imports now don't get improperly collapsed, and defining
            a value called <code>repl</code> no longer borks your session.</li>
          <li>
            Improved readline-emulation of <code>AmmoniteFrontEnd</code>: <code>Ctrl-T</code>
            and <code>Alt-T</code> now properly transpose characters and words, and the
            kill-ring now properly aggregates multiple consecutive kills.</li>
          <li>
            Added asserts to <code>rm</code> <code>cp</code> and <code>mv</code> to prevent you
            from removing the root folder, or copying/moving folders into
            themselves.</li>
          <li>
            <a href="#Undo&amp;Redo">Command-line-undo</a> via <code>Ctrl -</code> and
            redo via <code>Esc/Alt -</code> are now supported.</li>
          <li>
            Page-up and Page-down (fn-up and fn-down on Macs) scrolls through
            history when used at the start/end of input, allowing you to use
            page-up/page-down to quickly scroll through history with lots of
            multi-line blocks.
</li></ul>
      <h3 id="0.5.5" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.5" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.5</h3>
        <ul>
          <li>
            Experimental support for Ammonite-Ops in Windows! I haven't tested
            it but basic CI passes <a href="https://ci.appveyor.com/project/lihaoyi/ammonite">here</a>, so try it out
            and let me know if there are problems (<a href="https://github.com/lihaoyi/Ammonite/issues/120">#120</a>)</li>
          <li>
            Changes around Ammonite-Ops's definition of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s: they
            now wrap a <code>java.nio.file.Path</code> (<a href="https://github.com/lihaoyi/Ammonite/issues/346">#346</a>), and thus can be used on
            Windows, on multiple drives, or with virtual filesystems such as
            <a href="https://github.com/google/jimfs">JimFS</a>.</li>
          <li>
            Construction of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s from various types
            (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.nio.file.Path</code>,
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.io.File</code>) is much more well behaved &amp; consistent now.
            See <a href="#ConstructingPaths">Constructing Paths</a> for details.</li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.resource! root/'foo</code> is now
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read! resource/'foo</code></li>
          <li>
            Parser improvements which fix bugs when trying to write some
            multi-line snippets <a href="https://github.com/lihaoyi/Ammonite/issues/343">#343</a></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cp</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">mv</code> now have <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.into</code> and
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.over</code> modes <a href="https://github.com/lihaoyi/Ammonite/issues/206">#206</a></li>
          <li>
            Wrapping content is automatically shifted onto a new line, to avoid
            problems when copying and pasting <a href="https://github.com/lihaoyi/Ammonite/issues/205">#205</a></li>
          <li>
            Thrown exceptions are now made available to you in the REPL under
            the <code>repl.lastException</code> variable <a href="https://github.com/lihaoyi/Ammonite/issues/289">#289</a>, in case you need more
            metadata from it or you want the stack-trace of a
            non-printed-by-default exception (e.g. <code>ThreadDeath</code> due to
            <code>Ctrl-C</code>). Thanks to <a href="https://github.com/coderabhishek">coderabhishek</a>!</li>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/280">#280</a>: Ammonite REPL confused by singleton types</li></ul>
      <h3 id="0.5.4" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.4" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.4</h3>
        <ul>
          <li>
            Improve the pretty-printing for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Range.Inclusive</code> <a href="https://github.com/lihaoyi/Ammonite/issues/337">#337</a>,
            thanks to <a href="https://github.com/Saheb">Saheb</a></li>
          <li>
            More fixes to shadowing behavior of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">type</code>s and
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">val</code>s <a href="https://github.com/lihaoyi/Ammonite/issues/199">#199</a></li>
          <li>
            Pressing <code>BACKSPACE</code> now drops you out of history-browsing
            properly, preserving your edits if you then press <code>ENTER</code>
            without entering any other characters <a href="https://github.com/lihaoyi/Ammonite/issues/338">#338</a></li></ul>
      <h3 id="0.5.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.3</h3>
        <ul>
          <li>
            Added support for multi-line prompts, thanks to
            <a href="https://github.com/thirstycrow">thirstycrow</a></li>
          <li>
            Fix <a href="https://github.com/lihaoyi/Ammonite/issues/312">#312</a> lsing empty directory gives error, thanks to
            <a href="https://github.com/coderabhishek">coderabhishek</a></li>
          <li>
            Implemented <a href="#HistorySearch">History Search</a>, also known as
            reverse-i-search/Ctrl-R</li>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/325">#325</a>: error due to function types with by-name parameters</li>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/258">#258</a>: java.util.NoSuchElementException: head of empty list
            in Ammonite-REPL</li>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/198">#198</a>: NoSuchElementException thrown in REPL when using a type
            alias to refer to a shapeless coproduct</li>
          <li>
            Warnings can now be enabled with the flag
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">compiler.settings.nowarn.value = false</code></li>
          <li>
            Stopped Ivy from spitting out countless useless <code>unknown
            resolver null</code> warnings when resolving dependencies (<a href="https://github.com/lihaoyi/Ammonite/issues/144">#144</a>)</li>
          <li>
            Fixed edge cases around import shadowing and sequencing (<a href="https://github.com/lihaoyi/Ammonite/issues/199">#199</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/248">#248</a>)</li>
          <li>
            Started the <a href="#AmmoniteCookbook">Ammonite Cookbook</a>, examples of using the
            Ammonite REPL to do useful work.

</li></ul>
      <h3 id="0.5.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.2</h3>
        <ul>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/80">#80</a> Support artifact resolvers to load libraries not
            published to maven central , by
            <a href="https://github.com/etorreborre">Eric Torreborre</a></li>
          <li>
            Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/310">#310</a>: java.util.NoSuchElementException: None.get
            on Shift+Tab without selection f, by
            <a href="https://github.com/senia-psm">senia-psm</a></li></ul>
      <h3 id="0.5.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.1</h3>
        <ul>
          <li>
            Fix performance regression causing slowness when C&amp;Ping large
            snippets <a href="https://github.com/lihaoyi/Ammonite/issues/274">#274</a></li>
          <li>
            Added the ability to pass <a href="#ScriptArguments">Script Arguments</a> to Ammonite
            scripts from an external command line (e.g. bash) <a href="https://github.com/lihaoyi/Ammonite/issues/277">#277</a></li>
          <li>
            Iterator-returning commands like <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls!!</code> <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec!!</code>
            and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.lines!!</code> have been renamed <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.iter!</code>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec.iter!</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.lines.iter!</code>, to help cut
            down on cryptic operators</li>
          <li>
            Added the <a href="#time">time</a> command to Ammonite-Shell, roughly
            equivalent to the bash <code>time</code> command, allowing easy timing of
            simple commands</li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec</code> now exposes basic configurability of the recursion,
            allowing you to skip directories or controlling the pre/post-order
            of results</li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>s no longer permit
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;.&quot;</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;..&quot;</code> as a path segment <a href="https://github.com/lihaoyi/Ammonite/issues/215">#215</a></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>s now us
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Vector[String]</code> instead of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq[String]</code> as the
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">segments</code> data-structure, promising more consistent
            semantics</li>
          <li>
            Pretty-printing of the results of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls!</code> now properly gets
            truncated when too large <a href="https://github.com/lihaoyi/Ammonite/issues/209">#209</a></li>
          <li>
            Cross-build for 2.10.6 <a href="https://github.com/lihaoyi/Ammonite/issues/282">#282</a></li>
          <li>
            Refactor of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">CommandResult</code> type being returned from the
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> operator, to now properly capture the raw byte output,
            stdout, stderr, exit code. See <a href="#SpawningSubprocesses">Spawning Subprocesses</a> for
            details. <a href="https://github.com/lihaoyi/Ammonite/issues/207">#207</a></li>
          <li>
            Added a new <a href="#grep">grep</a> command.</li>
          <li>
            Added support for word navigation with Ctrl+Arrow in Linux (<a href="https://github.com/lihaoyi/Ammonite/issues/217">#217</a>),
            thanks to <a href="https://github.com/cranst0n">Ian McIntosh</a></li>
          <li>
            Moved the initialization calls from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.Repl.run</code>
            and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.Repl.debug</code> into
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.Main.run</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.Main.debug</code></li></ul>
      <h3 id="0.5.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.0</h3>
        <ul>
          <li>
            Fixed <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">def&lt;tab&gt;</code> auto-complete crasher <a href="https://github.com/lihaoyi/Ammonite/issues/257">#257</a>, thanks to
            <a href="https://github.com/edwardsmatt">Matthew Edwards</a>!</li>
          <li>
            Fixed input-height bug around multi-line selection that would
            case the prompt to fly up the console</li>
          <li>
            Multi-line-select tab-indent (and shift-tab-dedent) now works!</li>
          <li>
            Pressing <code>[Enter]</code> now only submits the input if your cursor
            is at the bottom</li>
          <li>
            Added a powerful <a href="#Save/LoadSession">Save/Load Session</a> API, letting you save
            your work at any point in time and return to it later.</li>
          <li>
            Compiled-code-caches are now properly invalidated when you change
            project-code while using Ammonite as a REPL for an existing SBT project.</li>
          <li>
            Simplify the way shelling to to run files as subprocesses works,
            and align with documentation (<a href="https://github.com/lihaoyi/Ammonite/issues/234">#234</a>)
</li></ul>
    <h2 id="0.4.x" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.x" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.x</h2>
      <h3 id="0.4.9" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.9" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.9</h3>
        <ul>
          <li>
            Update to fastparse/scalaparse 0.3.1</li>
          <li>
            Fix for perennial classpath problems, thanks to
            <a href="https://github.com/jrudolph">Johannes Rudolph</a>!</li>
          <li>
            Fix wildcard-imports from Java libraries like Joda or Guava <a href="https://github.com/lihaoyi/Ammonite/issues/213">#213</a></li>
          <li>
            Added an MIT license</li>
          <li>
            Slightly more robust tab completion <a href="https://github.com/lihaoyi/Ammonite/issues/252">#252</a>, thanks to
            <a href="https://github.com/ssanj">Sanjiv Sahayam</a>!</li>
          <li>
            Properly handly EOF in standard input <a href="https://github.com/lihaoyi/Ammonite/issues/242">#242</a>, thanks to
            <a href="https://github.com/patrick-premont">Patrick Premont</a>!</li></ul>
      <h3 id="0.4.8" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.8" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.8</h3>
        <ul>
          <li>
            Swapped to G1 garbage collector to
            <a href="https://github.com/lihaoyi/Ammonite/issues/216">reduce unnecessary memory footprint</a></li>
          <li>
            Allow splicing <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq[String]</code>s into subprocess arguments</li>
          <li>
            Fix source packaging which was causing problems with ensime</li>
          <li>
            Allow shebang line to make Ammonite scripts more conveniently executable</li>
          <li>
            Robustify line-breaking-logic</li></ul>
      <h3 id="0.4.7" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.7" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.7</h3>
        <ul>
          <li>
            Path-completion now works when using Ammonite as a filesystem shell</li>
          <li>
            Ammonite's filesystem functionality (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cd!</code>,
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">wd</code>, path-completion) has been pulled out of
            Ammonite-REPL, and is now available separately as
            <a href="#Ammonite-Shell">Ammonite-Shell</a>.</li>
          <li>
            Improve the pretty-printing of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls</code> and
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec</code> commands</li>
          <li>
            Ammonite can now be used as a <a href="#RemoteREPL">Remote REPL</a> into an
            already-running Scala process, letting you SSH in to poke around at
            any time while it's running, thanks to <a href="https://github.com/dant3">Viacheslav Blinov</a></li>
          <li>
            Fix execution of files via symbols in the current working directory.</li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Load.ivy</code> now properly attempts to load artifacts from
            the local <code>~/.ivy/cache</code>, <code>~/.ivy/local</code> and <code>~/.m2</code>
            folders, before fetching from maven central</li>
          <li>
            Wrote up a good amount of documentation for
            <a href="#Ammonite-Shell">Ammonite-Shell</a>: using Ammonite as a Bash replacement</li></ul>
      <h3 id="0.4.6" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.6" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.6</h3>
        <ul>
          <li>
            Provide a way of <a href="#InvokingFiles">Invoking Files</a> and passing
            <a href="#EnvironmentVariables">Environment Variables</a></li>
          <li>
            Documented existing approach for setting <a href="#CompilerFlags">Compiler Flags</a></li>
          <li>
            Fixed a bug in the readline re-implementation causing barely-full
            lines in the terminal to mess up cursor positioning and line re-drawing</li>
          <li>
            Remove <code>cache1234567890abcdef1234567890abcdef</code> objects from
            the autocomplete list, because they're not helpful</li>
          <li>
            Trim all the useless members of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Any</code> from the default
            import lists.</li>
          <li>
            Fix a file-handle-leak for most usages of <code>read.lines</code> and
            <code>ls</code>/<code>ls.rec</code></li>
          <li>
            Fix bugs <a href="https://github.com/lihaoyi/Ammonite/issues/186">#186</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/152">#152</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/149">#149</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/180">#180</a></li></ul>
      <h3 id="0.4.5" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.5" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.5</h3>
        <ul>
          <li>
            Fix for running Ammonite using OpenJDK, thanks to
            <a href="https://github.com/jrudolph">Johannes Rudolph</a></li>
          <li>
            Support for HOME and END keys, thanks to <a href="https://github.com/jrudolph">Johannes Rudolph</a></li>
          <li>
            Fix for incorrect syntax highlighting (<a href="https://github.com/lihaoyi/Ammonite/issues/159">#159</a>)</li>
          <li>
            Support for loading compiler plugins, thanks to
            <a href="https://github.com/alexarchambault">Alexandre Archambault</a></li>
          <li>
            You can now use Ammonite as a <a href="#Debugging">Debugging</a> tool like Python's
            pdb, placing an interactive breakpoint anywhere within a normal
            Scala application
</li></ul>
      <h3 id="0.4.4" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.4" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.4</h3>
        <ul>
          <li>
            <a href="https://github.com/lihaoyi/Ammonite/pull/153">Lots</a>
            <a href="https://github.com/lihaoyi/Ammonite/pull/158">and</a>
            <a href="https://github.com/lihaoyi/Ammonite/pull/157">lots</a> of
            terminal improvements, courtesy of <a href="https://github.com/non">Erik Osheim</a></li>
          <li>
            Only the last <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@</code>-delimited block in a script loaded
            via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module</code> gets its names dumped into the REPL's
            environment now, letting you create some semblance of hygiene,
            thanks to <a href="https://github.com/laci37">Laszlo Mero</a></li></ul>
      <h3 id="0.4.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.3</h3>
        <ul>
          <li>
            Remove embarrassing debug println left behind in autocomplete code</li>
          <li>
            Fix <code>pathSeparator</code> so Ammonite-REPL is at least
            basically-runnable on windows, although buggy</li>
          <li>
            Update to more robust version of pprint to fix <a href="https://github.com/lihaoyi/Ammonite/issues/140">#140</a></li></ul>
      <h3 id="0.4.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.2</h3>
        <ul>
          <li>
            Fix <a href="https://github.com/lihaoyi/Ammonite/issues/139">#139</a>: Can't fix typos?</li>
          <li>
            Fix bad wrapping of long lines in ammonite-repl</li></ul>
      <h3 id="0.4.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.1</h3>
        <ul>
          <li>
            Fix crasher running the REPL on new machines</li></ul>
      <h3 id="0.4.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.0</h3>
        <ul>
          <li>
            Re-added support for 2.10.x, minus features that don't work in it
            (e.g. scope-aware type-printing)</li>
          <li>
            Added a <a href="#Ammonite-REPL">standalone distributable</a> that comes
            bundled with Scala 2.10.4 or 2.11.7, letting you quickly load and
            experiment with libraries without SBT</li>
          <li>
            User input now has <a href="#SyntaxHighlighting">Syntax Highlighting</a> by default!</li>
          <li>
            Exception stack traces are now <a href="#SyntaxHighlighting">highlighted</a> as well, to make them easier to read</li>
          <li>
            <a href="#Pretty-printedoutput">Pretty-printing</a> has been
            extracted into a separate project, and aside from that is greatly
            improved. Many more common cases (e.g. sealed trait hierarchies)
            are now pretty-printed rather than falling back to <code>toString</code></li>
          <li>
            Exposed the <a href="#ConfigurableTruncation">show</a> function
            by default, letting you pretty-print any value with custom
            configuration (wrapping-width, truncation-height, colors, ...)</li>
          <li>
            Fixed cases where PPrint/TPrint was causing compilation errors</li>
          <li>
            Persistent data is now stored in a <code>~/.ammonite</code> folder. This
            includes <code>~/.ammonite/history</code>,
            <code>~/.ammonite/predef.scala</code>, and various cache, thanks to
            <a href="https://github.com/laci37">Laszlo Mero</a></li>
          <li>
            You can now define a <code>~/.ammonite/predef.scala</code>
            <a href="#Configuration">Configuration</a> file which will be executed the first
            thing when the Ammonite REPL is loaded. This is useful for common
            imports, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code>ing libraries, or other configuration
            for your REPL</li>
          <li>
            Added the ability to load arbitrary <a href="#ScriptFiles">Script Files</a> via
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.exec</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module</code>, thanks to
            <a href="https://github.com/laci37">Laszlo Mero</a></li>
          <li>
            <a href="#Configuration">Configuration</a> that was previously passed into the
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">REPL</code>s constructor is now done in-REPL,</li>
          <li>
            <a href="#Editing">Multi-line editing and other features</a> via a
            custom terminal interface that should behave just like readline, but
            with added conveniences.</li>
          <li>
            Removed the ability to reload classes; using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code> no
            longer causes all existing values to be lazily recomputed.</li>
          <li>
            Added the <a href="#FilesystemOperations">cd! and wd</a>
            built-ins to make working with filesystem operations via
            <a href="#Ammonite-Ops">Ammonite-Ops</a> more pleasant</li>
          <li>
            Evaluated values of type <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Unit</code> are no longer echo-ed to
            the user</li>
          <li>
            Performance improvements to the startup time of the REPL, with
            <a href="https://github.com/lihaoyi/Ammonite/issues/135">more to come</a></li>
          <li>
            Third-party library resolution via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code> is now cached
            after the first call, letting you e.g. load libraries in your
            <code>~/.ammonite/predef.scala</code> without waiting for the slow
            ivy-resolution every startup</li>
          <li>
            Standardized the use of <a href="#Refs">Refs</a> for configuration, including
            the ability to bind them &quot;live&quot; to the value of an expression.</li>
          <li>
            Allows you to trivially <a href="#SpawningSubprocesses">spawn subprocesses</a>, letting you run <code>git</code> commands, edit
            files via <code>vim</code>, open <code>ssh</code> sessions or even start
            <code>SBT</code> or <code>Python</code> shells right from your Scala REPL</li></ul>
    <h2 id="0.3.x" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.3.x" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.3.x</h2>
      <h3 id="0.3.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.3.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.3.2</h3>
        <ul>
          <li>
            Fix pretty-printing of higher-kinded types.</li>
          <li>
            Drop support for 2.10.x; ammonite is 2.11.x-only now
</li></ul>
      <h3 id="0.3.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.3.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.3.1</h3>
        <ul>
          <li>
            Many of the collection <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">PPrint</code>s are much lazier and will
            avoid stringifying the whole collection if it's going to get truncated
            anyway.</li>
          <li>
            Types now get printed semi-qualified (depending on what's in scope),
            with simple highlighting.</li>
          <li>
            You can define custom <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">TPrint[T]</code>s to provide custom
            printing for any type.</li>
          <li>
            Operator-named two-param generic types are now printed infix by
            default.
</li></ul>
      <h3 id="0.3.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.3.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.3.0</h3>
        <ul>
          <li>
            allow <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">predef</code> parameter to be passed into
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Main.run()</code> call, letting you configure initialization
            commands or imports</li>
          <li>
            Compilation errors in expressions no longer show synthetic code in
            the message</li>
          <li>
            Ivy module loading now lets you configure verbosity level</li>
          <li>
            Defining macros in the REPL and using them in subsequent lines now
            works</li>
          <li>
            Output lines are now truncated past a certain length, which is
            configurable, thanks to <a href="https://github.com/laci37">Laszlo Mero</a>
</li></ul>
    <h2 id="0.2.x" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.2.x" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.2.x</h2>
      <h3 id="0.2.9" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.2.9" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.2.9</h3>
        <ul>
          <li>
            Lots of improvements to <code>Ctrl-C</code> and <code>Ctrl-D</code> handling, to
            make it behave more like other REPLs
</li></ul>
      <h3 id="0.2.8" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.2.8" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.2.8</h3>
        <ul>
          <li>
            Fix <a href="https://github.com/lihaoyi/Ammonite/issues/47">#47</a>: PPrint derivation fails with nested case class</li>
          <li>
            Fix <a href="https://github.com/lihaoyi/Ammonite/issues/14">#14</a>: Exception when trying to use Ammonite REPL <a href="https://github.com/lihaoyi/Ammonite/issues/15">#15</a> by cross
            building against Scala 2.10.{3,4,5} and 2.11.{3,4,5,6}</li>
          <li>
            Autocomplete results are sorted alphabetically (Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/42">#42</a>)</li>
          <li>
            Fix <a href="https://github.com/lihaoyi/Ammonite/issues/39">#39</a>: nothing echoed on multiple import</li>
          <li>
            Importing things from Java packages now works properly</li>
          <li>
            Capture Exceptions and expose them to repl as repl.lastException
            including exceptions causing Failures
</li></ul>
  <h1 id="UnstableVersions" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#UnstableVersions" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Unstable Versions</h1>
    <p>
      The page above contains the documentation for the latest stable version
      of Ammonite, <code>1.6.8</code>. Ammonite also publishes
      unstable versions, the latest of which is
      <code>1.6.8</code> and is available for direct
      download:
</p>
    <pre><code class="bash scalatex-site-Styles-highlightMe">$ sudo sh -c '(echo &quot;#!/usr/bin/env sh&quot; &amp;&amp; curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.13-1.6.8) &gt; /usr/local/bin/amm &amp;&amp; chmod +x /usr/local/bin/amm' &amp;&amp; amm
</code></pre>
    <p>
      On Cygwin, run the following after the above:
</p>
    <pre><code class="bash scalatex-site-Styles-highlightMe">$ sed -i '0,/&quot;\$0&quot;/{s/&quot;\$0&quot;/`cygpath -w &quot;\$0&quot;`/}' /usr/local/bin/amm
</code></pre>
    <p>
      The latest build can also be run as Windows batch; just save the following as amm.bat:
</p>
    <p>
      <a href="https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.13-1.6.8">https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.13-1.6.8</a>
</p>
    <p>
      For usage in a SBT project:
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">libraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite&quot; % &quot;1.6.8&quot; % &quot;test&quot; cross CrossVersion.full
</code></pre>
    <p>
      Ammonite also provides standalone unstable executables for older versions
      of Scala:
</p>
    
      <b>
        Scala 1.6.8/2.12-1.6.8
</b>
      <pre><code class="bash scalatex-site-Styles-highlightMe">$ sudo sh -c '(echo &quot;#!/usr/bin/env sh&quot; &amp;&amp; curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.6.8/2.12-1.6.8) &gt; /usr/local/bin/amm &amp;&amp; chmod +x /usr/local/bin/amm' &amp;&amp; amm</code></pre>
    <p>
      These unstable versions will contain any brand-new features that are
      currently being worked on, with the caveat that they are unstable and
      these features are subject to change or experimentation. They will
      generally work - the automated test suite is pretty comprehensive - but
      they are still more-likely to have bugs than numbered releases.</p>
    <p>
      Any pull-request that gets merged into master is published as an unstable
      version automatically within an hour or two of being merged, so if you
      notice some problem and know how to fix it, send a PR, get it merged, and
      you can use the published unstable version with your fix until the next
      numbered release.
</p>
    <h2 id="UnstableChangelog" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#UnstableChangelog" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Unstable Changelog</h2>
      <ul></ul>

</div>
</div><script>
    scalatex.scrollspy.Controller().main(
      [{"value":"Ammonite","children":[{"value":"Ammonite-REPL","children":[{"value":"Features","children":[{"value":"Pretty-printed output","children":[{"value":"Configurable Truncation","children":[]}]},{"value":"Editing","children":[{"value":"Syntax Highlighting","children":[]},{"value":"Multi-line editing","children":[]},{"value":"Desktop key-bindings","children":[]},{"value":"Console key-bindings","children":[]},{"value":"History Search","children":[]},{"value":"Block Input","children":[]},{"value":"Undo & Redo","children":[]}]},{"value":"Magic Imports","children":[{"value":"import $file","children":[{"value":"Imported Scripts are Re-used","children":[]},{"value":"Cannot directly import from inside a Script","children":[]},{"value":"Renamed-scripts and multiple-scripts","children":[]}]},{"value":"import $exec","children":[]},{"value":"import $ivy","children":[]}]},{"value":"Builtins","children":[{"value":"Repl API","children":[]},{"value":"Utilities","children":[{"value":"source","children":[]},{"value":"time","children":[]},{"value":"grep","children":[]},{"value":"browse","children":[]},{"value":"desugar","children":[]}]}]},{"value":"Save/Load Session","children":[]},{"value":"Superior Autocomplete","children":[]},{"value":"Interrupting run-away execution with Ctrl-C","children":[]},{"value":"Compiler-crash Robustness","children":[]},{"value":"Other Fixes","children":[]}]},{"value":"Configuration","children":[{"value":"Refs","children":[]},{"value":"Compiler Flags","children":[]},{"value":"JVM Flags","children":[]}]},{"value":"Embedding","children":[{"value":"Instantiating Ammonite","children":[]},{"value":"Debugging","children":[]},{"value":"Remote REPL","children":[]}]}]},{"value":"Scala Scripts","children":[{"value":"Script Files","children":[{"value":"Script Imports","children":[{"value":"Other Scripts","children":[]},{"value":"Ivy Dependencies","children":[]}]},{"value":"Multi-stage Scripts","children":[]},{"value":"Script Arguments","children":[]},{"value":"Ammonite Arguments in Scripts","children":[]},{"value":"Multiple Main Methods","children":[]},{"value":"Script Usage Docs","children":[]},{"value":"Bundled Libraries","children":[]},{"value":"Script Builtins","children":[]},{"value":"Script Predef","children":[]}]},{"value":"Running Scripts","children":[{"value":"From Bash","children":[]},{"value":"Watch and Reload","children":[]},{"value":"Script Debug REPL","children":[]},{"value":"From the REPL","children":[]},{"value":"Execution Model","children":[]},{"value":"SBT Integration","children":[]}]}]},{"value":"Ammonite-Ops","children":[{"value":"Paths","children":[{"value":"RelPaths","children":[]},{"value":"Path Operations","children":[]},{"value":"Constructing Paths","children":[]}]},{"value":"Operations","children":[{"value":"Operator Reference","children":[]},{"value":"Extensions","children":[{"value":"Traversable","children":[]},{"value":"Pipeable","children":[]},{"value":"Callable","children":[]}]},{"value":"Chaining","children":[]},{"value":"Reading Resources","children":[]},{"value":"Spawning Subprocesses","children":[{"value":"Environment Variables","children":[]},{"value":"Invoking Files","children":[]},{"value":"Current Working Directory","children":[]}]}]}]},{"value":"Ammonite-Shell","children":[{"value":"Shell Basics","children":[{"value":"Working Directory","children":[]},{"value":"Listing Files","children":[]},{"value":"Filesystem Operations","children":[]},{"value":"Piping","children":[]},{"value":"Subprocesses","children":[]}]},{"value":"Scripting","children":[{"value":"Scala Scripting","children":[]},{"value":"Typed Values","children":[]},{"value":"Scala/Java APIs","children":[]},{"value":"Writing/Loading Scripts","children":[]}]},{"value":"Design Decisions & Tradeoffs","children":[{"value":"Scala as the Language","children":[]},{"value":"Running on the JVM","children":[]},{"value":"Goals of Ammonite-Shell","children":[]}]}]},{"value":"Ammonite Cookbook","children":[{"value":"HTTP Requests","children":[]},{"value":"Scraping HTML","children":[]},{"value":"GUI Applications","children":[]},{"value":"Office Automation","children":[]},{"value":"Image Processing","children":[]},{"value":"Machine Learning","children":[]},{"value":"Play Framework Server","children":[]},{"value":"SQL Database","children":[]}]},{"value":"Reference","children":[{"value":"Community","children":[]},{"value":"Older Scala Versions","children":[]},{"value":"Talks","children":[]},{"value":"In the Wild","children":[]},{"value":"Scaladoc","children":[]},{"value":"Changelog","children":[{"value":"1.6.8","children":[]},{"value":"1.6.7","children":[]},{"value":"1.6.6","children":[]},{"value":"1.6.5","children":[]},{"value":"1.6.4","children":[]},{"value":"1.6.3","children":[]},{"value":"1.6.2","children":[]},{"value":"1.6.1","children":[]},{"value":"1.6.0","children":[]},{"value":"1.5.0","children":[]},{"value":"1.4.4","children":[]},{"value":"1.4.3","children":[]},{"value":"1.4.2","children":[]},{"value":"1.3.3","children":[]},{"value":"1.3.2","children":[]},{"value":"1.2.1","children":[]},{"value":"1.1.2","children":[]},{"value":"1.1.1","children":[]},{"value":"1.1.0","children":[]},{"value":"1.0.5","children":[]},{"value":"1.0.3","children":[]},{"value":"1.0.2","children":[]},{"value":"1.0.1","children":[]},{"value":"1.0.0","children":[]},{"value":"0.9.9","children":[]},{"value":"0.9.8","children":[]},{"value":"0.9.7","children":[]},{"value":"0.9.6","children":[]},{"value":"0.9.5","children":[]},{"value":"0.9.4","children":[]},{"value":"0.9.3","children":[]},{"value":"0.9.2","children":[]},{"value":"0.9.1","children":[]},{"value":"0.9.0","children":[]},{"value":"0.8.x","children":[{"value":"0.8.5","children":[]},{"value":"0.8.4","children":[]},{"value":"0.8.3","children":[]},{"value":"0.8.2","children":[]},{"value":"0.8.1","children":[]},{"value":"0.8.0","children":[]}]},{"value":"0.7.x","children":[{"value":"0.7.9","children":[]},{"value":"0.7.8","children":[]},{"value":"0.7.7","children":[]},{"value":"0.7.6","children":[]},{"value":"0.7.5","children":[]},{"value":"0.7.4","children":[]},{"value":"0.7.3","children":[]},{"value":"0.7.2","children":[]},{"value":"0.7.0","children":[]}]},{"value":"0.6.x","children":[{"value":"0.6.2","children":[]},{"value":"0.6.1","children":[]},{"value":"0.6.0","children":[]}]},{"value":"0.5.x","children":[{"value":"0.5.9","children":[]},{"value":"0.5.8","children":[]},{"value":"0.5.7","children":[]},{"value":"0.5.6","children":[]},{"value":"0.5.5","children":[]},{"value":"0.5.4","children":[]},{"value":"0.5.3","children":[]},{"value":"0.5.2","children":[]},{"value":"0.5.1","children":[]},{"value":"0.5.0","children":[]}]},{"value":"0.4.x","children":[{"value":"0.4.9","children":[]},{"value":"0.4.8","children":[]},{"value":"0.4.7","children":[]},{"value":"0.4.6","children":[]},{"value":"0.4.5","children":[]},{"value":"0.4.4","children":[]},{"value":"0.4.3","children":[]},{"value":"0.4.2","children":[]},{"value":"0.4.1","children":[]},{"value":"0.4.0","children":[]}]},{"value":"0.3.x","children":[{"value":"0.3.2","children":[]},{"value":"0.3.1","children":[]},{"value":"0.3.0","children":[]}]},{"value":"0.2.x","children":[{"value":"0.2.9","children":[]},{"value":"0.2.8","children":[]}]}]},{"value":"Unstable Versions","children":[{"value":"Unstable Changelog","children":[]}]}]}]}]
  )</script><script>
    ['DOMContentLoaded', 'load'].forEach(function(ev){
      addEventListener(ev, function(){
        Array.prototype.forEach.call(
          document.getElementsByClassName('scalatex-site-Styles-highlightMe'),
          hljs.highlightBlock
        );
      })
    })
  </script></body></html>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        